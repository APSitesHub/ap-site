"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[5621],{7807:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var i=t(55294),c=t(60091),n=t(8313),r=t(31356),a=t(72791),l=t(57689),d=t(72666),u=t(32244),h=t(16205),o=t(80184);const p=()=>{const e=(0,l.TH)().pathname.split("/speakings/")[1],[s,t]=(0,a.useState)(!1),[p,x]=(0,a.useState)([]),[k,j]=(0,a.useState)(""),[m,g]=(0,a.useState)({}),[b,f]=(0,a.useState)({}),[S,v]=(0,a.useState)(!1),[H,y]=(0,a.useState)(!1),_=/\b(?:https?|ftp):\/\/\S+\b/g,[C]=(0,l.bx)(),T=(e=>{switch(e){case"deutsch-a0":return"deutscha0";case"deutsch-a0_2":return"deutscha0_2";case"deutsch-a1":return"deutsch";case"deutsch-a1free":return"deutschfree";case"deutsch-a2":return"deutscha2";case"deutsch-a2free":return"deutscha2free";case"deutsch-b1":return"deutschb1";case"deutsch-b2":return"deutschb2";case"polski-a0":return"polskia0";case"polski-a0_2":return"polskia0_2";case"polski-a1":return"polski";case"polski-a1free":return"polskifree";case"polski-a2":return"polskia2";case"polski-b1":return"polskib1";case"polski-b2":return"polskib2";default:return e}})(e),w=(e=>e.includes("kids")?e.includes("de")||e.includes("deutsch")?"dekids":e.includes("pl")||e.includes("polski")?"plkids":"enkids":e.includes("de")||e.includes("deutsch")?"de":e.includes("pl")||e.includes("polski")?"pl":"en")(e);return(0,a.useEffect)((()=>{document.title="Speaking Teacher ".concat(T.toLocaleUpperCase()," | AP Education");(async()=>{try{t((e=>!0)),j("kids-c1sc"===T?"10":(await i.Z.get("/timetable")).data.filter((e=>T.includes(e.level)&&w===e.lang))[0].course);const e=await i.Z.get("/speakingusers");x((s=>[...e.data.filter((e=>e.course===k||e.course.split("/").some((e=>e===k))))])),console.log("eff")}catch(e){console.log(e)}finally{t((e=>!1))}})()}),[k,T,w]),(0,o.jsxs)(d.rG,{children:[(0,o.jsxs)(d.fc,{children:[(0,o.jsx)(r.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0456\u0432, \u0449\u043e \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043b\u0438 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,o.jsx)("thead",{children:(0,o.jsxs)(r.me,{children:[(0,o.jsx)(r.Sb,{children:"\u2116"}),(0,o.jsx)(r.Sb,{children:"CRM"}),(0,o.jsx)(r.Sb,{children:"\u0406\u043c'\u044f"}),(0,o.jsx)(r.Sb,{children:"Edit"}),(0,o.jsx)(r.Sb,{children:"Chart"}),(0,o.jsx)(r.Sb,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0438\u043d\u0438"}),(0,o.jsx)(r.Sb,{children:"\u041c\u043e\u0432\u0430"}),(0,o.jsx)(r.Sb,{children:"\u041f\u043e\u0442\u0456\u043a"}),(0,o.jsx)(r.Sb,{children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u043c\u0435\u043d\u0442"}),(0,o.jsx)(r.Sb,{children:"\u0423\u0441\u043f\u0456\u0448\u043d\u0456\u0441\u0442\u044c"}),(0,o.jsx)(r.Sb,{children:"\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430"}),(0,o.jsx)(r.Sb,{children:"\u041b\u0435\u043a\u0441\u0438\u043a\u0430"}),(0,o.jsx)(r.Sb,{children:"\u0413\u043e\u0432\u043e\u0440\u0456\u043d\u043d\u044f"}),(0,o.jsx)(r.Sb,{children:"\u0421\u043b\u0443\u0445\u0430\u043d\u043d\u044f"}),(0,o.jsx)(r.Sb,{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c"}),(0,o.jsx)(r.Sb,{children:"\u0424\u0456\u0434\u0431\u0435\u043a"})]})}),(0,o.jsx)("tbody",{children:p.filter((e=>new Date-new Date((e=>{if(e){const s=e.split(".");return s.length>2?Date.parse([s[1],s[0],s[2]].join("/")):Date.parse(e)}})(e.visited[e.visited.length-1]))<=3456e5&&(w===e.lang||e.lang.split("/").some((e=>w===e)))&&(k===e.course||e.course.split("/").some((e=>k===e))))).sort(((e,s)=>Intl.Collator("uk").compare(e.name,s.name))).map(((e,s)=>(0,o.jsxs)(r.me,{children:[(0,o.jsx)(r.He,{children:s+1}),(0,o.jsx)(r.He,{children:(0,o.jsx)("a",{href:"https://apeducation.kommo.com/leads/detail/".concat(e.crmId),target:"_blank",rel:"noreferrer",children:e.crmId})}),(0,o.jsx)(r.KS,{children:e.name}),(0,o.jsx)(r.He,{children:"Dev Acc"===e.name?null:(0,o.jsx)(r.Hx,{onClick:()=>(async e=>{g((s=>p.find((s=>s.userId===e)))),v(!0)})(e.userId),children:"Edit"})}),(0,o.jsx)(r.He,{children:(0,o.jsx)(r.TZ,{onClick:()=>(async e=>{f((s=>p.find((s=>s.userId===e)))),y(!0)})(e.userId),children:"Chart"})}),(0,o.jsx)(r.He,{children:e.visitedTime[e.visitedTime.length-1]&&e.visitedTime[e.visitedTime.length-1].match("^202")?new Date(e.visitedTime[e.visitedTime.length-1]).toLocaleString("uk-UA"):""}),(0,o.jsx)(r.He,{children:e.lang}),(0,o.jsx)(r.He,{children:e.course}),(0,o.jsx)(r.He,{children:"extro"===e.temperament?"\u0415\u043a\u0441\u0442\u0440\u0430\u0432\u0435\u0440\u0442":"intro"===e.temperament?"\u0406\u043d\u0442\u0440\u043e\u0432\u0435\u0440\u0442":""}),(0,o.jsx)(r.He,{children:"good"===e.successRate?"\u0421\u0438\u043b\u044c\u043d\u0438\u0439":"mid"===e.successRate?"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439":"bad"===e.successRate?"\u0421\u043b\u0430\u0431\u043a\u0438\u0439":""}),(0,o.jsx)(r.He,{children:3===e.grammar?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":2===e.grammar?"\u0414\u043e\u0431\u0440\u0435":1===e.grammar?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,o.jsx)(r.He,{children:3===e.lexis?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":2===e.lexis?"\u0414\u043e\u0431\u0440\u0435":1===e.lexis?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,o.jsx)(r.He,{children:3===e.speaking?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":2===e.speaking?"\u0414\u043e\u0431\u0440\u0435":1===e.speaking?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,o.jsx)(r.He,{children:3===e.listening?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":2===e.listening?"\u0414\u043e\u0431\u0440\u0435":1===e.listening?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,o.jsx)(r.He,{children:3===e.activity?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":2===e.activity?"\u0414\u043e\u0431\u0440\u0435":1===e.activity?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,o.jsx)(r.KS,{dangerouslySetInnerHTML:{__html:"string"===typeof e.feedback[e.feedback.length-1]?e.feedback[e.feedback.length-1].replace(_,(e=>'<a href="'.concat(e,'" target="_blank">').concat(e.length>50?e.slice(0,50)+"...":e,"</a>"))).split(" ").slice(1).join(" "):""}})]},e._id)))})]}),S&&(0,o.jsx)(c.Y,{onMouseDown:e=>{"close-on-click"===e.target.id&&v(!1)},id:"close-on-click",children:(0,o.jsx)(u.v,{currentUser:C,studentToEdit:m,updateFeedback:(e,s)=>{const t=p.find((s=>s._id===e));t.successRate=s.successRate,t.temperament=s.temperament,t.grammar=s.grammar,t.lexis=s.lexis,t.speaking=s.speaking,t.listening=s.listening,t.activity=s.activity,t.feedback[0]=s.feedback,x((s=>[...s.filter((s=>s._id!==e)),t]))},closeStudentEditForm:e=>{v(!1)}})}),H&&(0,o.jsx)(c.Y,{onMouseDown:e=>{"close-chart-on-click"===e.target.id&&y(!1)},id:"close-chart-on-click",children:(0,o.jsx)(h.h,{currentStudentChart:b,closeCourseLevelEditForm:e=>{y(!1)}})}),s&&(0,o.jsx)(n.a,{})]})}}}]);
//# sourceMappingURL=Speaking Teacher Page.de514a6f.chunk.js.map