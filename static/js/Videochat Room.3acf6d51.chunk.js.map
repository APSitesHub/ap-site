{"version":3,"file":"static/js/Videochat Room.3acf6d51.chunk.js","mappings":"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","sources":["pages/Videochat/Videochat.styled.js","pages/Videochat/utils/hooks/useStateWithCallback.js","pages/Videochat/utils/socket/index.js","pages/Videochat/utils/socket/actions.js","pages/Videochat/utils/api/isRoomAdmin.js","pages/Videochat/utils/hooks/useWebRTC.js","pages/Videochat/VideochatRoom.jsx","pages/Videochat/utils/api/getToken.js","../node_modules/freeice/index.js","../node_modules/normalice/index.js"],"sourcesContent":["import styled from 'styled-components';\n\n// Room styles\nexport const PageContainer = styled.div`\n  display: flex;\n  height: 100vh;\n`;\n\nexport const VideochatContainer = styled.div`\n  background-color: darkslateblue;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-basis: 80%;\n  padding: 36px;\n  gap: 16px;\n  max-width: 80%;\n`;\n\nexport const MainVideo = styled.div`\n  position: relative;\n  background-color: black;\n  width: 100%;\n  height: 100%;\n  flex-basis: 70%;\n  max-height: 70%;\n`;\n\nexport const UsersVideosContainer = styled.div`\n  display: flex;\n  gap: 8px;\n  overflow-x: auto;\n  flex-basis: 30%;\n  max-width: 100%;\n`;\n\nexport const UserVideo = styled.div`\n  width: 250px;\n  height: 100%;\n  display: flex;\n  flex-shrink: 0;\n  background-color: black;\n  position: relative;\n`;\n\nexport const ChatContainer = styled.div`\n  background-color: beige;\n  display: flex;\n  flex-basis: 20%;\n  flex-shrink: 0;\n`;\n\nexport const ButtonsContainer = styled.div`\n  background-color: transparent;\n  display: flex;\n  gap: 8px;\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  padding: 8px;\n`;\n\nexport const MediaButtonContainer = styled.div`\n  display: flex;\n  border-radius: 16px;\n  padding: 8px;\n  background-color: rgba(0, 0, 0, 0.6);\n  border: 1px solid gray;\n`;\n\nexport const MediaButton = styled.button`\n  background-color: transparent;\n  color: white;\n  border: none;\n  cursor: pointer;\n`;\n\nexport const MediaSelector = styled.select`\n  background-color: transparent;\n  color: white;\n  cursor: pointer;\n  padding: 8px;\n  max-width: 20px;\n  border: none;\n  outline: none;\n  border-left: 1px solid gray;\n`;\n\nexport const MediaOption = styled.option`\n  background-color: rgba(0, 0, 0, 0.7);\n`;\n\nexport const DisabledMicroIcon = styled.div`\n  color: red;\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n`;\n\n// Videochat styles\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  max-width: 600px;\n  margin: 0 auto;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n`;\n\nexport const Title = styled.h1`\n  font-size: 24px;\n  color: #333;\n`;\n\nexport const SubTitle = styled.h3`\n  font-size: 20px;\n  color: #555;\n  margin-bottom: 10px;\n`;\n\nexport const Label = styled.label`\n  font-size: 16px;\n  color: #444;\n`;\n\nexport const Input = styled.input`\n  padding: 10px;\n  font-size: 16px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n`;\n\nexport const Button = styled.button`\n  padding: 10px 20px;\n  font-size: 16px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n`;\n\nexport const RoomList = styled.ul`\n  list-style: none;\n  padding: 0;\n  width: 100%;\n`;\n\nexport const RoomItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 10px;\n`;\n\nexport const JoinButton = styled(Button)`\n  background-color: #28a745;\n\n  &:hover {\n    background-color: #218838;\n  }\n`;\n","import {useState, useCallback, useRef, useEffect} from 'react';\n\nconst useStateWithCallback = initialState => {\n  const [state, setState] = useState(initialState);\n  const cbRef = useRef(null);\n\n  const updateState = useCallback((newState, cb) => {\n    cbRef.current = cb;\n\n    setState(prev => typeof newState === 'function' ? newState(prev) : newState);\n  }, []);\n\n  useEffect(() => {\n    if (cbRef.current) {\n      cbRef.current(state);\n      cbRef.current = null;\n    }\n  }, [state]);\n\n  return [state, updateState];\n}\n\nexport default useStateWithCallback;","import {io} from 'socket.io-client';\n\nconst options = {\n  \"force new connection\": true,\n  reconnectionAttempts: \"Infinity\",\n  timeout : 10000, \n  transports : [\"websocket\"]\n}\n\nconst socket = io(`wss://ap-server-8qi1.onrender.com`, options);\n// const socket = io(`ws://localhost:3001`, options);\n\nexport default socket;\n","const ACTIONS = {\n  JOIN: 'join',\n  LEAVE: 'leave',\n  SHARE_ROOMS: 'share-rooms',\n  ADD_PEER: 'add-peer',\n  REMOVE_PEER: 'remove-peer',\n  RELAY_SDP: 'relay-sdp',\n  RELAY_ICE: 'relay-ice',\n  ICE_CANDIDATE: 'ice-candidate',\n  SESSION_DESCRIPTION: 'session-description',\n  TOGGLE_MICRO: 'toggle-micro',\n  TOGGLE_CAMERA: 'toggle-camera',\n  RECEIVE_ROLE: \"receive-role\",\n  SEND_ROLE: \"send-role\",\n};\n\nexport default ACTIONS;\n","import { getToken } from \"./getToken\";\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n// axios.defaults.baseURL = 'http://localhost:3001';\n\nexport const isRoomAdmin = async (roomId) => {\n  try {\n    const response = await axios.get(`/rooms/isRoomAdmin?id=${roomId}`, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`,\n      },\n    });\n\n    return response.data.isRoomAdmin;\n  } catch (error) {\n    console.error('Error determining user role:', error);\n  }\n};","import { useEffect, useRef, useCallback, useState } from 'react';\nimport freeice from 'freeice';\nimport useStateWithCallback from './useStateWithCallback';\nimport socket from '../socket';\nimport ACTIONS from '../socket/actions';\nimport { getToken } from '../api/getToken';\nimport { isRoomAdmin } from '../api/isRoomAdmin';\n\nexport const LOCAL_VIDEO = 'LOCAL_VIDEO';\n\nexport default function useWebRTC(roomID) {\n  const [clients, updateClients] = useStateWithCallback([]);\n  const [isLocalCameraEnabled, setLocalCameraEnabled] = useState(true);\n  const [isLocalMicrophoneEnabled, setLocalMicrophoneEnabled] = useState(true);\n  const [localDevices, setLocalDevices] = useState([]);\n  const [localRole, setLocalRole] = useState(null);\n\n  const determineRole = async () => {\n    if (!getToken()) {\n      setLocalRole('user');\n      return;\n    }\n\n    const role = (await isRoomAdmin(roomID)) ? 'admin' : 'user';\n\n    setLocalRole(role);\n  };\n\n  const addNewClient = useCallback(\n    async (newClient, role, cb) => {\n      updateClients(list => {\n        const exists = list.some(client => client.clientId === newClient);\n        if (!exists) {\n          return [\n            ...list,\n            {\n              clientId: newClient,\n              role,\n              isMicroEnabled: true,\n              isCameraEnabled: true,\n            },\n          ];\n        }\n        return list;\n      }, cb);\n    },\n    [updateClients]\n  );\n\n  const peerConnections = useRef({});\n  const localMediaStream = useRef(null);\n  const peerMediaElements = useRef({\n    [LOCAL_VIDEO]: null,\n  });\n\n  const toggleCamera = () => {\n    if (localMediaStream.current) {\n      const videoTrack = localMediaStream.current.getTracks().find(track => track.kind === 'video');\n\n      if (videoTrack) {\n        videoTrack.enabled = !videoTrack.enabled;\n\n        Object.entries(peerConnections.current).forEach(([id, targetObj]) => {\n          const vt = targetObj.getSenders().find(sender => sender.track.kind === 'video');\n          vt.track.enabled = videoTrack.enabled;\n        });\n\n        setLocalCameraEnabled(videoTrack.enabled);\n        const localVideoElement = peerMediaElements.current[LOCAL_VIDEO];\n\n        if (videoTrack.enabled) {\n          localVideoElement.srcObject = localMediaStream.current;\n        } else {\n          localVideoElement.srcObject = null;\n        }\n\n        socket.emit(ACTIONS.TOGGLE_CAMERA, {\n          isCameraEnabled: videoTrack.enabled,\n        });\n      }\n    }\n  };\n\n  const toggleMicrophone = () => {\n    if (localMediaStream.current) {\n      const audioTrack = localMediaStream.current.getTracks().find(track => track.kind === 'audio');\n\n      if (audioTrack) {\n        audioTrack.enabled = !audioTrack.enabled;\n\n        Object.entries(peerConnections.current).forEach(([id, targetObj]) => {\n          const at = targetObj.getSenders().find(sender => sender.track.kind === 'audio');\n          at.track.enabled = audioTrack.enabled;\n        });\n\n        setLocalMicrophoneEnabled(audioTrack.enabled);\n        socket.emit(ACTIONS.TOGGLE_MICRO, {\n          isMicroEnabled: audioTrack.enabled,\n        });\n      }\n    }\n  };\n\n  const changeMicrophone = async deviceId => {\n    try {\n      const newStream = await navigator.mediaDevices.getUserMedia({\n        audio: { deviceId: { exact: deviceId } },\n        video: false,\n      });\n      const audioTrack = newStream.getAudioTracks()[0];\n\n      if (peerConnections.current) {\n        Object.keys(peerConnections.current).forEach(id => {\n          const rtc = peerConnections.current[id];\n          const senders = rtc.getSenders();\n          const audioSender = senders.find(sender => sender.track && sender.track.kind === 'audio');\n\n          if (audioSender) {\n            audioSender.replaceTrack(audioTrack);\n          }\n        });\n      }\n    } catch (error) {\n      console.error('error change micro: ' + error);\n    }\n  };\n\n  const changeCamera = async deviceId => {\n    try {\n      const newStream = await navigator.mediaDevices.getUserMedia({\n        audio: false,\n        video: { deviceId: { exact: deviceId } },\n      });\n      const videoTrack = newStream.getVideoTracks()[0];\n\n      if (peerConnections.current) {\n        Object.keys(peerConnections.current).forEach(id => {\n          const rtc = peerConnections.current[id];\n          const senders = rtc.getSenders();\n          const videoSender = senders.find(sender => sender.track && sender.track.kind === 'video');\n\n          if (videoSender) {\n            videoSender.replaceTrack(videoTrack);\n          }\n        });\n      }\n    } catch (error) {\n      console.error('error change camera: ' + error);\n    }\n  };\n\n  async function startCapture() {\n    try {\n      localMediaStream.current = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: {\n          width: 1280,\n          height: 720,\n        },\n      });\n\n      const devices = await navigator.mediaDevices.enumerateDevices();\n      setLocalDevices(devices);\n\n      if (localRole) {\n        addNewClient(LOCAL_VIDEO, localRole, () => {\n          const localVideoElement = peerMediaElements.current[LOCAL_VIDEO];\n          if (localVideoElement) {\n            localVideoElement.volume = 0;\n            localVideoElement.srcObject = localMediaStream.current;\n          }\n        });\n\n        socket.emit(ACTIONS.JOIN, { room: roomID, role: localRole });\n      }\n    } catch (error) {\n      console.error('Error getting userMedia:', error);\n    }\n  }\n\n  async function handleNewPeer({ peerID, roles, createOffer }) {\n    if (peerConnections.current[peerID]) {\n      return console.warn(`Already connected to peer ${peerID}`);\n    }\n\n    const peerConnection = new RTCPeerConnection({\n      iceServers: freeice(),\n    });\n\n    peerConnections.current[peerID] = peerConnection;\n\n    peerConnection.onicecandidate = event => {\n      if (event.candidate) {\n        socket.emit(ACTIONS.RELAY_ICE, {\n          peerID,\n          iceCandidate: event.candidate,\n        });\n      }\n    };\n\n    let tracksNumber = 0;\n\n    peerConnection.ontrack = ({ streams: [remoteStream] }) => {\n      tracksNumber++;\n\n      if (tracksNumber === 2) {\n        addNewClient(peerID, roles[peerID], () => {\n          if (peerMediaElements.current[peerID]) {\n            peerMediaElements.current[peerID].srcObject = remoteStream;\n          }\n        });\n      }\n    };\n\n    if (localMediaStream.current) {\n      localMediaStream.current.getTracks().forEach(track => {\n        peerConnection.addTrack(track, localMediaStream.current);\n      });\n    }\n\n    if (createOffer) {\n      const offer = await peerConnection.createOffer();\n      await peerConnection.setLocalDescription(offer);\n\n      socket.emit(ACTIONS.RELAY_SDP, {\n        peerID,\n        sessionDescription: offer,\n      });\n    }\n  }\n\n  async function setRemoteMedia({ peerID, sessionDescription: remoteDescription }) {\n    const peerConnection = peerConnections.current[peerID];\n    if (!peerConnection) return;\n\n    await peerConnection.setRemoteDescription(new RTCSessionDescription(remoteDescription));\n\n    if (remoteDescription.type === 'offer') {\n      const answer = await peerConnection.createAnswer();\n      await peerConnection.setLocalDescription(answer);\n\n      socket.emit(ACTIONS.RELAY_SDP, {\n        peerID,\n        sessionDescription: answer,\n      });\n    }\n  }\n\n  const handleIceCandidate = ({ peerID, iceCandidate }) => {\n    const peerConnection = peerConnections.current[peerID];\n    if (peerConnection) {\n      peerConnection.addIceCandidate(new RTCIceCandidate(iceCandidate));\n    }\n  };\n\n  const handleRemovePeer = ({ peerID }) => {\n    const peerConnection = peerConnections.current[peerID];\n    if (peerConnection) {\n      peerConnection.close();\n    }\n\n    delete peerConnections.current[peerID];\n    delete peerMediaElements.current[peerID];\n\n    updateClients(list => list.filter(c => c.clientId !== peerID));\n  };\n\n  useEffect(() => {\n    determineRole();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    socket.on(ACTIONS.ADD_PEER, handleNewPeer);\n\n    return () => {\n      socket.off(ACTIONS.ADD_PEER, handleNewPeer);\n    };\n    // eslint-disable-next-line\n  }, [addNewClient]);\n\n  useEffect(() => {\n    socket.on(ACTIONS.SESSION_DESCRIPTION, setRemoteMedia);\n\n    return () => {\n      socket.off(ACTIONS.SESSION_DESCRIPTION, setRemoteMedia);\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(ACTIONS.ICE_CANDIDATE, handleIceCandidate);\n\n    return () => {\n      socket.off(ACTIONS.ICE_CANDIDATE, handleIceCandidate);\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(ACTIONS.REMOVE_PEER, handleRemovePeer);\n\n    return () => {\n      socket.off(ACTIONS.REMOVE_PEER, handleRemovePeer);\n    };\n    // eslint-disable-next-line\n  }, [updateClients]);\n\n  useEffect(() => {\n    startCapture();\n\n    return () => {\n      if (localMediaStream.current) {\n        localMediaStream.current.getTracks().forEach(track => track.stop());\n      }\n\n      socket.emit(ACTIONS.LEAVE);\n    };\n    // eslint-disable-next-line\n  }, [addNewClient, roomID, localRole]);\n\n  useEffect(() => {\n    socket.on(ACTIONS.TOGGLE_MICRO, client => {\n      updateClients(list => {\n        return list.map(item => {\n          if (item.clientId === client.peerID) {\n            return {\n              ...item,\n              isMicroEnabled: client.isMicroEnabled,\n            };\n          }\n\n          return {\n            ...item,\n          };\n        });\n      });\n    });\n\n    socket.on(ACTIONS.TOGGLE_CAMERA, client => {\n      updateClients(list => {\n        return list.map(item => {\n          if (item.clientId === client.peerID) {\n            return {\n              ...item,\n              isCameraEnabled: client.isCameraEnabled,\n            };\n          }\n\n          return {\n            ...item,\n          };\n        });\n      });\n    });\n  }, [updateClients]);\n\n  const provideMediaRef = useCallback((id, node) => {\n    peerMediaElements.current[id] = node;\n  }, []);\n\n  return {\n    clients,\n    provideMediaRef,\n    localDevices,\n    toggleCamera,\n    toggleMicrophone,\n    changeCamera,\n    changeMicrophone,\n    isLocalCameraEnabled,\n    isLocalMicrophoneEnabled,\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport useWebRTC, { LOCAL_VIDEO } from './utils/hooks/useWebRTC';\nimport {\n  ButtonsContainer,\n  ChatContainer,\n  DisabledMicroIcon,\n  MainVideo,\n  MediaButton,\n  MediaButtonContainer,\n  MediaOption,\n  MediaSelector,\n  PageContainer,\n  UsersVideosContainer,\n  UserVideo,\n  VideochatContainer,\n} from './Videochat.styled';\n\nfunction VideochatRoom() {\n  const { id: roomID } = useParams();\n  const {\n    clients,\n    provideMediaRef,\n    localDevices,\n    toggleCamera,\n    toggleMicrophone,\n    changeCamera,\n    changeMicrophone,\n    isLocalCameraEnabled,\n    isLocalMicrophoneEnabled,\n  } = useWebRTC(roomID);\n  const [videoDevices, setVideoDevices] = useState([]);\n  const [audioDevices, setAudioDevices] = useState([]);\n\n  useEffect(() => {\n    const video = localDevices.filter(device => device.kind === 'videoinput');\n    const audio = localDevices.filter(device => device.kind === 'audioinput');\n    setAudioDevices(audio);\n    setVideoDevices(video);\n  }, [localDevices]);\n\n  const test = () => {\n    console.log(clients);\n  };\n\n  return (\n    <PageContainer>\n      <button onClick={test}>get clients</button>\n      <VideochatContainer>\n        <UsersVideosContainer>\n          {clients\n            .filter(({ role }) => role !== 'admin')\n            .map(({ clientId, isMicroEnabled, isCameraEnabled }) => {\n              return (\n                <UserVideo key={clientId} id={clientId}>\n                  <video\n                    width=\"100%\"\n                    height=\"100%\"\n                    ref={instance => {\n                      provideMediaRef(clientId, instance);\n                    }}\n                    autoPlay\n                    playsInline\n                    muted={clientId === LOCAL_VIDEO}\n                  />\n                  {!isCameraEnabled && (\n                    <DisabledMicroIcon>Camera Disabled</DisabledMicroIcon>\n                  )}\n                  {!isMicroEnabled && (\n                    <DisabledMicroIcon>Micro Disabled</DisabledMicroIcon>\n                  )}\n                </UserVideo>\n              );\n            })}\n          <UserVideo />\n          <UserVideo />\n          <UserVideo />\n          <UserVideo />\n          <UserVideo />\n          <UserVideo />\n          <UserVideo />\n        </UsersVideosContainer>\n        {clients\n          .filter(({ role }) => role === 'admin')\n          .map(({ clientId }) => {\n            return (\n              <MainVideo key={clientId} id={clientId}>\n                <video\n                  width=\"100%\"\n                  height=\"100%\"\n                  ref={instance => {\n                    provideMediaRef(clientId, instance);\n                  }}\n                  autoPlay\n                  playsInline\n                  muted={clientId === LOCAL_VIDEO}\n                />\n                {!isLocalCameraEnabled && (\n                  <DisabledMicroIcon>Camera Disabled</DisabledMicroIcon>\n                )}\n                {!isLocalMicrophoneEnabled && (\n                  <DisabledMicroIcon>Micro Disabled</DisabledMicroIcon>\n                )}\n              </MainVideo>\n            );\n          })}\n        <ButtonsContainer>\n          <MediaButtonContainer>\n            <MediaButton onClick={toggleMicrophone}>Micro</MediaButton>\n            <MediaSelector\n              name=\"micro\"\n              id=\"micro\"\n              onChange={e => changeMicrophone(e.target.value)}\n            >\n              {audioDevices.map(device => (\n                <MediaOption key={device.deviceId} value={device.deviceId}>\n                  {device.label}\n                </MediaOption>\n              ))}\n            </MediaSelector>\n          </MediaButtonContainer>\n          <MediaButtonContainer>\n            <MediaButton onClick={toggleCamera}>Camera</MediaButton>\n            <MediaSelector\n              name=\"camera\"\n              id=\"camera\"\n              onChange={e => changeCamera(e.target.value)}\n            >\n              {videoDevices.map(device => (\n                <MediaOption key={device.deviceId} value={device.deviceId}>\n                  {device.label}\n                </MediaOption>\n              ))}\n            </MediaSelector>\n          </MediaButtonContainer>\n        </ButtonsContainer>\n      </VideochatContainer>\n      <ChatContainer>TODO: text chat</ChatContainer>\n    </PageContainer>\n  );\n}\n\nexport default VideochatRoom;\n","export const getToken = () => {\n  return localStorage.getItem(\"token\");\n}","/* jshint node: true */\n'use strict';\n\nvar normalice = require('normalice');\n\n/**\n  # freeice\n\n  The `freeice` module is a simple way of getting random STUN or TURN server\n  for your WebRTC application.  The list of servers (just STUN at this stage)\n  were sourced from this [gist](https://gist.github.com/zziuni/3741933).\n\n  ## Example Use\n\n  The following demonstrates how you can use `freeice` with\n  [rtc-quickconnect](https://github.com/rtc-io/rtc-quickconnect):\n\n  <<< examples/quickconnect.js\n\n  As the `freeice` module generates ice servers in a list compliant with the\n  WebRTC spec you will be able to use it with raw `RTCPeerConnection`\n  constructors and other WebRTC libraries.\n\n  ## Hey, don't use my STUN/TURN server!\n\n  If for some reason your free STUN or TURN server ends up in the\n  list of servers ([stun](https://github.com/DamonOehlman/freeice/blob/master/stun.json) or\n  [turn](https://github.com/DamonOehlman/freeice/blob/master/turn.json))\n  that is used in this module, you can feel\n  free to open an issue on this repository and those servers will be removed\n  within 24 hours (or sooner).  This is the quickest and probably the most\n  polite way to have something removed (and provides us some visibility\n  if someone opens a pull request requesting that a server is added).\n\n  ## Please add my server!\n\n  If you have a server that you wish to add to the list, that's awesome! I'm\n  sure I speak on behalf of a whole pile of WebRTC developers who say thanks.\n  To get it into the list, feel free to either open a pull request or if you\n  find that process a bit daunting then just create an issue requesting\n  the addition of the server (make sure you provide all the details, and if\n  you have a Terms of Service then including that in the PR/issue would be\n  awesome).\n\n  ## I know of a free server, can I add it?\n\n  Sure, if you do your homework and make sure it is ok to use (I'm currently\n  in the process of reviewing the terms of those STUN servers included from\n  the original list).  If it's ok to go, then please see the previous entry\n  for how to add it.\n\n  ## Current List of Servers\n\n  * current as at the time of last `README.md` file generation\n\n  ### STUN\n\n  <<< stun.json\n\n  ### TURN\n\n  <<< turn.json\n\n**/\n\nvar freeice = function(opts) {\n  // if a list of servers has been provided, then use it instead of defaults\n  var servers = {\n    stun: (opts || {}).stun || require('./stun.json'),\n    turn: (opts || {}).turn || require('./turn.json')\n  };\n\n  var stunCount = (opts || {}).stunCount || 2;\n  var turnCount = (opts || {}).turnCount || 0;\n  var selected;\n\n  function getServers(type, count) {\n    var out = [];\n    var input = [].concat(servers[type]);\n    var idx;\n\n    while (input.length && out.length < count) {\n      idx = (Math.random() * input.length) | 0;\n      out = out.concat(input.splice(idx, 1));\n    }\n\n    return out.map(function(url) {\n        //If it's a not a string, don't try to \"normalice\" it otherwise using type:url will screw it up\n        if ((typeof url !== 'string') && (! (url instanceof String))) {\n            return url;\n        } else {\n            return normalice(type + ':' + url);\n        }\n    });\n  }\n\n  // add stun servers\n  selected = [].concat(getServers('stun', stunCount));\n\n  if (turnCount) {\n    selected = selected.concat(getServers('turn', turnCount));\n  }\n\n  return selected;\n};\n\nmodule.exports = freeice;","/**\n  # normalice\n\n  Normalize an ice server configuration object (or plain old string) into a format\n  that is usable in all browsers supporting WebRTC.  Primarily this module is designed\n  to help with the transition of the `url` attribute of the configuration object to\n  the `urls` attribute.\n\n  ## Example Usage\n\n  <<< examples/simple.js\n\n**/\n\nvar protocols = [\n  'stun:',\n  'turn:'\n];\n\nmodule.exports = function(input) {\n  var url = (input || {}).url || input;\n  var protocol;\n  var parts;\n  var output = {};\n\n  // if we don't have a string url, then allow the input to passthrough\n  if (typeof url != 'string' && (! (url instanceof String))) {\n    return input;\n  }\n\n  // trim the url string, and convert to an array\n  url = url.trim();\n\n  // if the protocol is not known, then passthrough\n  protocol = protocols[protocols.indexOf(url.slice(0, 5))];\n  if (! protocol) {\n    return input;\n  }\n\n  // now let's attack the remaining url parts\n  url = url.slice(5);\n  parts = url.split('@');\n\n  output.username = input.username;\n  output.credential = input.credential;\n  // if we have an authentication part, then set the credentials\n  if (parts.length > 1) {\n    url = parts[1];\n    parts = parts[0].split(':');\n\n    // add the output credential and username\n    output.username = parts[0];\n    output.credential = (input || {}).credential || parts[1] || '';\n  }\n\n  output.url = protocol + url;\n  output.urls = [ output.url ];\n\n  return output;\n};\n"],"names":["PageContainer","styled","_templateObject","_taggedTemplateLiteral","VideochatContainer","_templateObject2","MainVideo","_templateObject3","UsersVideosContainer","_templateObject4","UserVideo","_templateObject5","ChatContainer","_templateObject6","ButtonsContainer","_templateObject7","MediaButtonContainer","_templateObject8","MediaButton","_templateObject9","MediaSelector","_templateObject10","MediaOption","_templateObject11","DisabledMicroIcon","_templateObject12","Container","_templateObject13","Title","_templateObject14","SubTitle","_templateObject15","Label","_templateObject16","Input","_templateObject17","Button","_templateObject18","RoomList","_templateObject19","RoomItem","_templateObject20","JoinButton","_templateObject21","initialState","state","setState","useState","cbRef","useRef","updateState","useCallback","newState","cb","current","prev","useEffect","io","reconnectionAttempts","timeout","transports","JOIN","LEAVE","SHARE_ROOMS","ADD_PEER","REMOVE_PEER","RELAY_SDP","RELAY_ICE","ICE_CANDIDATE","SESSION_DESCRIPTION","TOGGLE_MICRO","TOGGLE_CAMERA","RECEIVE_ROLE","SEND_ROLE","axios","LOCAL_VIDEO","useWebRTC","roomID","clients","updateClients","useStateWithCallback","isLocalCameraEnabled","setLocalCameraEnabled","isLocalMicrophoneEnabled","setLocalMicrophoneEnabled","localDevices","setLocalDevices","localRole","setLocalRole","determineRole","async","getToken","role","concat","roomId","headers","Authorization","data","isRoomAdmin","error","console","addNewClient","newClient","list","some","client","clientId","isMicroEnabled","isCameraEnabled","peerConnections","localMediaStream","peerMediaElements","handleNewPeer","_ref3","peerID","roles","createOffer","warn","peerConnection","RTCPeerConnection","iceServers","freeice","onicecandidate","event","candidate","socket","ACTIONS","iceCandidate","tracksNumber","ontrack","_ref4","streams","remoteStream","srcObject","getTracks","forEach","track","addTrack","offer","setLocalDescription","sessionDescription","setRemoteMedia","_ref5","remoteDescription","setRemoteDescription","RTCSessionDescription","type","answer","createAnswer","handleIceCandidate","_ref6","addIceCandidate","RTCIceCandidate","handleRemovePeer","_ref7","close","filter","c","navigator","mediaDevices","getUserMedia","audio","video","width","height","devices","enumerateDevices","localVideoElement","volume","room","startCapture","stop","map","item","provideMediaRef","id","node","toggleCamera","videoTrack","find","kind","enabled","Object","entries","_ref","targetObj","getSenders","sender","toggleMicrophone","audioTrack","_ref2","changeCamera","deviceId","exact","getVideoTracks","keys","videoSender","replaceTrack","changeMicrophone","getAudioTracks","audioSender","useParams","videoDevices","setVideoDevices","audioDevices","setAudioDevices","device","_jsxs","children","_jsx","onClick","test","log","ref","instance","autoPlay","playsInline","muted","name","onChange","e","target","value","label","localStorage","getItem","normalice","require","module","exports","opts","selected","servers","stun","turn","stunCount","turnCount","getServers","count","idx","out","input","length","Math","random","splice","url","String","protocols","protocol","parts","output","trim","indexOf","slice","split","username","credential","urls"],"sourceRoot":""}