{"version":3,"file":"static/js/Pl University Collections Admin Panel page.4facfeb9.chunk.js","mappings":"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","sources":["pages/Streams/CollectionsAdminPanel/UniCollectionsAdminPanel.jsx"],"sourcesContent":["import axios from 'axios';\nimport { Label } from 'components/LeadForm/LeadForm.styled';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { Formik } from 'formik';\nimport { useEffect, useState } from 'react';\nimport * as yup from 'yup';\nimport {\n  AdminFormBtn,\n  AdminInput,\n  AdminInputNote,\n  AdminPanelSection,\n  LinksForm,\n  LoginForm,\n} from './CollectionsAdminPanel.styled';\nimport { LinksFieldGroup, LinksFieldGroupTitle } from '../AdminPanel/AdminPanel.styled';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\nconst setAuthToken = token => {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n};\n\nconst UniCollectionsAdminPanel = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isUserAdmin, setIsUserAdmin] = useState(false);\n\n  useEffect(() => {\n    document.title = 'Pl Uni 3D Collections Admin Panel | AP Education';\n\n    const refreshToken = async () => {\n      console.log('token refresher');\n      try {\n        if (localStorage.getItem('isAdmin')) {\n          const res = await axios.post('admins/refresh/collections', {});\n          console.log(res);\n          setIsUserAdmin(isAdmin => (isAdmin = true));\n          setAuthToken(res.data.newToken);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    refreshToken();\n  }, [isUserAdmin]);\n\n  const initialLoginValues = {\n    login: '',\n    password: '',\n  };\n\n  const loginSchema = yup.object().shape({\n    login: yup.string().required('Вкажіть логін!'),\n    password: yup.string().required('Введіть пароль!'),\n  });\n\n  const handleLoginSubmit = async (values, { resetForm }) => {\n    setIsLoading(isLoading => (isLoading = true));\n    try {\n      const response = await axios.post('/admins/login/collections', values);\n      setAuthToken(response.data.token);\n      setIsUserAdmin(isAdmin => (isAdmin = true));\n      localStorage.setItem('isAdmin', true);\n      resetForm();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsLoading(isLoading => (isLoading = false));\n    }\n  };\n\n  const initialLinksValues = {\n    pedagogium_logistics: '',\n    pedagogium_prep: '',\n    wstijo_logistics: '',\n    wstijo_prep: '',\n    wsbmir_logistics: '',\n    wsbmir_prep: '',\n    ewspa_logistics: '',\n    ewspa_prep: '',\n    merito_logistics: '',\n    merito_prep: '',\n    wstih_logistics: '',\n    wstih_prep: '',\n  };\n\n  const linksSchema = yup.object().shape({\n    pedagogium_logistics: yup.string().optional(),\n    pedagogium_prep: yup.string().optional(),\n    wstijo_logistics: yup.string().optional(),\n    wstijo_prep: yup.string().optional(),\n    wsbmir_logistics: yup.string().optional(),\n    wsbmir_prep: yup.string().optional(),\n    ewspa_logistics: yup.string().optional(),\n    ewspa_prep: yup.string().optional(),\n    merito_logistics: yup.string().optional(),\n    merito_prep: yup.string().optional(),\n    wstih_logistics: yup.string().optional(),\n    wstih_prep: yup.string().optional(),\n  });\n\n  const handleLinksSubmit = async (values, { resetForm }) => {\n    setIsLoading(isLoading => (isLoading = true));\n\n    Object.keys(values).forEach(\n      key =>\n        (values[key] = values[key].replace(\n          'width=\"640\" height=\"480\"',\n          'width=\"100%\" height=\"100%\"'\n        ))\n    );\n\n    try {\n      const response = await axios.patch('/unicollections', values);\n      console.log(response);\n      resetForm();\n      alert('Коллекції замінилися, молодець');\n    } catch (error) {\n      console.error(error);\n      alert('Щось не прокнуло!');\n    } finally {\n      setIsLoading(isLoading => (isLoading = false));\n    }\n  };\n\n  return (\n    <>\n      <AdminPanelSection>\n        {!isUserAdmin && (\n          <Formik\n            initialValues={initialLoginValues}\n            onSubmit={handleLoginSubmit}\n            validationSchema={loginSchema}\n          >\n            <LoginForm>\n              <Label>\n                <AdminInput type=\"text\" name=\"login\" placeholder=\"Login\" />\n                <AdminInputNote component=\"p\" name=\"login\" />\n              </Label>\n              <Label>\n                <AdminInput type=\"password\" name=\"password\" placeholder=\"Password\" />\n                <AdminInputNote component=\"p\" name=\"password\" />\n              </Label>\n              <AdminFormBtn type=\"submit\">Залогінитись</AdminFormBtn>\n            </LoginForm>\n          </Formik>\n        )}\n\n        {isUserAdmin && (\n          <Formik\n            initialValues={initialLinksValues}\n            onSubmit={handleLinksSubmit}\n            validationSchema={linksSchema}\n          >\n            <LinksForm>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  Pedagogium (Wyższa Szkoła Nauk Społecznych)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"pedagogium_logistics\"\n                    placeholder=\"Pedagogium Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"pedagogium\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"pedagogium_prep\"\n                    placeholder=\"Pedagogium Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"pedagogium\" />\n                </Label>\n              </LinksFieldGroup>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  WSTIJO (Wyzsza Szkoła Turystyki i Jezykow Obcych w Warszawie)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wstijo_logistics\"\n                    placeholder=\"WSTIJO Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wstijo_logistics\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wstijo_prep\"\n                    placeholder=\"WSTIJO Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wstijo_prep\" />\n                </Label>\n              </LinksFieldGroup>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  WSBMIR (Wyższa Szkoła Biznesu, Mediów i Reklamy)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wsbmir_logistics\"\n                    placeholder=\"WSBMIR Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wsbmir_logistics\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wsbmir_prep\"\n                    placeholder=\"WSBMIR Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wsbmir_prep\" />\n                </Label>\n              </LinksFieldGroup>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  EWSPA (Wyższa Szkoła Biznesu, Mediów i Reklamy)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"ewspa_logistics\"\n                    placeholder=\"EWSPA Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"ewspa_logistics\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"ewspa_prep\"\n                    placeholder=\"EWSPA Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"ewspa_prep\" />\n                </Label>\n              </LinksFieldGroup>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  Merito (Uniwersytet WSB Merito Warszawa)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"merito_logistics\"\n                    placeholder=\"Merito Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"merito_logistics\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"merito_prep\"\n                    placeholder=\"Merito Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"merito_prep\" />\n                </Label>\n              </LinksFieldGroup>\n              <LinksFieldGroup>\n                <LinksFieldGroupTitle>\n                  WSTiH (Wyższa Szkoła Turystyki i Hotelarstwa w Gdańsku)\n                </LinksFieldGroupTitle>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wstih_logistics\"\n                    placeholder=\"WSTiH Logistics Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wstih_logistics\" />\n                </Label>\n                <Label>\n                  <AdminInput\n                    type=\"text\"\n                    name=\"wstih_prep\"\n                    placeholder=\"WSTiH Preparation Course Collection\"\n                  />\n                  <AdminInputNote component=\"p\" name=\"wstih_prep\" />\n                </Label>\n              </LinksFieldGroup>\n              <AdminFormBtn type=\"submit\">Замінити лінки</AdminFormBtn>\n            </LinksForm>\n          </Formik>\n        )}\n        {isLoading && <Loader />}\n      </AdminPanelSection>\n    </>\n  );\n};\n\nexport default UniCollectionsAdminPanel;\n"],"names":["axios","setAuthToken","token","concat","UniCollectionsAdminPanel","isLoading","setIsLoading","useState","isUserAdmin","setIsUserAdmin","useEffect","document","title","async","console","log","localStorage","getItem","res","isAdmin","data","newToken","error","refreshToken","loginSchema","yup","shape","login","required","password","linksSchema","pedagogium_logistics","optional","pedagogium_prep","wstijo_logistics","wstijo_prep","wsbmir_logistics","wsbmir_prep","ewspa_logistics","ewspa_prep","merito_logistics","merito_prep","wstih_logistics","wstih_prep","_jsx","_Fragment","children","_jsxs","AdminPanelSection","Formik","initialValues","onSubmit","values","_ref","resetForm","response","setItem","validationSchema","LoginForm","Label","AdminInput","type","name","placeholder","AdminInputNote","component","AdminFormBtn","_ref2","Object","keys","forEach","key","replace","alert","LinksForm","LinksFieldGroup","LinksFieldGroupTitle","Loader"],"sourceRoot":""}