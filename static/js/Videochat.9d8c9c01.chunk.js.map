{"version":3,"file":"static/js/Videochat.9d8c9c01.chunk.js","mappings":"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","sources":["pages/Videochat/utils/api/getRooms.js","pages/Videochat/utils/api/createRoom.js","pages/Videochat/Videochat.jsx","pages/Videochat/Videochat.styled.js","pages/Videochat/utils/api/getToken.js"],"sourcesContent":["import axios from 'axios';\nimport { getToken } from './getToken';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n// axios.defaults.baseURL = 'http://localhost:3001';\n\nexport const getRooms = async () => {\n  try {\n    const response = await axios.get('/rooms/byTeacher', {\n      headers: {\n        Authorization: `Bearer ${getToken()}`,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching rooms:', error.response?.data || error.message);\n  }\n};\n","import axios from 'axios';\nimport { getToken } from \"./getToken\";\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n// axios.defaults.baseURL = 'http://localhost:3001';\n\nexport const createRoom = async (name) => {\n  const options = {\n    name,\n  };\n\n  try {\n    await axios.post('/rooms/create', options, {\n      headers: {\n        Authorization: `Bearer ${getToken()}`,\n      },\n    });\n\n  } catch (error) {\n    console.error(\"Error creating room:\", error.response?.data || error.message);\n  }\n};","import { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getRooms } from './utils/api/getRooms';\nimport { createRoom } from './utils/api/createRoom';\nimport { getToken } from './utils/api/getToken';\nimport { Container, Title, SubTitle, Label, Input, Button, RoomList, RoomItem, JoinButton } from './Videochat.styled';\n\nfunction Videochat() {\n  const navigate = useNavigate();\n  const [rooms, setRooms] = useState([]);\n  const newRoomName = useRef('');\n\n  useEffect(() => {\n    if (!getToken()) {\n      navigate('../teacher-login');\n    }\n\n    updateRooms();\n    // eslint-disable-next-line\n  }, []);\n\n  const updateRooms = async () => {\n    const rooms = await getRooms();\n\n    setRooms(rooms);\n  };\n\n  const handleCreateRoom = async () => {\n    await createRoom(newRoomName.current.value);\n\n    await updateRooms();\n  };\n\n  return (\n    <Container>\n      <Title>Logined as Teacher</Title>\n\n      <div>\n        <SubTitle>Create Room</SubTitle>\n      </div>\n\n      <Label htmlFor=\"room-name\">Room name:</Label>\n      <Input type=\"text\" id=\"room-name\" ref={newRoomName} />\n\n      <Button onClick={handleCreateRoom}>Create New Room</Button>\n\n      <RoomList>\n        {rooms.map(room => (\n          <RoomItem key={room.id}>\n            {room.name}\n            <JoinButton\n              onClick={() => {\n                navigate(`/room/${room.id}`);\n              }}\n            >\n              JOIN ROOM\n            </JoinButton>\n          </RoomItem>\n        ))}\n      </RoomList>\n    </Container>\n  );\n}\n\nexport default Videochat;\n","import styled from 'styled-components';\n\n// Room styles\nexport const PageContainer = styled.div`\n  display: flex;\n  height: 100vh;\n`;\n\nexport const VideochatContainer = styled.div`\n  background-color: darkslateblue;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex-basis: 80%;\n  padding: 36px;\n  gap: 16px;\n  max-width: 80%;\n`;\n\nexport const MainVideo = styled.div`\n  position: relative;\n  background-color: black;\n  width: 100%;\n  height: 100%;\n  flex-basis: 70%;\n  max-height: 70%;\n`;\n\nexport const UsersVideosContainer = styled.div`\n  display: flex;\n  gap: 8px;\n  overflow-x: auto;\n  flex-basis: 30%;\n  max-width: 100%;\n`;\n\nexport const UserVideo = styled.div`\n  width: 250px;\n  height: 100%;\n  display: flex;\n  flex-shrink: 0;\n  background-color: black;\n  position: relative;\n`;\n\nexport const ChatContainer = styled.div`\n  background-color: beige;\n  display: flex;\n  flex-basis: 20%;\n  flex-shrink: 0;\n`;\n\nexport const ButtonsContainer = styled.div`\n  background-color: transparent;\n  display: flex;\n  gap: 8px;\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  padding: 8px;\n`;\n\nexport const MediaButtonContainer = styled.div`\n  display: flex;\n  border-radius: 16px;\n  padding: 8px;\n  background-color: rgba(0, 0, 0, 0.6);\n  border: 1px solid gray;\n`;\n\nexport const MediaButton = styled.button`\n  background-color: transparent;\n  color: white;\n  border: none;\n  cursor: pointer;\n`;\n\nexport const MediaSelector = styled.select`\n  background-color: transparent;\n  color: white;\n  cursor: pointer;\n  padding: 8px;\n  max-width: 20px;\n  border: none;\n  outline: none;\n  border-left: 1px solid gray;\n`;\n\nexport const MediaOption = styled.option`\n  background-color: rgba(0, 0, 0, 0.7);\n`;\n\nexport const DisabledMicroIcon = styled.div`\n  color: red;\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n`;\n\n// Videochat styles\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  max-width: 600px;\n  margin: 0 auto;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n`;\n\nexport const Title = styled.h1`\n  font-size: 24px;\n  color: #333;\n`;\n\nexport const SubTitle = styled.h3`\n  font-size: 20px;\n  color: #555;\n  margin-bottom: 10px;\n`;\n\nexport const Label = styled.label`\n  font-size: 16px;\n  color: #444;\n`;\n\nexport const Input = styled.input`\n  padding: 10px;\n  font-size: 16px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n`;\n\nexport const Button = styled.button`\n  padding: 10px 20px;\n  font-size: 16px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n`;\n\nexport const RoomList = styled.ul`\n  list-style: none;\n  padding: 0;\n  width: 100%;\n`;\n\nexport const RoomItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 10px;\n`;\n\nexport const JoinButton = styled(Button)`\n  background-color: #28a745;\n\n  &:hover {\n    background-color: #218838;\n  }\n`;\n","export const getToken = () => {\n  return localStorage.getItem(\"token\");\n}"],"names":["axios","navigate","useNavigate","rooms","setRooms","useState","newRoomName","useRef","useEffect","getToken","updateRooms","async","headers","Authorization","concat","data","error","_error$response","console","response","message","getRooms","_jsxs","Container","children","_jsx","Title","SubTitle","Label","htmlFor","Input","type","id","ref","Button","onClick","options","name","createRoom","current","value","RoomList","map","room","RoomItem","JoinButton","PageContainer","styled","_templateObject","_taggedTemplateLiteral","VideochatContainer","_templateObject2","MainVideo","_templateObject3","UsersVideosContainer","_templateObject4","UserVideo","_templateObject5","ChatContainer","_templateObject6","ButtonsContainer","_templateObject7","MediaButtonContainer","_templateObject8","MediaButton","_templateObject9","MediaSelector","_templateObject10","MediaOption","_templateObject11","DisabledMicroIcon","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","localStorage","getItem"],"sourceRoot":""}