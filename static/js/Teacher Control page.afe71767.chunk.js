"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[1193],{7673:(n,e,a)=>{a.d(e,{Gh:()=>L,He:()=>R,Hx:()=>T,Kq:()=>q,Lv:()=>O,OD:()=>F,P_:()=>D,Sb:()=>M,U0:()=>A,aC:()=>E,az:()=>G,hj:()=>B,jr:()=>I,me:()=>K,vD:()=>U,x2:()=>J});var t,o,r,i,s,l,d,c,p,m,x,h,u,f,Z,g,b,j,w,v,P,y,k,_=a(30168),S=a(97723),z=a(55705),C=a(37269),H=a(76487);const q=H.ZP.section(t||(t=(0,_.Z)(["\n  height: max-content;\n  padding: 30px 20px;\n  display: flex;\n  align-items: flex-start;\n\n  gap: 30px;\n"]))),A=(0,H.ZP)(z.l0)(o||(o=(0,_.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),D=(0,H.ZP)(z.l0)(r||(r=(0,_.Z)(["\n  margin: 0 auto;\n\n  position: sticky;\n  top: 50%;\n\n  transform: translateY(-50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),I=(0,H.ZP)(z.l0)(i||(i=(0,_.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  max-width: 400px;\n\n  background-color: white;\n  padding: 24px;\n  border-radius: 24px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),L=(0,H.ZP)(S.Mg)(s||(s=(0,_.Z)(["\n  margin: 0 auto;\n  height: 48px;\n  padding: 0;\n"]))),U=(0,H.ZP)(S.II)(l||(l=(0,_.Z)(["\n  width: 240px;\n  padding: 8px 10px;\n  font-size: 16px;\n  height: 40px;\n  -webkit-text-stroke: 0px;\n\n  border: 2px solid var(--main-color);\n\n  &.error {\n    border-color: red;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 360px;\n  }\n"]))),E=(0,H.ZP)(S.r2)(d||(d=(0,_.Z)(["\n  color: var(--main-color);\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),F=H.ZP.table(c||(c=(0,_.Z)(["\n  max-width: 50vw;\n  min-height: 80vh;\n  margin: 0 auto;\n\n  table-layout: auto;\n  width: 100%;\n\n  text-align: center;\n  border: 1px solid #000;\n  border-collapse: collapse;\n"]))),G=H.ZP.caption(p||(p=(0,_.Z)(["\n  caption-side: top;\n  margin-bottom: 20px;\n"]))),K=(H.ZP.span(m||(m=(0,_.Z)(["\n  font-size: 11px;\n"]))),H.ZP.tr(x||(x=(0,_.Z)(["\n  border: 1px solid #000;\n"])))),M=H.ZP.th(h||(h=(0,_.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n"]))),R=(H.ZP.div(u||(u=(0,_.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  position: relative;\n"]))),H.ZP.td(f||(f=(0,_.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n  height: 3em;\n\n  &.last-name {\n    text-transform: capitalize;\n  }\n\n  &.attention {\n    color: red;\n  }\n\n  &.error {\n    background-color: #ff0000;\n  }\n"])))),T=((0,H.ZP)(R)(Z||(Z=(0,_.Z)(["\n  text-align: start;\n  padding-left: 8px;\n  max-width: 50vw;\n"]))),H.ZP.button(g||(g=(0,_.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--accent-color);\n  border-radius: 5px;\n"])))),B=H.ZP.button(b||(b=(0,_.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--main-color);\n  border-radius: 5px;\n"]))),J=((0,H.ZP)(B)(j||(j=(0,_.Z)(["\n  &.banned {\n    border-color: #023020;\n  }\n  &.not_banned {\n    border-color: #8b0000;\n  }\n"]))),(0,H.ZP)(C.r)(w||(w=(0,_.Z)(["\n  width: 18px;\n  height: 12px;\n\n  color: #000;\n\n  transition: color var(--animation-global);\n\n  &:hover {\n    color: var(--main-color);\n  }\n"]))),H.ZP.div(v||(v=(0,_.Z)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n"]))),H.ZP.button(P||(P=(0,_.Z)(["\n  width: 100%;\n  text-transform: capitalize;\n"]))),H.ZP.p(y||(y=(0,_.Z)(["\n  font-size: 10px;\n  margin-bottom: 3px;\n  text-align: start;\n"])))),O=(0,H.ZP)(F)(k||(k=(0,_.Z)(["\n  max-width: 80vw;\n"])))},42299:(n,e,a)=>{a.r(e),a.d(e,{default:()=>m});var t=a(55294),o=a(97723),r=a(8313),i=a(55705),s=a(72791),l=a(8007),d=a(7673),c=a(80184);t.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const p=n=>{t.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},m=()=>{const[n,e]=(0,s.useState)(!1),[a,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)([]),[u,f]=(0,s.useState)([]);(0,s.useEffect)((()=>{document.title="Teacher Admin Panel | AP Education";(async()=>{console.log("token refresher"),e((n=>!0));try{if(localStorage.getItem("isAdmin")){const n=await t.Z.post("admins/refresh/teachers/",{});p(n.data.newToken),console.log(n),m((n=>!0))}}catch(n){console.log(n)}finally{e((n=>!1))}})();(async()=>{e((n=>!0));try{if(a){const n=await t.Z.get("/teachers/");h((e=>[...n.data.reverse()]))}}catch(n){console.error(n)}finally{e((n=>!1))}})();(async()=>{e((n=>!0));try{if(a){const n=await t.Z.get("/speakingusers/admin");f((e=>[...n.data]))}}catch(n){console.error(n)}finally{e((n=>!1))}})()}),[a]);const Z=l.Ry().shape({login:l.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:l.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),g=/\d{1,}\.\d{2}\.\d{4}/;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.Kq,{children:[!a&&(0,c.jsx)(i.J9,{initialValues:{login:"",password:""},onSubmit:async(n,a)=>{let{resetForm:o}=a;e((n=>!0));try{const a=await t.Z.post("/admins/login/teachers",n);p(a.data.token),m((n=>!0)),localStorage.setItem("isAdmin",!0),o()}catch(r){console.error(r)}finally{e((n=>!1))}},validationSchema:Z,children:(0,c.jsxs)(d.U0,{children:[(0,c.jsxs)(o.__,{children:[(0,c.jsx)(d.vD,{type:"text",name:"login",placeholder:"Login"}),(0,c.jsx)(d.aC,{component:"p",name:"login"})]}),(0,c.jsxs)(o.__,{children:[(0,c.jsx)(d.vD,{type:"password",name:"password",placeholder:"Password"}),(0,c.jsx)(d.aC,{component:"p",name:"password"})]}),(0,c.jsx)(d.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),a&&x.length&&(0,c.jsxs)(d.Lv,{children:[(0,c.jsx)(d.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0430\u0443\u043d\u0442\u0456\u0432 \u0442\u0456\u0447\u0435\u0440\u0456\u0432 \u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0434\u043e \u0442\u0430\u0431\u043b\u0438\u0447\u043e\u043a \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432"}),(0,c.jsx)("thead",{children:(0,c.jsxs)(d.me,{children:[(0,c.jsx)(d.Sb,{children:"\u0422\u0456\u0447\u0435\u0440"}),(0,c.jsx)(d.Sb,{children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),(0,c.jsx)(d.Sb,{children:"\u0414\u0430\u0442\u0430 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432"}),(0,c.jsx)(d.Sb,{children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438"})]})}),(0,c.jsx)("tbody",{children:x.sort(((n,e)=>n.name.localeCompare(e.name))).map(((n,e)=>(0,c.jsxs)(d.me,{children:[(0,c.jsx)(d.He,{children:n.name},"\u0422\u0456\u0447\u0435\u0440"+n._id),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).sort(((n,e)=>n.name.localeCompare(e.name))).map((n=>(0,c.jsx)(d.x2,{children:n.name})))},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"+n._id),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).sort(((n,e)=>n.name.localeCompare(e.name))).map((n=>n.feedback)).map((e=>e.filter((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))).map((n=>(0,c.jsx)(d.x2,{children:n.match(g)})))))},"\u0414\u0430\u0442\u0430 ".concat(e," ").concat(n._id)),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).sort(((n,e)=>n.name.localeCompare(e.name))).map((e=>({_id:e._id,name:e.name,feedback:e.feedback.filter((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" "))))}))).flatMap((n=>n.feedback.map((e=>"(".concat(n.name,") ").concat(e))))).map((n=>(0,c.jsx)(d.x2,{children:n.length>200?n.slice(0,200)+"...":n})))},"\u0412\u0456\u0434\u0433\u0443\u043a ".concat(e," ").concat(n._id))]})))})]}),n&&(0,c.jsx)(r.a,{})]})})}}}]);
//# sourceMappingURL=Teacher Control page.afe71767.chunk.js.map