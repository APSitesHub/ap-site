"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[5621],{5367:(e,n,a)=>{a.d(n,{NZ:()=>_,Nc:()=>I,Sq:()=>H,bH:()=>P,ih:()=>V,pv:()=>C,tA:()=>T,xA:()=>w,zN:()=>R});var t,s,l,i,r,c,o,d,u,p,h,x,m,g,b,f,v,j=a(168),k=a(7723),Z=a(5705),y=a(6487),S=a(4662);y.ZP.section(t||(t=(0,j.Z)(["\n  height: max-content;\n  padding: 30px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),(0,y.ZP)(Z.l0)(s||(s=(0,j.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 35px;\n"]))),(0,y.ZP)(Z.l0)(l||(l=(0,j.Z)(["\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),(0,y.ZP)(k.Mg)(i||(i=(0,j.Z)(["\n  margin: 0 auto;\n"]))),(0,y.ZP)(k.II)(r||(r=(0,j.Z)(["\n  border: 2px solid var(--main-color);\n"]))),(0,y.ZP)(k.II)(c||(c=(0,j.Z)(["\n  border-radius: 0;\n  width: 35vw;\n  height: 75vh;\n  scrollbar-width: thin;\n  background-color: transparent;\n"]))),(0,y.ZP)(k.r2)(o||(o=(0,j.Z)(["\n  position: static;\n  color: var(--main-color);\n  font-size: 24px;\n  font-weight: 700;\n  bottom: -1.1em;\n"])));const w=y.ZP.ul(d||(d=(0,j.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 14px;\n\n  text-transform: capitalize;\n  font-weight: 600;\n  margin-left: auto;\n"]))),R=y.ZP.h2(u||(u=(0,j.Z)(["\n  font-size: 32px;\n  text-align: center;\n  margin-bottom: 12px;\n"]))),_=y.ZP.li(p||(p=(0,j.Z)(["\n  width: 100%;\n  flex-basis: 40%;\n  flex-grow: 0;\n"]))),P=y.ZP.ul(h||(h=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),H=y.ZP.li(x||(x=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 400;\n  display: flex;\n  gap: 20px;\n  justify-content: space-between;\n  padding-bottom: 5px;\n  border-bottom: 1px solid black;\n"]))),C=y.ZP.span(m||(m=(0,j.Z)(["\n  min-width: 24px;\n"]))),I=y.ZP.span(g||(g=(0,j.Z)(["\n  min-width: 120px;\n  text-align: center;\n"]))),T=y.ZP.span(b||(b=(0,j.Z)(["\n  min-width: 100px;\n  text-align: center;\n"]))),V=(y.ZP.p(f||(f=(0,j.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),(0,y.ZP)(S.ZP)(v||(v=(0,j.Z)(["\n  width: 100%;\n  font-size: 14px;\n  border: 2px solid var(--main-color);\n\n  line-height: 1;\n\n  @media screen and (min-width: 768px) {\n    font-size: 19px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))))},9856:(e,n,a)=>{a.r(n),a.d(n,{default:()=>b});var t=a(5294),s=a(91),l=a(8313),i=a(1356),r=a(2791),c=a(7689),o=a(3084),d=a(7723),u=a(5705),p=a(7102),h=a(5367),x=a(8007),m=a(184);t.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const g=e=>{let{currentUser:n,studentToEdit:a,updateFeedback:s,closeCourseLevelEditForm:c}=e;const[g,b]=(0,r.useState)(!1),[f,v]=(0,r.useState)(a.temperament||""),[j,k]=(0,r.useState)(a.successRate||""),[Z,y]=(0,r.useState)(a.grammar||""),[S,w]=(0,r.useState)(a.lexis||""),[R,_]=(0,r.useState)(a.speaking||""),[P,H]=(0,r.useState)(a.listening||""),[C,I]=(0,r.useState)(a.Activity||""),T=[{label:"\u0421\u0438\u043b\u044c\u043d\u0438\u0439",value:"good"},{label:"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439",value:"mid"},{label:"\u0421\u043b\u0430\u0431\u043a\u0438\u0439",value:"bad"}],V=[{label:"\u0415\u043a\u0441\u0442\u0440\u0430\u0432\u0435\u0440\u0442",value:"extro"},{label:"\u0406\u043d\u0442\u0440\u043e\u0432\u0435\u0440\u0442",value:"intro"}],z=[{label:"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435",value:3},{label:"\u0414\u043e\u0431\u0440\u0435",value:2},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f",value:1}],A=[{label:"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435",value:3},{label:"\u0414\u043e\u0431\u0440\u0435",value:2},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f",value:1}],D=[{label:"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435",value:3},{label:"\u0414\u043e\u0431\u0440\u0435",value:2},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f",value:1}],E=[{label:"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435",value:3},{label:"\u0414\u043e\u0431\u0440\u0435",value:2},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f",value:1}],L=[{label:"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435",value:3},{label:"\u0414\u043e\u0431\u0440\u0435",value:2},{label:"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f",value:1}],F={temperament:a.temperament||"",successRate:a.successRate||"",grammar:a.grammar||"",lexis:a.lexis||"",speaking:a.speaking||"",listening:a.listening||"",activity:a.activity||"",feedback:""},U=x.Ry().shape({temperament:x.Z_(),successRate:x.Z_(),grammar:x.Rx(),lexis:x.Rx(),speaking:x.Rx(),listening:x.Rx(),activity:x.Rx(),feedback:x.Z_()});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.J9,{initialValues:F,onSubmit:async e=>{e.temperament=f,e.successRate=j,e.grammar=Z,e.lexis=S,e.speaking=R,e.listening=P,e.activity=C,e.feedback="".concat(n.name,",\n").concat((new Date).toLocaleString("uk-UA",{timeZone:"+03:00"}),":\n").concat(e.feedback);const l={...e,crmId:a.crmId};b((e=>!0));try{const n=await t.Z.patch("/speakingusers/".concat(a.userId),l),i=await t.Z.patch("/users/sc/".concat(a.userId),e);console.log(n),console.log(i),c(),alert("\u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u043e\u0432\u0430\u043d\u043e"),s(a._id,e)}catch(i){console.error(i),alert("\u0414\u0435\u0441\u044c \u044f\u043a\u0430\u0441\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 - \u043a\u043b\u0430\u0446\u0430\u0439 F12, \u0440\u043e\u0431\u0438 \u0441\u043a\u0440\u0456\u043d \u043a\u043e\u043d\u0441\u043e\u043b\u0456, \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0439 \u041a\u0438\u0440\u0438\u043b\u0443")}finally{b((e=>!1))}},validationSchema:U,children:(0,m.jsxs)(i.jr,{children:[(0,m.jsx)(o.xA,{children:a.name+(a.age?", "+a.age+"\u0440.":"")}),(0,m.jsx)(h.ih,{options:T,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0423\u0441\u043f\u0456\u0448\u043d\u0456\u0441\u0442\u044c",name:"successRate",defaultValue:T.find((e=>e.value===a.successRate)),onChange:e=>{k(e.value)}}),(0,m.jsx)(h.ih,{options:V,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u043c\u0435\u043d\u0442",name:"temperament",defaultValue:V.find((e=>e.value===a.temperament)),onChange:e=>{v(e.value)}}),(0,m.jsx)(h.ih,{options:z,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430",name:"grammar",defaultValue:z.find((e=>e.value===a.grammar)),onChange:e=>{y(e.value)}}),(0,m.jsx)(h.ih,{options:A,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u041b\u0435\u043a\u0441\u0438\u043a\u0430",name:"lexis",defaultValue:A.find((e=>e.value===a.lexis)),onChange:e=>{w(e.value)}}),(0,m.jsx)(h.ih,{options:D,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0413\u043e\u0432\u043e\u0440\u0456\u043d\u043d\u044f/\u0432\u0438\u043c\u043e\u0432\u0430",name:"speaking",defaultValue:D.find((e=>e.value===a.speaking)),onChange:e=>{_(e.value)}}),(0,m.jsx)(h.ih,{options:E,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0421\u043b\u0443\u0445\u0430\u043d\u043d\u044f",name:"listening",defaultValue:E.find((e=>e.value===a.listening)),onChange:e=>{H(e.value)}}),(0,m.jsx)(h.ih,{options:L,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c \u043d\u0430 \u0443\u0440\u043e\u0446\u0456",name:"activity",defaultValue:L.find((e=>e.value===a.activity)),onChange:e=>{I(e.value)}}),(0,m.jsxs)(d.__,{children:[(0,m.jsx)(o._V,{type:"text",name:"feedback",component:"textarea",placeholder:"\u0424\u0456\u0434\u0431\u0435\u043a"}),(0,m.jsx)(p.aC,{component:"p",name:"feedback"})]}),(0,m.jsx)(p.Gh,{type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})}),g&&(0,m.jsx)(l.a,{})]})},b=()=>{const e=(0,c.TH)().pathname.split("/speakings/")[1],[n,a]=(0,r.useState)(!1),[d,u]=(0,r.useState)([]),[p,h]=(0,r.useState)(""),[x,b]=(0,r.useState)({}),[f,v]=(0,r.useState)(!1),j=/\b(?:https?|ftp):\/\/\S+\b/g,[k]=(0,c.bx)(),Z=(e=>{switch(e){case"deutsch-a0":return"deutscha0";case"deutsch-a0_2":return"deutscha0_2";case"deutsch-a1":return"deutsch";case"deutsch-a1free":return"deutschfree";case"deutsch-a2":return"deutscha2";case"deutsch-a2free":return"deutscha2free";case"deutsch-b1":return"deutschb1";case"deutsch-b2":return"deutschb2";case"polski-a0":return"polskia0";case"polski-a0_2":return"polskia0_2";case"polski-a1":return"polski";case"polski-a1free":return"polskifree";case"polski-a2":return"polskia2";case"polski-b1":return"polskib1";case"polski-b2":return"polskib2";default:return e}})(e),y=(e=>e.includes("de")||e.includes("deutsch")?"de":e.includes("pl")||e.includes("polski")?"pl":"en")(e);return(0,r.useEffect)((()=>{document.title="Speaking Teacher ".concat(Z.toLocaleUpperCase()," | AP Education");(async()=>{try{a((e=>!0)),h((await t.Z.get("/timetable")).data.filter((e=>Z.includes(e.level)&&y===e.lang))[0].course);const e=await t.Z.get("/speakingusers");u((n=>[...e.data.filter((e=>e.course===p||e.course.split("/").some((e=>e===p))))])),console.log("eff")}catch(e){console.log(e)}finally{a((e=>!1))}})()}),[p,Z,y]),(0,m.jsxs)(o.rG,{children:[(0,m.jsxs)(o.fc,{children:[(0,m.jsx)(i.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0456\u0432, \u0449\u043e \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043b\u0438 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,m.jsx)("thead",{children:(0,m.jsxs)(i.me,{children:[(0,m.jsx)(i.Sb,{children:"\u2116"}),(0,m.jsx)(i.Sb,{children:"CRM"}),(0,m.jsx)(i.Sb,{children:"\u0406\u043c'\u044f"}),(0,m.jsx)(i.Sb,{children:"Edit"}),(0,m.jsx)(i.Sb,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0438\u043d\u0438"}),(0,m.jsx)(i.Sb,{children:"\u041c\u043e\u0432\u0430"}),(0,m.jsx)(i.Sb,{children:"\u041f\u043e\u0442\u0456\u043a"}),(0,m.jsx)(i.Sb,{children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u043c\u0435\u043d\u0442"}),(0,m.jsx)(i.Sb,{children:"\u0423\u0441\u043f\u0456\u0448\u043d\u0456\u0441\u0442\u044c"}),(0,m.jsx)(i.Sb,{children:"\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430"}),(0,m.jsx)(i.Sb,{children:"\u041b\u0435\u043a\u0441\u0438\u043a\u0430"}),(0,m.jsx)(i.Sb,{children:"\u0413\u043e\u0432\u043e\u0440\u0456\u043d\u043d\u044f"}),(0,m.jsx)(i.Sb,{children:"\u0421\u043b\u0443\u0445\u0430\u043d\u043d\u044f"}),(0,m.jsx)(i.Sb,{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c"}),(0,m.jsx)(i.Sb,{children:"\u0424\u0456\u0434\u0431\u0435\u043a"})]})}),(0,m.jsx)("tbody",{children:d.filter((e=>new Date-new Date((e=>{if(e){const n=e.split(".");return n.length>2?Date.parse([n[1],n[0],n[2]].join("/")):Date.parse(e)}})(e.visited[e.visited.length-1]))<=3456e5&&(y===e.lang||e.lang.split("/").some((e=>y===e)))&&(p===e.course||e.course.split("/").some((e=>p===e))))).sort(((e,n)=>Intl.Collator("uk").compare(e.name,n.name))).map(((e,n)=>(0,m.jsxs)(i.me,{children:[(0,m.jsx)(i.He,{children:n+1}),(0,m.jsx)(i.He,{children:(0,m.jsx)("a",{href:"https://apeducation.kommo.com/leads/detail/".concat(e.crmId),target:"_blank",rel:"noreferrer",children:e.crmId})}),(0,m.jsx)(i.KS,{children:e.name}),(0,m.jsx)(i.He,{children:"Dev Acc"===e.name?null:(0,m.jsx)(i.Hx,{onClick:()=>(async e=>{b((n=>d.find((n=>n.userId===e)))),v(!0)})(e.userId),children:"Edit"})}),(0,m.jsx)(i.He,{children:e.visitedTime[e.visitedTime.length-1]&&e.visitedTime[e.visitedTime.length-1].match("^202")?new Date(e.visitedTime[e.visitedTime.length-1]).toLocaleString("uk-UA"):""}),(0,m.jsx)(i.He,{children:e.lang}),(0,m.jsx)(i.He,{children:e.course}),(0,m.jsx)(i.He,{children:"extro"===e.temperament?"\u0415\u043a\u0441\u0442\u0440\u0430\u0432\u0435\u0440\u0442":"intro"===e.temperament?"\u0406\u043d\u0442\u0440\u043e\u0432\u0435\u0440\u0442":""}),(0,m.jsx)(i.He,{children:"good"===e.successRate?"\u0421\u0438\u043b\u044c\u043d\u0438\u0439":"mid"===e.successRate?"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439":"bad"===e.successRate?"\u0421\u043b\u0430\u0431\u043a\u0438\u0439":""}),(0,m.jsx)(i.He,{children:"3"===e.grammar?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":"2"===e.grammar?"\u0414\u043e\u0431\u0440\u0435":"1"===e.grammar?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,m.jsx)(i.He,{children:"3"===e.lexis?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":"2"===e.lexis?"\u0414\u043e\u0431\u0440\u0435":"1"===e.lexis?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,m.jsx)(i.He,{children:"3"===e.speaking?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":"2"===e.speaking?"\u0414\u043e\u0431\u0440\u0435":"1"===e.speaking?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,m.jsx)(i.He,{children:"3"===e.listening?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":"2"===e.listening?"\u0414\u043e\u0431\u0440\u0435":"1"===e.listening?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,m.jsx)(i.He,{children:"3"===e.activity?"\u0414\u0443\u0436\u0435 \u0434\u043e\u0431\u0440\u0435":"2"===e.activity?"\u0414\u043e\u0431\u0440\u0435":"1"===e.activity?"\u041f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f":""}),(0,m.jsx)(i.KS,{dangerouslySetInnerHTML:{__html:"string"===typeof e.feedback[e.feedback.length-1]?e.feedback[e.feedback.length-1].replace(j,(e=>'<a href="'.concat(e,'" target="_blank">').concat(e.length>50?e.slice(0,50)+"...":e,"</a>"))):""}})]},e._id)))})]}),f&&(0,m.jsx)(s.Y,{onMouseDown:e=>{"close-on-click"===e.target.id&&v(!1)},id:"close-on-click",children:(0,m.jsx)(g,{currentUser:k,studentToEdit:x,updateFeedback:(e,n)=>{const a=d.find((n=>n._id===e));a.successRate=n.successRate,a.temperament=n.temperament,a.grammar=n.grammar,a.lexis=n.lexis,a.speaking=n.speaking,a.listening=n.listening,a.activity=n.activity,a.feedback[0]=n.feedback,u((n=>[...n.filter((n=>n._id!==e)),a]))},closeCourseLevelEditForm:e=>{v(!1)}})}),n&&(0,m.jsx)(l.a,{})]})}}}]);
//# sourceMappingURL=Speaking Teacher Page.a9938450.chunk.js.map