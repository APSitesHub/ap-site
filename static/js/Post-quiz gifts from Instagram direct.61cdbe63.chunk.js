"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[8070],{6979:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var o=t(5294),a=t(7723),s=t(8313),r=t(3201),l=t(5705),i=t(7241),c=t(6739),d=t(7102),h=t(2791),u=t(3134),p=t.n(u),m=t(7689),x=t(8007),j=t(2641),g=t(6110),f=t(38),y=t(184);const S=()=>{const[e,n]=(0,h.useState)(!1),[t,u]=(0,h.useState)({}),[S,Z]=(0,h.useState)(!1),[v,C]=(0,h.useState)(!1),[k,w]=(0,h.useState)(""),[b,_]=(0,h.useState)(!1),M=Math.floor(1e6*Math.random()).toString(),P=Math.floor(1e6*Math.random()).toString(),q=Math.floor(1e6*Math.random()).toString();console.log(t);const I=(0,m.TH)().pathname.match(/(\d+)/)[0];console.log(I),o.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const A=e=>{o.Z.defaults.headers.common.Authorization="Bearer ".concat(e)};(0,h.useEffect)((()=>{document.title="\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0438 | AP Education";(async()=>{if(console.log("token refresher"),console.log(localStorage.getItem("authCode")),localStorage.getItem("authCode"))try{const e=await o.Z.post("/users/refresh-code",{authCode:localStorage.getItem("authCode")});n((e=>!0)),console.log(e),u((n=>({...e.data.user})))}catch(e){console.log(e)}})()}),[]);const D={phone:"",name:"Marathon User ".concat(q),mail:M.length<6?"marathon-ap0".concat(M,"@ap.edu"):"marathon-ap".concat(M,"@ap.edu"),password:P.length<6?"0"+P:P,authCode:q},F=()=>{console.log((0,l.u6)());const{values:e,isValid:n,submitForm:t}=(0,l.u6)();return(0,y.jsx)(c.OB,{onClick:async o=>{console.log(n),e.authCode&&n&&(console.log("valid"),await t())},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0456\u0432"})},T=x.Ry().shape({phone:x.Z_().required("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").min(10,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 \u0437 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!").max(15,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 \u0437 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!"),name:x.Z_(),mail:x.Z_(),password:x.Z_(),authCode:x.Z_()}),J=x.Ry().shape({authCode:x.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u043e\u0434, \u044f\u043a\u0438\u0439 \u043c\u0438 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043b\u0438 \u0432\u0430\u043c \u0432 SMS!")}),U=()=>{console.log("mouse out?"),w((e=>"")),v&&C((e=>!e))};return(0,y.jsxs)(y.Fragment,{children:[e||S?!e&&S?(0,y.jsx)(l.J9,{initialValues:{authCode:""},onSubmit:async(e,a)=>{let{resetForm:s}=a;e={authCode:e.authCode.trim().trimStart()},console.log(e);try{_(!0);const a=await o.Z.post("/users/login-direct",e);A(a.data.token),n((e=>!0)),u((e=>({...a.data.user}))),localStorage.setItem("authCode",t.authCode),s()}catch(r){console.error(r)}finally{_(!1)}},validationSchema:J,children:(0,y.jsxs)(d.U0,{children:[(0,y.jsx)(a.hQ,{}),(0,y.jsx)(a.T$,{}),(0,y.jsx)(r.YA,{children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u043e\u0434, \u044f\u043a\u0438\u0439 \u043c\u0438 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043b\u0438 \u0432\u0430\u043c \u0432 SMS-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u0456!"}),(0,y.jsxs)(a.__,{children:[(0,y.jsx)(d.vD,{type:"text",name:"authCode",placeholder:"\u041a\u043e\u0434*"}),(0,y.jsx)(d.aC,{component:"p",name:"authCode"})]}),(0,y.jsx)(F,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0456\u0432"})]})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g.TR,{}),(0,y.jsx)(c.Dx,{children:"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0438"}),(0,y.jsx)(g.DK,{children:"\u0420\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f \u0432\u0436\u0435 \u0437\u0430\u0440\u0430\u0437 \u0437 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u043c\u0438 \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0438\u043c\u0438 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0430\u043c\u0438!"}),(0,y.jsx)(g.BO,{children:f.c[t.lang][t.knowledge].map(((e,n)=>(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(g.ju,{children:["quizlet"===e.type&&(0,y.jsx)(i.Pq,{children:(0,y.jsxs)(g.Gt,{target:"_blank",rel:"noopener noreferrer",to:e.link,children:[(0,y.jsx)(g.lA,{}),(0,y.jsx)(g.mb,{}),(0,y.jsxs)(g.J2,{children:["\u041d\u0430\u0431\u0456\u0440 \u0432\u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u043e\u0433\u043e \u0432\u0438\u0432\u0447\u0435\u043d\u043d\u044f \u0441\u043b\u0456\u0432 \u0434\u043b\u044f \u0440\u0456\u0432\u043d\u044f"," ",e.name]}),(0,y.jsx)(g.Sd,{})]})}),"video"===e.type&&(0,y.jsxs)(g.IT,{children:[(0,y.jsxs)(i.Pq,{children:[(0,y.jsx)(g.nn,{}),(0,y.jsx)(g.J2,{children:e.name})]}),(0,y.jsx)(i.gZ,{children:(0,y.jsx)(p(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.link})})]}),"grammar"===e.type&&(0,y.jsxs)(i.Dv,{onMouseLeave:U,children:[(0,y.jsxs)(i.Ag,{id:e.link,onMouseEnter:e=>(e=>{w((n=>e.target.id)),v||C((e=>!e))})(e),onTouchEnd:()=>{return n=e.link,w(n),void(v&&n!==k?w((e=>n)):v||n!==k?v&&n===k?C((e=>!e)):(e=>{console.log("opener"),w((n=>e)),C((e=>!e))})(n):C((e=>!e)));var n},children:[(0,y.jsx)(j.r,{}),(0,y.jsxs)(i.CH,{target:"_blank",rel:"noopener noreferrer",to:e.link,children:[(0,y.jsx)(g.J2,{children:e.name}),(0,y.jsx)(i.h0,{})]})]}),(0,y.jsx)(g.Ym,{className:v&&k===e.link&&"preview-open",children:v&&k===e.link&&(0,y.jsx)(g.Xq,{title:"Preview of ".concat(e.link),src:e.link.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})]},n)})))})]}):(0,y.jsx)(l.J9,{initialValues:D,onSubmit:async(e,n)=>{let{resetForm:t}=n;e.phone=e.phone.trim().trimStart();try{_(!0);const n=await o.Z.put("/users/crm-gifts/".concat(I),e);console.log(n),A(n.data.token),Z((e=>!0)),u((e=>({...n.data}))),t()}catch(a){console.error(a)}finally{_(!1)}},validationSchema:T,children:(0,y.jsxs)(d.U0,{children:[(0,y.jsx)(a.hQ,{}),(0,y.jsx)(a.T$,{}),(0,y.jsxs)(r.YA,{children:["\u041f\u0440\u0438\u0432\u0456\u0442!",(0,y.jsx)("br",{}),"\u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e \u0432\u0456\u0434 \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440!"]}),(0,y.jsxs)(a.__,{children:[(0,y.jsx)(d.vD,{type:"text",name:"phone",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443*"}),(0,y.jsx)(d.aC,{component:"p",name:"phone"})]}),(0,y.jsx)(d.Gh,{type:"submit",children:"\u041e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043a\u043e\u0434"})]})}),b&&(0,y.jsx)(s.a,{})]})}},7102:(e,n,t)=>{t.d(n,{Gh:()=>j,Kq:()=>p,Od:()=>x,U0:()=>m,aC:()=>f,vD:()=>g});var o,a,s,r,l,i,c=t(168),d=t(7723),h=t(5705),u=t(6487);const p=u.ZP.section(o||(o=(0,c.Z)(["\n  height: max-content;\n  padding: 30px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),m=(0,u.ZP)(h.l0)(a||(a=(0,c.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 35px;\n"]))),x=(0,u.ZP)(h.l0)(s||(s=(0,c.Z)(["\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),j=(0,u.ZP)(d.Mg)(r||(r=(0,c.Z)(["\n  margin: 0 auto;\n  max-width: 600px;\n"]))),g=(0,u.ZP)(d.II)(l||(l=(0,c.Z)(["\n  border: 2px solid var(--main-color);\n  max-width: 600px;\n"]))),f=(0,u.ZP)(d.r2)(i||(i=(0,c.Z)(["\n  position: static;\n  color: var(--main-color);\n  font-size: 14px;\n  bottom: -1.1em;\n"])))}}]);
//# sourceMappingURL=Post-quiz gifts from Instagram direct.61cdbe63.chunk.js.map