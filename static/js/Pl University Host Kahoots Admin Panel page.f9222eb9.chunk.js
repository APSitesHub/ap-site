"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[6486],{50538:(s,e,i)=>{i.r(e),i.d(e,{default:()=>P});var o=i(55294),n=i(97723),t=i(8313),c=i(55705),a=i(72791),r=i(8007),l=i(21212),d=i(33682),p=i(41094),g=i(45347),u=i(85997),h=i(30639),j=i(88224),m=i(7180),x=i(27235),_=i(66347),w=i(82606),k=i(80184);o.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const C=s=>{o.Z.defaults.headers.common.Authorization="Bearer ".concat(s)},P=()=>{const[s,e]=(0,a.useState)(!1),[i,P]=(0,a.useState)(!1),[S,f]=(0,a.useState)([]),O="/unihostkahoots";(0,a.useEffect)((()=>{document.title="Pl University Host Kahoot Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const s=await o.Z.post("admins/refresh/kahoot/",{});console.log(s),P((s=>!0)),C(s.data.newToken)}}catch(s){console.log(s)}})()}),[i]);const y=r.Ry().shape({login:r.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:r.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),b=s=>{S.includes(s)?f((e=>[...e].filter((e=>e!==s)))):f((e=>[...e,s]))};return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(p.Kq,{children:[!i&&(0,k.jsx)(c.J9,{initialValues:{login:"",password:""},onSubmit:async(s,i)=>{let{resetForm:n}=i;e((s=>!0));try{const i=await o.Z.post("/admins/login/kahoot",s);C(i.data.token),P((s=>!0)),localStorage.setItem("isAdmin",!0),n()}catch(t){console.error(t)}finally{e((s=>!1))}},validationSchema:y,children:(0,k.jsxs)(p.U0,{children:[(0,k.jsxs)(n.__,{children:[(0,k.jsx)(p.vD,{type:"text",name:"login",placeholder:"Login"}),(0,k.jsx)(p.aC,{component:"p",name:"login"})]}),(0,k.jsxs)(n.__,{children:[(0,k.jsx)(p.vD,{type:"password",name:"password",placeholder:"Password"}),(0,k.jsx)(p.aC,{component:"p",name:"password"})]}),(0,k.jsx)(p.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),i&&(0,k.jsxs)(p.XP,{children:[(0,k.jsx)(p.Os,{onClick:()=>b("pedagogium_logistics"),children:"Pedagogium Logistics"}),(0,k.jsx)(p.Os,{onClick:()=>b("pedagogium_prep"),children:"Pedagogium Prep"}),(0,k.jsx)(p.Os,{onClick:()=>b("wstijo_logistics"),children:"WSTIJO Logistics"}),(0,k.jsx)(p.Os,{onClick:()=>b("wstijo_prep"),children:"WSTIJO Prep"}),(0,k.jsx)(p.Os,{onClick:()=>b("wsbmir_logistics"),children:"WSBMIR Logistics"}),(0,k.jsx)(p.Os,{onClick:()=>b("wsbmir_prep"),children:"WSBMIR Prep"}),(0,k.jsx)(p.Os,{onClick:()=>b("ewspa_logistics"),children:"EWSPA Logistics"}),(0,k.jsx)(p.Os,{onClick:()=>b("ewspa_prep"),children:"EWSPA Prep"}),(0,k.jsx)(p.Os,{onClick:()=>b("merito_logistics"),children:"Merito Logistics"}),(0,k.jsx)(p.Os,{onClick:()=>b("merito_prep"),children:"Merito Prep"})]}),(0,k.jsxs)(p.YT,{children:[S.includes("pedagogium_logistics")&&(0,k.jsx)(h.J,{destination:O}),S.includes("pedagogium_prep")&&(0,k.jsx)(j.K,{destination:O}),S.includes("wstijo_logistics")&&(0,k.jsx)(_.J,{destination:O}),S.includes("wstijo_prep")&&(0,k.jsx)(w.J,{destination:O}),S.includes("wsbmir_logistics")&&(0,k.jsx)(m.B,{destination:O}),S.includes("wsbmir_prep")&&(0,k.jsx)(x.L,{destination:O}),S.includes("ewspa_logistics")&&(0,k.jsx)(l.V,{destination:O}),S.includes("ewspa_prep")&&(0,k.jsx)(d.S,{destination:O}),S.includes("merito_logistics")&&(0,k.jsx)(g.F,{destination:O}),S.includes("merito_prep")&&(0,k.jsx)(u.G,{destination:O})]}),s&&(0,k.jsx)(t.a,{})]})})}}}]);
//# sourceMappingURL=Pl University Host Kahoots Admin Panel page.f9222eb9.chunk.js.map