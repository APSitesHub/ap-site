"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[9466],{7340:(e,n,t)=>{t.r(n),t.d(n,{default:()=>$n});var a,s=t(5294),o=t(7723),i=t(3201),l=t(5705),r=t(7102),d=t(2791),c=t(7689),p=t(8007),h=t(168),x=t(6487);const u=x.ZP.div(a||(a=(0,h.Z)(["\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n"])));var g=t(184);const m=e=>{let{platformLink:n}=e;const[t,a]=(0,d.useState)("https://online.ap.education/school/"),s=(0,c.TH)().search.slice(1);return(0,d.useEffect)((()=>{a(n||s?s||n:"https://online.ap.education/school/")}),[n,s]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(u,{children:(0,g.jsx)("iframe",{id:"platform-window",title:"platform-pin",src:t,width:"100%",height:"100%",allow:"microphone *"})})})};var f;function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},j.apply(this,arguments)}function w(e,n){let{title:t,titleId:a,...s}=e;return d.createElement("svg",j({id:"empty",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":a},s),t?d.createElement("title",{id:a},t):null,f||(f=d.createElement("path",{d:"M11.92 22C17.42 22 21.92 17.5 21.92 12C21.92 6.5 17.42 2 11.92 2C6.42001 2 1.92001 6.5 1.92001 12C1.92001 17.5 6.42001 22 11.92 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const v=d.forwardRef(w);t.p;var b,y;function D(){return D=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},D.apply(this,arguments)}function k(e,n){let{title:t,titleId:a,...s}=e;return d.createElement("svg",D({id:"minus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:n,"aria-labelledby":a},s),t?d.createElement("title",{id:a},t):null,b||(b=d.createElement("path",{d:"M12.42 22C17.92 22 22.42 17.5 22.42 12C22.42 6.5 17.92 2 12.42 2C6.92001 2 2.42001 6.5 2.42001 12C2.42001 17.5 6.92001 22 12.42 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),y||(y=d.createElement("path",{d:"M8.42001 12H16.42",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const Z=d.forwardRef(k);t.p;var I,C,P;function M(){return M=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},M.apply(this,arguments)}function L(e,n){let{title:t,titleId:a,...s}=e;return d.createElement("svg",M({id:"plus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:n,"aria-labelledby":a},s),t?d.createElement("title",{id:a},t):null,I||(I=d.createElement("path",{d:"M12.5 22C18 22 22.5 17.5 22.5 12C22.5 6.5 18 2 12.5 2C7 2 2.5 6.5 2.5 12C2.5 17.5 7 22 12.5 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),C||(C=d.createElement("path",{d:"M8.5 12H16.5",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),P||(P=d.createElement("path",{d:"M12.5 16V8",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const S=d.forwardRef(L);t.p;var N,E,O,z,F,Y,_,q,U,A,V,H,T,W,R,B,X,J,$,Q,G,K=t(8945),ee=t(5411),ne=t(4702);const te=x.ZP.div(N||(N=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: auto;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n"]))),ae=x.ZP.h3(E||(E=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),se=(0,x.ZP)(ne.Ip)(O||(O=(0,h.Z)([""]))),oe=(0,x.ZP)(ne.CD)(z||(z=(0,h.Z)([""]))),ie=x.ZP.div(F||(F=(0,h.Z)(["\n  padding: 7px 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  @media screen and (min-width: 360px) {\n    padding: 11px 6px;\n  }\n\n  @media screen and (min-width: 480px) {\n    padding: 18px 10px;\n  }\n"]))),le=x.ZP.div(Y||(Y=(0,h.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 2px;\n  align-items: center;\n\n  padding: 3px 3px;\n  border-radius: 6px;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #fff;\n"]))),re=x.ZP.span(_||(_=(0,h.Z)(["\n  color: var(--secondary-color);\n  font-size: 12px;\n\n  min-width: 70px;\n  text-align: center;\n  width: max-content;\n\n  text-transform: capitalize;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),de=x.ZP.button(q||(q=(0,h.Z)(["\n  width: 16px;\n  height: 16px;\n\n  position: relative;\n\n  border: none;\n  outline: transparent;\n  background-color: transparent;\n\n  &:not(:disabled),\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n\n  &:not(:disabled):hover svg,\n  &:not(:disabled):focus svg {\n    color: var(--accent-color);\n  }\n"]))),ce=(0,x.ZP)(K.r)(U||(U=(0,h.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),pe=(0,x.ZP)(ee.r)(A||(A=(0,h.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),he=x.ZP.ul(V||(V=(0,h.Z)(["\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  margin: -1px;\n  padding: 0 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),xe=x.ZP.li(H||(H=(0,h.Z)(["\n  padding: 10px 0;\n  display: flex;\n  gap: 8px;\n"]))),ue=x.ZP.span(T||(T=(0,h.Z)([""]))),ge=x.ZP.span(W||(W=(0,h.Z)([""]))),me=x.ZP.span(R||(R=(0,h.Z)(["\n  color: var(--main-color);\n"]))),fe=x.ZP.div(B||(B=(0,h.Z)(["\n  padding: 10px 8px;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),je=x.ZP.div(X||(X=(0,h.Z)(["\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),we=x.ZP.div(J||(J=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),ve=x.ZP.div($||($=(0,h.Z)(["\n  position: relative;\n"]))),be=x.ZP.div(Q||(Q=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateY(-50%);\n\n  @media screen and (min-width: 360px) {\n    gap: 4px;\n  }\n\n  @media screen and (min-width: 480px) {\n    gap: 8px;\n  }\n"]))),ye=x.ZP.ul(G||(G=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),De=e=>{let{user:n,isMultipleCourses:t}=e;const[a,s]=(0,d.useState)((new Date).getDate()-(new Date).getDay()),[o,i]=(0,d.useState)((new Date).getMonth()+1),[l,r]=(0,d.useState)((new Date).getFullYear()),[c,p]=(0,d.useState)([]),[h,x]=(0,d.useState)([]),[u,m]=(0,d.useState)([]);(0,d.useEffect)((()=>{(()=>{let e=new Date(l,o-1,a+1);const n=e.getDate()-e.getDay(),t=[];e.getDate()!==n?e.setDate(n):e.setDate(n+1);let s=0;for(;e.getDay()<=6&&s<7;)s+=1,e.getDay()>=1&&e.getDay()<=4&&t.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);p((e=>t))})();(()=>{let e=new Date(l,o-1,1);const n=[];for(e.setDate(1);e.getMonth()+1===o;)e.getDay()>=1&&e.getDay()<=4&&n.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);x((e=>n))})();(()=>{let e=new Date;const n=[];for(e.setDate(1),e.setMonth(0);e.getFullYear()===l;)e.getDay()>=1&&e.getDay()<=4&&n.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);m((e=>n))})()}),[a,o,l]);const f=e=>"".concat(e).length>1?e:"0"+e,j=e=>{let t=new Date(l,e-1,1);const a=[];for(t.setDate(1);t.getMonth()+1===e;)t.getDay()>=1&&t.getDay()<=4&&a.push(new Date(t.getFullYear(),t.getMonth(),t.getDate(),3).toISOString()),t.setDate(t.getDate()+1);const s=a.map((e=>"".concat(f(new Date(e).getDate()),".").concat(f(new Date(e).getMonth()+1),".").concat(new Date(e).getFullYear())));return n.visited.filter((n=>+n.split(".")[1]===e&&s.includes(n))).length},w=e=>{const t=(e=>{let n=new Date(e).toISOString();const t=new Date(n).getDate()-new Date(n).getDay(),a=[];n=new Date(n).getDate()!==t?new Date(n).setDate(t):new Date(n).setDate(t+1);let s=0;for(;new Date(n).getDay()<=6&&s<7;)s+=1,new Date(n).getDay()>=1&&new Date(n).getDay()<=4&&a.push(n),n=new Date(new Date(n).setDate(new Date(n).getDate()+1));return a})(new Date(l,o-1,e+1,3).toISOString()).map((e=>"".concat(f(new Date(e).getDate()),".").concat(f(new Date(e).getMonth()+1),".").concat(f(new Date(e).getFullYear()))));return n.visited.filter((e=>t.includes(e))).length},b=()=>{const e=c,n=e.findIndex((e=>new Date(e).getDate()===(new Date).getDate()&&new Date(e).getMonth()===(new Date).getMonth())),t=e.slice(0,n+1).length;return n<0&&w(a)>0?c.length-w(a):0===t||t-w(a)<0?0:t-w(a)},y=()=>{const e=h,n=e.findIndex((e=>new Date(e).getDate()===(new Date).getDate()&&new Date(e).getMonth()===(new Date).getMonth())),t=e.slice(0,n+1).length;return n<0&&j(o)>0?h.length-j(o):0===t||t-j(o)<0?0:t-j(o)};return(0,g.jsxs)(te,{style:{top:t?"184px":"142px"},children:[(0,g.jsxs)(ae,{children:[(0,g.jsx)(oe,{}),"\u0412\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u0456\u0441\u0442\u044c"]}),(0,g.jsxs)(ie,{children:[(0,g.jsxs)(le,{children:[(0,g.jsx)(de,{disabled:0===w(a-7),onClick:()=>{s(a-7)},children:(0,g.jsx)(ce,{className:0!==w(a-7)&&"available"})}),(0,g.jsx)(re,{children:(()=>{const e=new Date(l,o-1,a+1),n=new Date(e),t=new Date(n.setDate(n.getDate()+6));return"".concat(f(e.getDate()),".").concat(f(e.getMonth()+1)," - ").concat(f(t.getDate()),".").concat(f(t.getMonth()+1),".").concat(t.getFullYear())})()}),(0,g.jsx)(de,{disabled:0===w(a+7),onClick:()=>{s(a+7)},children:(0,g.jsx)(pe,{className:0!==w(a+7)&&"available"})})]}),(0,g.jsxs)(he,{children:[(0,g.jsx)(xe,{children:(0,g.jsxs)(je,{children:[(0,g.jsxs)(we,{children:[(0,g.jsx)(ue,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,g.jsx)(ve,{children:(0,g.jsx)(be,{children:(()=>{const e=c.map((e=>"".concat(f(new Date(e).getDate()),".").concat(f(new Date(e).getMonth()+1),".").concat(f(new Date(e).getFullYear())))),t=n.visited.filter((n=>e.includes(n)));return e.map(((e,n)=>t.includes(e)?(0,g.jsx)(S,{},n):!t.includes(e)&&(+e.split(".")[1]<(new Date).getMonth()+1||+e.split(".")[0]<(new Date).getDate())?(0,g.jsx)(Z,{},n):(0,g.jsx)(v,{},n)))})()})})]}),(0,g.jsxs)(ge,{children:[(()=>{const e=c.map((e=>"".concat(f(new Date(e).getDate()),".").concat(f(new Date(e).getMonth()+1),".").concat(new Date(e).getFullYear())));return n.visited.filter((n=>e.includes(n))).length})(),"/",(0,g.jsx)(me,{children:c.length})]})]})}),(0,g.jsxs)(xe,{children:[(0,g.jsx)(ue,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,g.jsx)(ge,{style:{color:b()>0&&"#D61D1D"},children:b()})]})]}),(0,g.jsxs)(le,{children:[(0,g.jsx)(de,{disabled:0===j(o-1),onClick:()=>{if(o>1){i(o-1);const e=new Date(l,o-2,1),t=n.visited.filter((e=>+e.split(".")[1]===o-1)),a=new Date(l,o-2,+t[0].split(".")[0]);return void s(a>7?a.getDate()-a.getDay():e.getDate()-e.getDay())}i(12),r(l-1);const e=new Date(l,o-2,1),t=n.visited.filter((e=>+e.split(".")[1]===o-1)),a=new Date(l,o-2,+t[0].split(".")[0]);s(a>7?a.getDate()-a.getDay():e.getDate()-e.getDay())},children:(0,g.jsx)(ce,{className:0!==j(o-1)&&"available"})}),(0,g.jsx)(re,{children:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"][o-1]}),(0,g.jsx)(de,{disabled:0===j(o+1),onClick:()=>{if(o<12){i(o+1);const e=new Date(l,o,1),t=n.visited.filter((e=>+e.split(".")[1]===o+1)),a=new Date(l,o,+t[0].split(".")[0]);return void s(a>7?a.getDate()-a.getDay():e.getDate()-e.getDay())}i(1),r(l+1);const e=new Date(l,o,1),t=n.visited.filter((e=>+e.split(".")[1]===o+1)),a=new Date(l,o,+t[0].split(".")[0]);s(a>7?a.getDate()-a.getDay():e.getDate()-e.getDay())},children:(0,g.jsx)(pe,{className:0!==j(o+1)&&"available"})})]}),(0,g.jsxs)(he,{children:[(0,g.jsxs)(xe,{children:[(0,g.jsx)(ue,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,g.jsxs)(ge,{children:[j(o),"/",(0,g.jsx)(me,{children:h.length})]})]}),(0,g.jsxs)(xe,{children:[(0,g.jsx)(ue,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,g.jsx)(ge,{style:{color:y()>0&&"#D61D1D"},children:y()})]})]}),(0,g.jsxs)(fe,{children:[(0,g.jsx)(ue,{children:"\u0417\u0430\u0433\u0430\u043b\u043e\u043c \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e \u0443\u0440\u043e\u043a\u0456\u0432 \u0437\u0430 \u0440\u0456\u043a:"}),(0,g.jsxs)(ge,{children:[(()=>{const e=u.map((e=>"".concat(new Date(e).getDate(),".").concat(f(new Date(e).getMonth()+1),".").concat(f(new Date(e).getFullYear()))));return n.visited.filter((n=>e.includes(n))).length})(),"/",(0,g.jsx)(me,{children:u.length})]}),(0,g.jsx)(ye,{})]})]})]})};var ke=t(5658),Ze=t(3134),Ie=t.n(Ze),Ce=t(2641),Pe=t(7241);const Me=e=>{let{lessons:n,language:t,user:a,setPlatformIframeLink:s,isMultipleCourses:o}=e;const[i,l]=(0,d.useState)([]),[r,c]=(0,d.useState)(!1),[p,h]=(0,d.useState)(""),[x,u]=(0,d.useState)(!1),[m,f]=(0,d.useState)(""),[j,w]=(0,d.useState)([]),[v,b]=(0,d.useState)([]),[y,D]=(0,d.useState)(!1),[k,Z]=(0,d.useState)(0),[I,C]=(0,d.useState)(!0),P=window.location.origin+window.location.pathname,M=e=>{u(!1),f(""),w([]),b([]);const a=e.target.value;l(""!==a?e=>[...n.filter((e=>{const n=e.level+" "+e.lesson.replace("Lesson","").replace("Lekcja","").replace("Unterricht","").trim().trimStart();return(e.keysEn.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.keysUa.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.topic.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.lesson.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.level.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.toLowerCase().includes(a.toLowerCase().trim().trimStart()))&&t===e.lang}))]:e=>[...n.filter((e=>t===e.lang))]),sessionStorage.setItem("searchValue",a)},L=e=>{const n=e.target.value;C(""===n),b(""!==n?e=>[...j.filter((e=>e.question.toLowerCase().includes(n.toLowerCase().trim().trimStart())||e.exercise.toLowerCase().includes(n.toLowerCase().trim().trimStart())))]:e=>[...j])},S=e=>{e.currentTarget.classList.toggle("tooltip-open")},N=()=>{console.log("mouse out?"),h((e=>"")),r&&c((e=>!e))},E=e=>y&&e!==k?Z(e):y||e!==k?y&&e===k?D((e=>!e)):(e=>{Z(e),D((e=>!e))})(e):D((e=>!e));return(0,g.jsxs)(Pe.yO,{className:0===i.length&&"nothing-found",style:{top:o?"184px":"142px"},children:[(0,g.jsxs)(Pe.GJ,{children:[(0,g.jsx)(Pe.qZ,{}),(0,g.jsx)(Pe.OO,{value:sessionStorage.getItem("searchValue")?sessionStorage.getItem("searchValue"):"",autoFocus:sessionStorage.getItem("searchValue")&&!0,onFocus:sessionStorage.getItem("searchValue")&&M,onChange:M,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0430\u0431\u043e \u0442\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443"})]}),0!==i.length&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Pe.JS,{children:(0,g.jsx)(Pe.Vz,{children:i.slice(0,5).map((e=>(0,g.jsxs)(Pe.$J,{children:[(0,g.jsxs)(Pe.Pq,{children:[(0,g.jsx)(Pe.W7,{children:e.level+e.lesson.replace("Lesson"," -").replace("Lekcja"," -").replace("Unterricht"," -")}),(0,g.jsxs)(Pe.Nk,{children:[(0,g.jsxs)(Pe.sF,{children:[e.level," ",e.lesson]}),(0,g.jsxs)(Pe.zs,{children:[(0,g.jsx)(Pe.P3,{onMouseEnter:e=>S(e),onMouseOut:e=>S(e),onClick:()=>{s("https://online.ap.education/MarathonClass/?marathonId=".concat(e.marathonId,"&pupilId=").concat(a.pupilId,"&marathonLessonId=").concat(e.lessonId))},children:(0,g.jsx)(Pe.BI,{})}),(0,g.jsx)(Pe.u,{onMouseEnter:e=>S(e),onMouseOut:e=>S(e),onClick:()=>{window.open("".concat(P,"?https://online.ap.education/MarathonClass/?marathonId=").concat(e.marathonId,"&pupilId=").concat(a.pupilId,"&marathonLessonId=").concat(e.lessonId),"_blank")},children:(0,g.jsx)(Pe.h0,{})})]}),(0,g.jsx)(Pe.RM,{children:e.topic})]})]}),e.video[0]&&(0,g.jsx)(Pe.gZ,{children:(0,g.jsx)(Ie(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.video[0]})}),e.pdf.length>0&&(0,g.jsx)(Pe.Dv,{onMouseLeave:N,children:e.pdf.map(((e,n)=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Pe.Ag,{id:e,onMouseEnter:e=>(e=>{h((n=>e.target.id)),r||c((e=>!e))})(e),onTouchEnd:()=>{return h(n=e),void(r&&n!==p?h((e=>n)):r||n!==p?r&&n===p?c((e=>!e)):(e=>{console.log("opener"),h((n=>e)),c((e=>!e))})(n):c((e=>!e)));var n},children:[(0,g.jsx)(Ce.r,{}),(0,g.jsxs)(Pe.CH,{target:"_blank",rel:"noopener noreferrer",to:(0,ke.ZP)(e),children:["\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430 ",n+1,(0,g.jsx)(Pe.h0,{})]},n)]},e),(0,g.jsx)(Pe.Ym,{className:r&&p===e&&"preview-open",children:r&&p===e&&(0,g.jsx)(Pe.Xq,{title:"Preview of ".concat(e),src:e.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})))}),e.faq.length>0&&(0,g.jsxs)(Pe.Nn,{children:[(0,g.jsxs)(Pe.uT,{onClick:()=>(e=>{u((e=>!e)),w((n=>[...e.faq])),b((n=>[...e.faq])),f((n=>e._id))})(e),children:[(0,g.jsxs)(Pe.OX,{children:[(0,g.jsx)(Pe.U$,{children:(0,g.jsx)(Pe.m9,{children:"?"})}),"FAQ"," "]}),x?(0,g.jsx)(Pe.YY,{}):(0,g.jsx)(Pe.Ok,{})]}),(0,g.jsxs)(Pe.on,{className:x&&m===e._id&&"faqlistopen",children:[(0,g.jsx)(Pe.iL,{onChange:L,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0432\u043f\u0440\u0430\u0432\u0438 \u0430\u0431\u043e \u0432\u0430\u0448\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:!I&&"not-empty"}),(0,g.jsx)(Pe.UA,{})]}),(0,g.jsx)(Pe.Ar,{className:x&&m===e._id&&"faqlistopen",children:v.map(((e,n)=>(0,g.jsxs)(Pe.E2,{children:[(0,g.jsx)(Pe.VH,{onClick:()=>E(n),children:e.exercise}),(0,g.jsx)(Pe.HL,{className:y&&k===n&&"preview-open",children:e.question}),(0,g.jsx)(Pe.Xu,{className:y&&k===n&&"preview-open",children:y&&k===n&&(0,g.jsx)(Pe.gZ,{children:(0,g.jsx)(Ie(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.answer})})})]},n)))})]})]},e._id)))})}),(0,g.jsx)(Pe.i9,{})]})]})};var Le=t(5984);const Se=t.p+"static/media/eyes.ab4bffffebc999f327b2.png";var Ne,Ee,Oe,ze,Fe,Ye,_e,qe,Ue,Ae,Ve,He,Te,We,Re,Be,Xe,Je,$e;const Qe=x.ZP.div(Ne||(Ne=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: 440px;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: 450px;\n  }\n\n  @media screen and (min-height: 960px) {\n    height: 556px;\n    overflow-y: hidden;\n  }\n"]))),Ge=x.ZP.h3(Ee||(Ee=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Ke=x.ZP.div(Oe||(Oe=(0,h.Z)(["\n  padding: 5px 0;\n\n  position: relative;\n\n  font-size: 14px;\n\n  display: flex;\n\n  margin-bottom: 6px;\n\n  &::after {\n    content: '';\n    height: 2px;\n    width: 100%;\n    border-radius: 2px;\n    background-color: #eeeef0;\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n"]))),en=x.ZP.p(ze||(ze=(0,h.Z)(["\n  font-size: 14px;\n  text-align: center;\n  width: 50%;\n  color: #bebecc;\n\n  transition: color var(--animation-global);\n\n  cursor: pointer;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: #525266;\n  }\n"]))),nn=x.ZP.div(Fe||(Fe=(0,h.Z)(["\n  height: 2px;\n  width: 50%;\n  border-radius: 2px;\n  background-color: var(--main-color);\n\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  transition: transform 250ms var(--animation-global);\n"]))),tn=x.ZP.div(Ye||(Ye=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 6px 5px 6px 0;\n"]))),an=x.ZP.p(_e||(_e=(0,h.Z)(["\n  font-size: 12px;\n  color: #bebecc;\n"]))),sn=(0,x.ZP)(an)(qe||(qe=(0,h.Z)(["\n  width: 100%;\n"]))),on=(0,x.ZP)(tn)(Ue||(Ue=(0,h.Z)(["\n  height: 36px;\n  border-radius: 7px;\n  flex-shrink: 0;\n  background-color: var(--accent-color);\n\n  margin-bottom: 4px;\n"]))),ln=(0,x.ZP)(an)(Ae||(Ae=(0,h.Z)(["\n  flex-shrink: 0;\n\n  width: 33px;\n  font-size: 14px;\n  text-align: center;\n  color: #525266;\n"]))),rn=(0,x.ZP)(ln)(Ve||(Ve=(0,h.Z)(["\n  width: 100%;\n  flex-shrink: 1;\n  text-align: left;\n"]))),dn=x.ZP.ul(He||(He=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),cn=x.ZP.li(Te||(Te=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 1.5px 5px 1.5px 0;\n"]))),pn=x.ZP.div(We||(We=(0,h.Z)(["\n  display: flex;\n  height: 33px;\n  width: 33px;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  text-align: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--secondary-color);\n  border-radius: 5px;\n  background: linear-gradient(322deg, #0f645b -5.61%, #09c6cc 93.88%);\n"]))),hn=(0,x.ZP)(pn)(Re||(Re=(0,h.Z)(["\n  color: #525266;\n  background: transparent;\n"]))),xn=(0,x.ZP)(ne.zr)(Be||(Be=(0,h.Z)([""]))),un=x.ZP.div(Xe||(Xe=(0,h.Z)(["\n  display: flex;\n  padding: 20px 0;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),gn=x.ZP.p(Je||(Je=(0,h.Z)(["\n  font-size: 20px;\n  color: #525266;\n  text-align: center;\n\n  &:not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]))),mn=x.ZP.img($e||($e=(0,h.Z)(["\n  display: block;\n  pointer-events: none;\n  margin-bottom: 20px;\n"]))),fn=e=>{let{user:n,flatPoints:t,flatMonthlyPoints:a,isMultipleCourses:s}=e;const[o,i]=(0,d.useState)("0%"),[l,r]=(0,d.useState)(0),c=l>0?a.filter((e=>"".concat(e.course)===n.course)).sort(((e,n)=>n.points-e.points)):t.filter((e=>"".concat(e.course)[0]===n.course[0])).sort(((e,n)=>n.points-e.points)),p=c.findIndex((e=>e.mail.toLowerCase()===n.mail.toLowerCase())),h=e=>{i((n=>"".concat(100*e,"%"))),r(e)};return(0,g.jsxs)(Qe,{style:{top:s?"184px":"142px"},children:[(0,g.jsxs)(Ge,{children:[(0,g.jsx)(xn,{}),"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"]}),-1===p?(0,g.jsxs)(un,{children:[(0,g.jsx)(mn,{src:Se,alt:"Eyes emoji",width:"80"}),(0,g.jsx)(gn,{children:"\u0428\u0443\u043a\u0430\u0454\u043c\u043e \u0432\u0430\u0441 \u0443 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443."}),(0,g.jsxs)(gn,{children:["\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0449\u0435 \u043a\u0456\u043b\u044c\u043a\u0430 \u0432\u043f\u0440\u0430\u0432, ",(0,g.jsx)("br",{})," \u0449\u043e\u0431 \u0431\u0443\u0442\u0438 \u0432 \u0442\u043e\u043f\u0456! \ud83e\udd29"]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(Ke,{children:[(0,g.jsx)(nn,{style:{transform:"translateX(".concat(o,")")}}),(0,g.jsx)(en,{onClick:()=>{h(0)},className:0===l&&"active",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,g.jsx)(en,{onClick:()=>{h(1)},className:1===l&&"active",children:"\u041c\u0456\u0441\u044f\u0447\u043d\u0438\u0439"})]}),(0,g.jsxs)(tn,{children:[(0,g.jsx)(an,{children:"\u041c\u0456\u0441\u0446\u0435"}),(0,g.jsx)(sn,{children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c\u2019\u044f"}),(0,g.jsx)(an,{children:"\u0411\u0430\u043b\u0438"})]}),(0,g.jsxs)(on,{children:[(0,g.jsx)(ln,{children:c.findIndex((e=>e.mail.toLowerCase()===n.mail.toLowerCase()))+1}),(0,g.jsx)(rn,{children:n.name}),(0,g.jsx)(ln,{children:c[p].points<0?0:c[p].points})]}),(0,g.jsx)(dn,{children:c.slice(0,10).map(((e,n)=>(0,g.jsxs)(cn,{children:[n<=2?(0,g.jsx)(pn,{children:n+1}):(0,g.jsx)(hn,{children:n+1}),(0,g.jsx)(rn,{children:e.name}),(0,g.jsx)(ln,{children:e.points})]},(0,Le.x0)(8))))})]})]})};var jn,wn,vn,bn,yn,Dn,kn,Zn,In,Cn,Pn,Mn,Ln,Sn,Nn,En,On;const zn=x.ZP.div(jn||(jn=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: auto;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: auto;\n    overflow-y: hidden;\n  }\n"]))),Fn=x.ZP.h3(wn||(wn=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Yn=((0,x.ZP)(ne.Ip)(vn||(vn=(0,h.Z)([""]))),x.ZP.div(bn||(bn=(0,h.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  gap: 21px;\n\n  font-size: 14px;\n  line-height: 1.2;\n  color: #525266;\n"])))),_n=x.ZP.div(yn||(yn=(0,h.Z)(["\n  position: relative;\n\n  @media screen and (max-width: 389px) {\n    padding-top: 5px;\n    padding-bottom: 20px;\n  }\n"]))),qn=(x.ZP.ul(Dn||(Dn=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),x.ZP.li(kn||(kn=(0,h.Z)(["\n  color: #bebecc;\n"]))),x.ZP.span(Zn||(Zn=(0,h.Z)(["\n  display: block;\n  font-size: 12px;\n"]))),x.ZP.div(In||(In=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 6px;\n\n  border-bottom: 1px solid var(--accent-color);\n"])))),Un=x.ZP.div(Cn||(Cn=(0,h.Z)(["\n  @media screen and (max-width: 389px) {\n    padding-bottom: 5px;\n  }\n"]))),An=x.ZP.span(Pn||(Pn=(0,h.Z)(["\n  display: block;\n"]))),Vn=x.ZP.a(Mn||(Mn=(0,h.Z)(["\n  display: block;\n  padding: 5px 0;\n  height: 36px;\n\n  position: relative;\n\n  text-align: center;\n  text-decoration: none;\n  width: 110px;\n  color: #fff;\n  font-weight: 500;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #09c6cc;\n\n  border-radius: 5px;\n  overflow: hidden;\n\n  transition: all var(--animation-global);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n\n    transition: opacity var(--animation-global);\n\n    background: linear-gradient(322deg, #09c6cc 23.22%, #0f645b 110.01%),\n      #09c6cc;\n  }\n\n  &:hover,\n  &:focus {\n    &::before {\n      opacity: 1;\n    }\n  }\n"]))),Hn=x.ZP.span(Ln||(Ln=(0,h.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n\n  transform: translate(-50%, -50%);\n"]))),Tn=x.ZP.table(Sn||(Sn=(0,h.Z)(["\n  width: 100%;\n  max-width: 331px;\n  table-layout: auto;\n  border-collapse: collapse;\n  text-align: center;\n"]))),Wn=x.ZP.th(Nn||(Nn=(0,h.Z)(["\n  color: #bebecc;\n  font-size: 12px;\n  font-weight: 400;\n  padding: 6px 0;\n\n  &.day {\n    width: 37px;\n  }\n  &.time {\n    width: 105px;\n  }\n  &.lessonNumber {\n    width: 66px;\n  }\n  &.teacher {\n  }\n"]))),Rn=x.ZP.tr(En||(En=(0,h.Z)(["\n  height: 36px;\n  clip-path: xywh(0 0 100% 100% round 7px);\n"]))),Bn=x.ZP.td(On||(On=(0,h.Z)(["\n  border: none;\n"]))),Xn=e=>{let{user:n,language:t,timetable:a,isMultipleCourses:s}=e;const o=(0,d.useRef)(void 0===n.package?"pro":n.package),i=a.find((e=>"enkids"===t&&n.knowledge.includes("beginner")?e.lang===t&&e.course===n.course&&e.level===n.knowledge:e.lang===t&&e.course===n.course)),l=(()=>{const e="https://ap.education/streams/",a="https://ap.education/streams-kids/";return console.log(n.lang),console.log(t),console.log(void 0===n.adult||n.adult),console.log(n.knowledge),console.log(void 0===n.package?"student":n.package),console.log(o.current),"en"===t?e+(null===i||void 0===i?void 0:i.level):"enkids"===t?a+(null===i||void 0===i?void 0:i.level):"de"===t&&"a1"!==(null===i||void 0===i?void 0:i.level)?e+"deutsch"+(null===i||void 0===i?void 0:i.level):"de"===t&&"a1"===(null===i||void 0===i?void 0:i.level)?e+"deutsch":"dekids"===t?a+"de"+(null===i||void 0===i?void 0:i.level):"pl"===t&&"a1"!==(null===i||void 0===i?void 0:i.level)||"pl"===t&&"a1"===(null===i||void 0===i?void 0:i.level)?e+"polski"+(null===i||void 0===i?void 0:i.level):"plkids"===t?a+"pl"+(null===i||void 0===i?void 0:i.level):e})(),r=(()=>{const e="https://n1313568.alteg.io";return"en"===t?e:"enkids"===t?"https://n1313571.alteg.io/":"de"===t?"https://n1313569.alteg.io":"dekids"===t?"https://n1313572.alteg.io/":"pl"===t?"https://n1313570.alteg.io":"plkids"===t?"https://n1313573.alteg.io/":e})();console.log(r);const c=(()=>{const e="https://ap.education/streams/";return"en"===t?e+(null===i||void 0===i?void 0:i.level)+"sc":"enkids"===t?"https://ap.education/streams-kids/"+(null===i||void 0===i?void 0:i.level)+"sc":e+t+(null===i||void 0===i?void 0:i.level)+"sc"})(),p=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"];return(0,g.jsxs)(zn,{style:{top:s?"184px":"142px"},children:[(0,g.jsxs)(Fn,{children:[(0,g.jsx)(se,{}),"\u0413\u0440\u0430\u0444\u0456\u043a \u0437\u0430\u043d\u044f\u0442\u044c"]}),i?(0,g.jsxs)(Yn,{children:[(0,g.jsxs)(_n,{children:[(0,g.jsxs)(qn,{children:[(0,g.jsx)(An,{children:"\u0422\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u043d\u0456 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,g.jsx)(Vn,{href:l,target:"_blank",children:(0,g.jsx)(Hn,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}),(0,g.jsxs)(Tn,{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)(Wn,{className:"day",children:"\u0414\u0435\u043d\u044c"}),(0,g.jsx)(Wn,{className:"time",children:"\u0427\u0430\u0441"}),(0,g.jsx)(Wn,{className:"lessonNumber",children:"\u2116 \u0443\u0440\u043e\u043a\u0443"}),(0,g.jsx)(Wn,{className:"teacher",children:"\u0412\u0438\u043a\u043b\u0430\u0434\u0430\u0447"})]})}),(0,g.jsx)("tbody",{children:i.schedule.filter((e=>"webinar"===e.type||"webinar, repeat"===e.type)).sort(((e,n)=>e.day-n.day)).map(((e,n)=>(0,g.jsxs)(Rn,{style:e.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,g.jsx)(Bn,{className:"day",children:p[e.day-1]}),(0,g.jsx)(Bn,{className:"time",children:e.time}),(0,g.jsx)(Bn,{className:"lessonNumber",children:e.lessonNumber}),(0,g.jsx)(Bn,{className:"teacher",children:e.teacher})]},n)))})]})]})," ",(0,g.jsxs)(Un,{children:[(0,g.jsxs)(qn,{children:[(0,g.jsx)(An,{children:"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u0456 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,g.jsx)(Vn,{href:c,target:"_blank",children:(0,g.jsx)(Hn,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}),(0,g.jsxs)(Tn,{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)(Wn,{className:"day",children:"\u0414\u0435\u043d\u044c"}),(0,g.jsx)(Wn,{className:"time",children:"\u0427\u0430\u0441"}),(0,g.jsx)(Wn,{className:"lessonNumber",children:"\u2116 \u0443\u0440\u043e\u043a\u0443"}),(0,g.jsx)(Wn,{className:"teacher",children:"\u0412\u0438\u043a\u043b\u0430\u0434\u0430\u0447"})]})}),(0,g.jsx)("tbody",{children:i.schedule.filter((e=>"speaking"===e.type)).sort(((e,n)=>e.day-n.day)).map(((e,n)=>(0,g.jsxs)(Rn,{style:e.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,g.jsx)(Bn,{className:"day",children:p[e.day-1]}),(0,g.jsx)(Bn,{className:"time",children:e.time}),(0,g.jsx)(Bn,{className:"lessonNumber",children:e.lessonNumber}),(0,g.jsx)(Bn,{className:"teacher",children:e.teacher})]},n)))})]})]})]}):(0,g.jsxs)(un,{children:[(0,g.jsx)(mn,{src:Se,alt:"Eyes emoji",width:"80"}),(0,g.jsx)(gn,{children:"\u0417\u0434\u0430\u0454\u0442\u044c\u0441\u044f, \u0443 \u0432\u0430\u0441 \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443!"}),(0,g.jsx)(gn,{children:"\u0410\u043b\u0435 \u0432\u0456\u043d \u0437'\u044f\u0432\u0438\u0442\u044c\u0441\u044f, \u043a\u043e\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0440\u043e\u0437\u043f\u043e\u0447\u043d\u0443\u0442\u044c\u0441\u044f \u0437\u0430\u043d\u044f\u0442\u0442\u044f!"})]})]})},Jn=e=>{let{lessons:n,link:t,user:a,language:s,points:o,timetable:i,marathonLink:l,montlyPoints:r,isMultipleCourses:c,setPlatformIframeLink:p,languageIndex:h,setLanguage:x,setLanguageIndex:u}=e;const[m,f]=(0,d.useState)(!1),[j,w]=(0,d.useState)(!1),[v,b]=(0,d.useState)(!1),[y,D]=(0,d.useState)(!1),[k,Z]=(0,d.useState)(!1),[I,C]=(0,d.useState)(!0),P=Object.keys(o).filter((e=>e.includes(s)&&e.length===(s+a.knowledge).length)).reduce(((e,n)=>(e[n]=o[n],e)),{}),M=Object.keys(r).filter((e=>e.includes(s)&&e.length===(s+a.knowledge).length)).reduce(((e,n)=>(e[n]=r[n],e)),{}),L=Object.values(P).flatMap((e=>e)),S=Object.values(M).flatMap((e=>e)),N=()=>{f(!1),w(!1),b(!1),D(!1),Z(!1)},E=e=>{e.currentTarget.classList.toggle("tooltip-open")};return(0,d.useEffect)((()=>{const e=e=>{"Escape"===e.code&&m&&N()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ne.Dj,{onClick:N,className:m?"":"hidden"}),(0,g.jsx)(ne.YI,{id:"no-transform",onClick:()=>{N(),C((e=>!e))},children:I?(0,g.jsx)(ne.$E,{}):(0,g.jsx)(ne.yu,{})}),(0,g.jsxs)(ne.Wo,{className:I?"":"hidden",style:{top:c?"184px":"142px"},children:[(0,g.jsxs)(ne.P3,{className:c?"multiple":"",children:[(0,g.jsx)(ne.aT,{id:"reset-btn",className:c?"multiple":"",onMouseEnter:e=>E(e),onMouseOut:e=>E(e),onClick:()=>{console.log(t),p(t+" ")},children:(0,g.jsx)(ne.gZ,{})}),c&&(0,g.jsx)(ne.AJ,{id:"toggle-btn",onMouseEnter:e=>E(e),onMouseOut:e=>E(e),onClick:()=>{console.log(t),x((e=>h+1<a.lang.split("/").length?a.lang.split("/")[h+1]:a.lang.split("/")[0])),u((e=>e+1<a.lang.split("/").length?e+1:0))},children:(0,g.jsx)(ne.of,{})})]}),(0,g.jsx)(ne.Uu,{onClick:()=>{!m&&(!v||!y||!k)&&f((e=>!0)),m&&!v&&!y&&!k&&f((e=>!1)),b(!1),D(!1),Z(!1),w((e=>!e))},onMouseEnter:e=>E(e),onMouseOut:e=>E(e),children:(0,g.jsx)(ne.Hk,{id:"search-btn",className:j&&"active"})}),(0,g.jsx)(ne.Uu,{onClick:()=>{!m&&(!j||!y||!k)&&f((e=>!0)),m&&!j&&!y&&!k&&f((e=>!1)),w(!1),D(!1),Z(!1),b((e=>!e))},onMouseEnter:e=>E(e),onMouseOut:e=>E(e),children:(0,g.jsx)(ne.zr,{id:"rating-btn",className:v&&"active"})}),(0,g.jsx)(ne.Uu,{onClick:()=>{!m&&(!v||!j||!k)&&f((e=>!0)),m&&!v&&!j&&!k&&f((e=>!1)),w(!1),b(!1),Z(!1),D((e=>!e))},onMouseEnter:e=>E(e),onMouseOut:e=>E(e),children:(0,g.jsx)(ne.CD,{id:"calendar-btn",className:y&&"active"})}),"online"!==a.package&&(0,g.jsx)(ne.Uu,{onClick:()=>{!m&&(!v||!j||!y)&&f((e=>!0)),m&&!v&&!j&&!y&&f((e=>!1)),w(!1),b(!1),D(!1),Z((e=>!e))},onMouseEnter:e=>E(e),onMouseOut:e=>E(e),children:(0,g.jsx)(ne.Ip,{className:k&&"active",id:"timetable-btn"})})]}),j&&(0,g.jsx)(Me,{lessons:n,user:a,language:s,setPlatformIframeLink:p,isMultipleCourses:c}),v&&(0,g.jsx)(fn,{user:a,flatPoints:L,flatMonthlyPoints:S,isMultipleCourses:c}),y&&(0,g.jsx)(De,{user:a,isMultipleCourses:c}),k&&(0,g.jsx)(Xn,{user:a,language:s,timetable:i,isMultipleCourses:c})]})},$n=()=>{const[e,n]=(0,d.useState)(!1),[t,a]=(0,d.useState)(!1),[h,x]=(0,d.useState)({}),[u,f]=(0,d.useState)({}),[j,w]=(0,d.useState)({}),[v,b]=(0,d.useState)({}),[y,D]=(0,d.useState)(0),[k,Z]=(0,d.useState)(""),[I,C]=(0,d.useState)("https://online.ap.education/"),[P,M]=(0,d.useState)("https://online.ap.education/"),[L,S]=(0,d.useState)(!1);s.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const N=(0,c.TH)(),[E,O]=(0,d.useState)("true"===localStorage.getItem("ischatboxshown"));(0,d.useEffect)((()=>{document.title="My AP | AP Education";const e=document.querySelector(".amo-button-holder");e&&!E?(e.style.transform="translate(400px)",e.style.transition="ease 250ms"):e&&E&&(e.style.transform="");(async()=>{console.log("token refresher");try{const e=await s.Z.post("/users/refresh",{mail:localStorage.getItem("mail")});n((e=>!0)),console.log(e),b((n=>({...e.data.user})));const t=e.data.user.lang.split("/");t.length>1&&!k?(S(!0),Z(t[y])):t.length<=1&&Z(e.data.user.lang)}catch(e){console.log(e)}})();(async()=>{console.log("lessons getter");try{const e=await s.Z.get("/lessons");console.log(e),a((n=>[...e.data]))}catch(e){console.log(e)}})();(async()=>{console.log("ratings getter");try{const e=await s.Z.get("/ratings");x((n=>({...e.data[0].rating}))),w((n=>({...e.data[1].rating})))}catch(e){console.log(e)}})();(async()=>{console.log("timetable getter");try{const e=await s.Z.get("/timetable");console.log(e),f((n=>e.data))}catch(e){console.log(e)}})();(async()=>{const e={en1:"https://online.ap.education/MarathonClass/?marathonId=37835&pupilId=".concat(v.pupilId,"&marathonLessonId=621674"),en2:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=847031"),pl:"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=629354"),de:"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=629357"),enkids1:"https://online.ap.education/MarathonClass/?marathonId=40552&pupilId=".concat(v.pupilId,"&marathonLessonId=621673"),enkids2:"https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=847034"),dekids:"https://online.ap.education/MarathonClass/?marathonId=65423&pupilId=".concat(v.pupilId,"&marathonLessonId=968639"),plkids:"https://online.ap.education/MarathonClass/?marathonId=64039&pupilId=".concat(v.pupilId,"&marathonLessonId=952360")},n="en"===k&&"1"===v.marathonNumber?"en1":"en"===k&&"2"===v.marathonNumber?"en2":"en"!==k||v.marathonNumber?"pl"===k?"pl":"de"===k?"de":"plkids"===k?"plkids":"dekids"===k?"dekids":"enkids"===k&&"1"===v.marathonNumber?"enkids1":"enkids"===k&&"2"===v.marathonNumber?"enkids2":"enkids"!==k||v.marathonNumber?"":"enkids2":"en2";console.log(e[n]);const t={kids:"https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=854264"),ena1:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854277"),ena2:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854278"),pl:"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=853147"),de:"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=854256")};C((t=>e[n])),M((e=>t[n]))})()}),[k,y,E,v.pupilId,v.marathonNumber]);const z=p.Ry().shape({mail:p.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u0443, \u0437\u0430 \u044f\u043a\u043e\u044e \u0432\u0438 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456 \u043d\u0430 \u043d\u0430\u0448\u0456\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456!"),password:p.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043d\u0430\u0448\u0443 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443!")});return(0,g.jsx)(i.QU,{children:e?(0,g.jsxs)(g.Fragment,{children:[Object.values(h).length>0&&(0,g.jsx)(Jn,{lessons:t,user:v,points:h,montlyPoints:j,link:I,marathonLink:P,isMultipleCourses:L,setPlatformIframeLink:e=>{N.search="",C((n=>e))},language:k,setLanguage:Z,languageIndex:y,setLanguageIndex:D,timetable:u}),(0,g.jsx)(m,{platformLink:I}),(0,g.jsx)(ne.jB,{id:"no-transform",onClick:()=>{O((e=>!e)),localStorage.setItem("ischatboxshown",!E)},children:E?(0,g.jsx)(ne.$E,{}):(0,g.jsx)(ne.yu,{})})]}):(0,g.jsx)(l.J9,{initialValues:{mail:"",password:""},onSubmit:async(e,t)=>{let{resetForm:a}=t;e.mail=e.mail.toLowerCase().trim().trimStart(),e.password=e.password.trim().trimStart();try{const t=await s.Z.post("/users/login",e);console.log(t),o=t.data.token,s.Z.defaults.headers.common.Authorization="Bearer ".concat(o),n((e=>!0)),b((e=>({...t.data.user})));const i=t.data.user.lang.split("/");i.length>1&&(Z(i[0]),S(!0)),localStorage.setItem("mail",e.mail),a()}catch(i){console.error(i)}var o},validationSchema:z,children:(0,g.jsxs)(r.U0,{children:[(0,g.jsx)(o.hQ,{}),(0,g.jsx)(o.T$,{}),(0,g.jsxs)(i.YA,{children:["\u041f\u0440\u0438\u0432\u0456\u0442!",(0,g.jsx)("br",{}),"\u0426\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0410\u043b\u0435 \u044f\u043a\u0449\u043e \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438, \u0442\u043e \u0439 \u0434\u043e \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0442\u0435\u0436. \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443."]}),(0,g.jsxs)(o.__,{children:[(0,g.jsx)(r.vD,{type:"text",name:"mail",placeholder:"Login"}),(0,g.jsx)(r.aC,{component:"p",name:"mail",type:"email"})]}),(0,g.jsxs)(o.__,{children:[(0,g.jsx)(r.vD,{type:"password",name:"password",placeholder:"Password"}),(0,g.jsx)(r.aC,{component:"p",name:"password"})]}),(0,g.jsx)(r.Gh,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})})})}}}]);
//# sourceMappingURL=My AP Page.c1dad018.chunk.js.map