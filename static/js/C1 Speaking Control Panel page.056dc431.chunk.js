"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[4985],{7673:(n,e,t)=>{t.d(e,{Gh:()=>U,He:()=>V,Hx:()=>W,Jc:()=>an,Kq:()=>A,Lv:()=>Y,OD:()=>J,P_:()=>F,Sb:()=>T,U0:()=>E,Xv:()=>Q,aC:()=>G,aJ:()=>en,az:()=>O,bN:()=>tn,hj:()=>K,jj:()=>nn,jr:()=>R,me:()=>B,vD:()=>$,x2:()=>X});var a,r,o,i,d,s,l,c,p,m,x,h,g,u,Z,f,b,j,w,v,y,_,k,P,I,S,z,C,D=t(30168),H=t(97723),N=t(55705),M=t(19920),q=t(76487),L=t(37269);const A=q.ZP.section(a||(a=(0,D.Z)(["\n  height: max-content;\n  padding: 30px 20px;\n  display: flex;\n  align-items: flex-start;\n\n  gap: 30px;\n"]))),E=(0,q.ZP)(N.l0)(r||(r=(0,D.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),F=(0,q.ZP)(N.l0)(o||(o=(0,D.Z)(["\n  margin: 0 auto;\n\n  position: sticky;\n  top: 50%;\n\n  transform: translateY(-50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),R=(0,q.ZP)(N.l0)(i||(i=(0,D.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  max-width: 400px;\n\n  background-color: white;\n  padding: 24px;\n  border-radius: 24px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),U=(0,q.ZP)(H.Mg)(d||(d=(0,D.Z)(["\n  margin: 0 auto;\n  height: 48px;\n  padding: 0;\n"]))),$=(0,q.ZP)(H.II)(s||(s=(0,D.Z)(["\n  width: 240px;\n  padding: 8px 10px;\n  font-size: 16px;\n  height: 40px;\n  -webkit-text-stroke: 0px;\n\n  border: 2px solid var(--main-color);\n\n  &.error {\n    border-color: red;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 360px;\n  }\n"]))),G=(0,q.ZP)(H.r2)(l||(l=(0,D.Z)(["\n  color: var(--main-color);\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),J=q.ZP.table(c||(c=(0,D.Z)(["\n  max-width: 50vw;\n  min-height: 80vh;\n  margin: 0 auto;\n\n  table-layout: auto;\n  width: 100%;\n\n  text-align: center;\n  border: 1px solid #000;\n  border-collapse: collapse;\n"]))),O=q.ZP.caption(p||(p=(0,D.Z)(["\n  caption-side: top;\n  margin-bottom: 60px;\n"]))),B=(q.ZP.span(m||(m=(0,D.Z)(["\n  font-size: 11px;\n"]))),q.ZP.tr(x||(x=(0,D.Z)(["\n  border: 1px solid #000;\n"])))),T=q.ZP.th(h||(h=(0,D.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n"]))),V=(q.ZP.div(g||(g=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  position: relative;\n"]))),q.ZP.td(u||(u=(0,D.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n  height: 3em;\n\n  &.last-name {\n    text-transform: capitalize;\n  }\n\n  &.attention {\n    color: red;\n  }\n\n  &.error {\n    background-color: #ff0000;\n  }\n"])))),W=((0,q.ZP)(V)(Z||(Z=(0,D.Z)(["\n  text-align: start;\n  padding-left: 8px;\n  max-width: 50vw;\n"]))),q.ZP.button(f||(f=(0,D.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--accent-color);\n  border-radius: 5px;\n"])))),K=q.ZP.button(b||(b=(0,D.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--main-color);\n  border-radius: 5px;\n"]))),X=((0,q.ZP)(K)(j||(j=(0,D.Z)(["\n  &.banned {\n    border-color: #023020;\n  }\n  &.not_banned {\n    border-color: #8b0000;\n  }\n"]))),(0,q.ZP)(L.r)(w||(w=(0,D.Z)(["\n  width: 18px;\n  height: 12px;\n\n  color: #000;\n\n  transition: color var(--animation-global);\n\n  &:hover {\n    color: var(--main-color);\n  }\n"]))),q.ZP.div(v||(v=(0,D.Z)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n"]))),q.ZP.button(y||(y=(0,D.Z)(["\n  width: 100%;\n  text-transform: capitalize;\n"]))),q.ZP.p(_||(_=(0,D.Z)(["\n  font-size: 10px;\n  margin-bottom: 3px;\n  text-align: start;\n"])))),Y=(0,q.ZP)(J)(k||(k=(0,D.Z)(["\n  max-width: 80vw;\n"]))),Q=(0,q.ZP)(M.Ow)(P||(P=(0,D.Z)(["\n  border-radius: 50px;\n"]))),nn=q.ZP.p(I||(I=(0,D.Z)(["\n  color: var(--main-color);\n  text-align: center;\n  margin-top: 8px;\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),en=q.ZP.div(S||(S=(0,D.Z)(["\n  position: absolute;\n  top: 60px;\n  left: 50%;\n\n  display: flex;\n  gap: 16px;\n\n  transform: translateX(-50%);\n"]))),tn=q.ZP.label(z||(z=(0,D.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n  position: relative;\n"]))),an=(0,q.ZP)(M.Ow)(C||(C=(0,D.Z)(["\n  width: 280px;\n  border-radius: 50px;\n"])))},35367:(n,e,t)=>{t.d(e,{NZ:()=>I,Nc:()=>D,Sq:()=>z,bH:()=>S,ih:()=>N,pv:()=>C,tA:()=>H,xA:()=>k,zN:()=>P});var a,r,o,i,d,s,l,c,p,m,x,h,g,u,Z,f,b,j=t(30168),w=t(97723),v=t(55705),y=t(76487),_=t(94662);y.ZP.section(a||(a=(0,j.Z)(["\n  height: max-content;\n  padding: 30px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),(0,y.ZP)(v.l0)(r||(r=(0,j.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 35px;\n"]))),(0,y.ZP)(v.l0)(o||(o=(0,j.Z)(["\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),(0,y.ZP)(w.Mg)(i||(i=(0,j.Z)(["\n  margin: 0 auto;\n"]))),(0,y.ZP)(w.II)(d||(d=(0,j.Z)(["\n  border: 2px solid var(--main-color);\n"]))),(0,y.ZP)(w.II)(s||(s=(0,j.Z)(["\n  border-radius: 0;\n  width: 35vw;\n  height: 75vh;\n  scrollbar-width: thin;\n  background-color: transparent;\n"]))),(0,y.ZP)(w.r2)(l||(l=(0,j.Z)(["\n  position: static;\n  color: var(--main-color);\n  font-size: 24px;\n  font-weight: 700;\n  bottom: -1.1em;\n"])));const k=y.ZP.ul(c||(c=(0,j.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 14px;\n\n  text-transform: capitalize;\n  font-weight: 600;\n  margin-left: auto;\n"]))),P=y.ZP.h2(p||(p=(0,j.Z)(["\n  font-size: 32px;\n  text-align: center;\n  margin-bottom: 12px;\n"]))),I=y.ZP.li(m||(m=(0,j.Z)(["\n  width: 100%;\n  flex-basis: 40%;\n  flex-grow: 0;\n"]))),S=y.ZP.ul(x||(x=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),z=y.ZP.li(h||(h=(0,j.Z)(["\n  font-size: 14px;\n  font-weight: 400;\n  display: flex;\n  gap: 20px;\n  justify-content: space-between;\n  padding-bottom: 5px;\n  border-bottom: 1px solid black;\n"]))),C=y.ZP.span(g||(g=(0,j.Z)(["\n  min-width: 24px;\n"]))),D=y.ZP.span(u||(u=(0,j.Z)(["\n  min-width: 120px;\n  text-align: center;\n"]))),H=y.ZP.span(Z||(Z=(0,j.Z)(["\n  min-width: 100px;\n  text-align: center;\n"]))),N=(y.ZP.p(f||(f=(0,j.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),(0,y.ZP)(_.ZP)(b||(b=(0,j.Z)(["\n  width: 100%;\n  font-size: 14px;\n  border: 2px solid var(--main-color);\n\n  line-height: 1;\n\n  @media screen and (min-width: 768px) {\n    font-size: 19px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))))},40945:(n,e,t)=>{t.r(e),t.d(e,{default:()=>g});var a=t(55294),r=t(60091),o=t(97723),i=t(8313),d=t(55705),s=t(72791),l=t(8007),c=t(7673),p=t(31356),m=t(89884),x=t(80184);a.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const h=n=>{a.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},g=()=>{const[n,e]=(0,s.useState)(!1),[t,g]=(0,s.useState)(!1),[u,Z]=(0,s.useState)([]),[f,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)({});(0,s.useEffect)((()=>{document.title="User Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const n=await a.Z.post("admins/refresh/users/",{});h(n.data.newToken),g((n=>!0))}}catch(n){console.log(n)}})();(async()=>{try{if(t){const n=await a.Z.get("/users/a-c1");Z((e=>[...n.data.reverse()]))}}catch(n){console.error(n)}})();const n=n=>{"Escape"===n.code&&_()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),[t]);const v=l.Ry().shape({login:l.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:l.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),y=n=>{if(n){const e=n.split(".");return e.length>2?Date.parse([e[1],e[0],e[2]].join("/")):Date.parse(n)}},_=n=>{b(!1)};return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(p.Kq,{children:[!t&&(0,x.jsx)(d.J9,{initialValues:{login:"",password:""},onSubmit:async(n,t)=>{let{resetForm:r}=t;e((n=>!0));try{const t=await a.Z.post("/admins/login/users",n);h(t.data.token),g((n=>!0)),localStorage.setItem("isAdmin",!0),r()}catch(o){console.error(o)}finally{e((n=>!1))}},validationSchema:v,children:(0,x.jsxs)(p.U0,{children:[(0,x.jsxs)(o.__,{children:[(0,x.jsx)(p.vD,{type:"text",name:"login",placeholder:"Login"}),(0,x.jsx)(p.aC,{component:"p",name:"login"})]}),(0,x.jsxs)(o.__,{children:[(0,x.jsx)(p.vD,{type:"password",name:"password",placeholder:"Password"}),(0,x.jsx)(p.aC,{component:"p",name:"password"})]}),(0,x.jsx)(p.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),t&&u&&(0,x.jsxs)(c.Lv,{children:[(0,x.jsx)(p.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u044e\u0437\u0435\u0440\u0456\u0432 \u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0434\u043e \u0443\u0440\u043e\u043a\u0456\u0432"}),(0,x.jsx)("thead",{children:(0,x.jsxs)(p.me,{children:[(0,x.jsx)(p.Sb,{children:"CRM\xa0\u041b\u0456\u0434 \u041a\u043e\u043d\u0442\u0430\u043a\u0442"}),(0,x.jsx)(p.Sb,{children:"\u0406\u043c'\u044f"}),(0,x.jsx)(p.Sb,{children:"\u041f\u043e\u0448\u0442\u0430 (\u043b\u043e\u0433\u0456\u043d)"}),(0,x.jsx)(p.Sb,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,x.jsx)(p.Sb,{children:"ID \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456"}),(0,x.jsx)(p.Sb,{children:"\u041d\u043e\u043c\u0435\u0440 \u043c\u0430\u0440\u0430\u0444\u043e\u043d\u0443"}),(0,x.jsx)(p.Sb,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0438\u043d\u0438 \u043f\u0456\u0441\u043b\u044f 05.11"}),(0,x.jsx)(p.Sb,{children:"\u0412\u0456\u0437\u0438\u0442\u0456\u0432 \u043f\u0456\u0441\u043b\u044f 05.11"}),(0,x.jsx)(p.Sb,{children:"\u041c\u043e\u0432\u0430"}),(0,x.jsx)(p.Sb,{children:"\u041f\u043e\u0442\u0456\u043a"}),(0,x.jsx)(p.Sb,{children:"\u0417\u043d\u0430\u043d\u043d\u044f"}),(0,x.jsx)(p.Sb,{children:"\u041f\u0430\u043a\u0435\u0442 \u043f\u043e\u0441\u043b\u0443\u0433"}),(0,x.jsx)(p.Sb,{children:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440"}),(0,x.jsx)(p.Sb,{children:"Delete"})]})}),(0,x.jsx)("tbody",{children:u.map((n=>{var t;return(0,x.jsxs)(p.me,{children:[(0,x.jsxs)(p.He,{children:[(0,x.jsx)("a",{href:"https://apeducation.kommo.com/leads/detail/".concat(n.crmId),target:"_blank",rel:"noreferrer",children:n.crmId})," ",(0,x.jsx)("a",{href:"https://apeducation.kommo.com/contacts/detail/".concat(n.contactId),target:"_blank",rel:"noreferrer",children:n.contactId})]}),(0,x.jsx)(p.He,{children:n.name}),(0,x.jsx)(p.He,{children:n.mail}),(0,x.jsx)(p.He,{children:n.password}),(0,x.jsx)(p.He,{children:n.pupilId}),(0,x.jsx)(p.He,{children:n.marathonNumber}),(0,x.jsx)(p.He,{style:n.visited.filter((n=>y(n)>=y("05.11.2024"))).length>=parseInt(n.package)?{fontWeight:700,color:"red"}:void 0,children:n.visited.filter((n=>y(n)>=y("05.11.2024"))).map((n=>(0,x.jsx)("p",{children:n})))}),(0,x.jsx)(p.He,{style:n.visited.filter((n=>y(n)>=y("05.11.2024"))).length>=parseInt(n.package)?{fontWeight:700,color:"red"}:void 0,children:n.visited.filter((n=>y(n)>=y("05.11.2024"))).length}),(0,x.jsx)(p.He,{children:n.lang}),(0,x.jsx)(p.He,{children:n.course}),(0,x.jsx)(p.He,{className:(null===(t=n.knowledge)||void 0===t?void 0:t.includes("\u0430"))&&"error",children:n.knowledge}),(0,x.jsx)(p.He,{style:n.visited.filter((n=>y(n)>=y("05.11.2024"))).length>=parseInt(n.package)?{fontWeight:700,color:"red"}:void 0,children:n.package}),(0,x.jsx)(p.He,{className:"last-name",children:n.manager}),(0,x.jsx)(p.He,{children:"Dev Acc"===n.name?null:(0,x.jsx)(p.Hx,{onClick:()=>(async n=>{b(!0),w((e=>u.find((e=>e._id===n))))})(n._id),children:"Edit"})}),(0,x.jsx)(p.He,{children:"Dev Acc"===n.name?null:(0,x.jsx)(p.hj,{onClick:()=>(async n=>{if(e((n=>!0)),window.confirm("\u0422\u043e\u0447\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ".concat(u.find((e=>e._id===n)).name,"?")))try{const t=await a.Z.delete("/users/".concat(n));console.log(t),alert("\u042e\u0437\u0435\u0440\u0430 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e"),Z((e=>[...e.filter((e=>e._id!==n))]))}catch(t){console.error(t),alert("\u0414\u0435\u0441\u044c \u044f\u043a\u0430\u0441\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 - \u043a\u043b\u0430\u0446\u0430\u0439 F12, \u0440\u043e\u0431\u0438 \u0441\u043a\u0440\u0456\u043d \u043a\u043e\u043d\u0441\u043e\u043b\u0456, \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0439 \u041a\u0438\u0440\u0438\u043b\u0443")}finally{e((n=>!1))}else e((n=>!1))})(n._id),children:"Del"})})]},n._id)}))})]}),f&&(0,x.jsx)(r.Y,{onMouseDown:n=>{"close-on-click"===n.target.id&&b(!1)},id:"close-on-click",children:(0,x.jsx)(m.B,{userToEdit:j,updateUser:(n,e)=>{const t=u.find((e=>e._id===n));t.name=e.name,t.mail=e.mail,t.zoomMail=e.zoomMail,t.password=e.password,t.pupilId=e.pupilId,t.marathonNumber=e.marathonNumber,t.crmId=e.crmId,t.contactId=e.contactId,t.age=e.age,t.adult=e.adult,t.lang=e.lang,t.package=e.package,t.course=e.course,t.knowledge=e.knowledge,t.manager=e.manager,console.log(t),Z((e=>e=e.map(((a,r)=>r===e.findIndex((e=>e._id===n))?t:a))))},closeEditForm:_})}),n&&(0,x.jsx)(i.a,{})]})})}},89884:(n,e,t)=>{t.d(e,{B:()=>p});var a=t(55294),r=t(97723),o=t(8313),i=t(55705),d=t(72791),s=t(8007),l=t(31356),c=t(80184);a.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const p=n=>{let{userToEdit:e,updateUser:t,closeEditForm:p}=n;const[m,x]=(0,d.useState)(!1),h={crmId:e.crmId||"",contactId:e.contactId||"",name:e.name,mail:e.mail,zoomMail:e.zoomMail||"",password:e.password,pupilId:e.pupilId,marathonNumber:e.marathonNumber||"",adult:e.adult,age:e.age,lang:e.lang,course:e.course,package:e.package,knowledge:e.knowledge,manager:e.manager},g=s.Ry().shape({name:s.Z_().required("\u0406\u043c'\u044f - \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435, \u044f\u043a\u0449\u043e \u0456\u043c\u0435\u043d\u0456 \u0437 \u044f\u043a\u043e\u0457\u0441\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0438 \u043c\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u043c\u043e, \u0432\u0432\u0435\u0434\u0456\u0442\u044c N/A"),mail:s.Z_().required("\u041f\u043e\u0448\u0442\u0430 - \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435!"),zoomMail:s.Z_(),password:s.Z_().required("\u041f\u0430\u0440\u043e\u043b\u044c - \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435!"),crmId:s.Z_().matches(/^[0-9]*$/,"\u041b\u0438\u0448\u0435 \u0446\u0438\u0444\u0440\u0438"),contactId:s.Z_().matches(/^[0-9]*$/,"\u041b\u0438\u0448\u0435 \u0446\u0438\u0444\u0440\u0438"),pupilId:s.Z_().min(6,"\u041d\u0435 \u043c\u0435\u043d\u0448\u0435 6 \u0446\u0438\u0444\u0440").max(7,"\u041d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 7 \u0446\u0438\u0444\u0440").matches(/^\d{1,7}$/,"\u041b\u0438\u0448\u0435 \u0446\u0438\u0444\u0440\u0438").required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435, \u0434\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456"),marathonNumber:s.Z_().max(1,"\u041d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 1 \u0446\u0438\u0444\u0440\u0438").matches(/[12]/,"\u041b\u0438\u0448\u0435 \u0446\u0438\u0444\u0440\u0438 1 \u0430\u0431\u043e 2"),age:s.Z_().required("\u0412\u0456\u043a - \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435, \u044f\u043a\u0449\u043e \u0432\u0456\u043a\u0443 \u0437 \u044f\u043a\u043e\u0457\u0441\u044c \u043f\u0440\u0438\u0447\u0438\u043d\u0438 \u043c\u0438 \u043d\u0435 \u0437\u043d\u0430\u0454\u043c\u043e, \u0432\u0432\u0435\u0434\u0456\u0442\u044c N/A"),lang:s.Z_().optional().matches(/^[A-Za-z0-9/]+$/,"\u041b\u0438\u0448\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u044c\u043a\u0456 \u043b\u0456\u0442\u0435\u0440\u0438"),course:s.Z_().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435, \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u0438\u0445 \u044e\u0437\u0435\u0440\u0456\u0432 \u0430\u0431\u043e \u043d\u0435\u0440\u043e\u0437\u043f\u043e\u0434\u0456\u043b\u0435\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0432\u0432\u0435\u0434\u0456\u0442\u044c 0"),package:s.Z_().optional(),knowledge:s.Z_().optional().matches(/^[A-Za-z0-9/]+$/,"\u041b\u0438\u0448\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u044c\u043a\u0456 \u043b\u0456\u0442\u0435\u0440\u0438"),manager:s.Z_().required("\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 - \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435")});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.J9,{initialValues:h,onSubmit:async(n,r)=>{let{resetForm:o}=r;x((n=>!0)),n.name=n.name.trim().trimStart(),n.mail=n.mail.toLowerCase().trim().trimStart(),n.zoomMail=n.zoomMail.toLowerCase().trim().trimStart(),n.password=n.password.trim().trimStart(),n.pupilId=n.pupilId.trim().trimStart(),n.marathonNumber=n.marathonNumber.trim().trimStart(),n.crmId=n.crmId&&"number"!==typeof n.crmId?+n.crmId.trim().trimStart():"number"===typeof n.crmId?n.crmId:void 0,n.contactId=n.contactId&&"number"!==typeof n.contactId?+n.contactId.trim().trimStart():"number"===typeof n.contactId?n.contactId:void 0,n.age=n.age.trim().trimStart(),n.adult=+n.age>18,n.lang=n.lang.toLowerCase().trim().trimStart(),n.package=void 0===n.package?"":n.package.toLowerCase().trim().trimStart(),n.course=void 0===n.course?"":n.course.toLowerCase().trim().trimStart(),n.knowledge=void 0===n.knowledge?"":n.knowledge.toLowerCase().trim().trimStart(),n.manager=n.manager.toLowerCase().trim().trimStart();try{const r=await a.Z.put("/users/".concat(e._id),n);console.log(r),o(),alert("\u042e\u0437\u0435\u0440\u0430 \u0432\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u043e\u0432\u0430\u043d\u043e"),t(e._id,n),p()}catch(i){console.error(i),alert("\u0414\u0435\u0441\u044c \u044f\u043a\u0430\u0441\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 - \u043a\u043b\u0430\u0446\u0430\u0439 F12, \u0440\u043e\u0431\u0438 \u0441\u043a\u0440\u0456\u043d \u043a\u043e\u043d\u0441\u043e\u043b\u0456, \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0439 \u041a\u0438\u0440\u0438\u043b\u0443")}finally{x((n=>!1))}},validationSchema:g,children:(0,c.jsxs)(l.jr,{children:[(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"name",placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c'\u044f"}),(0,c.jsx)(l.aC,{component:"p",name:"name"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"email",name:"mail",placeholder:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430 (\u043b\u043e\u0433\u0456\u043d)"}),(0,c.jsx)(l.aC,{component:"p",name:"mail"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"email",name:"zoomMail",placeholder:"Zoom-\u043f\u043e\u0448\u0442\u0430"}),(0,c.jsx)(l.aC,{component:"p",name:"zoomMail"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,c.jsx)(l.aC,{component:"p",name:"password"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"crmId",placeholder:"ID \u043b\u0456\u0434\u0430 \u0432 CRM"}),(0,c.jsx)(l.aC,{component:"p",name:"crmId"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"contactId",placeholder:"ID \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0443 \u0432 CRM"}),(0,c.jsx)(l.aC,{component:"p",name:"contactId"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"pupilId",placeholder:"ID \u0443\u0447\u043d\u044f \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456"}),(0,c.jsx)(l.aC,{component:"p",name:"pupilId"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"marathonNumber",placeholder:"\u2116 \u043c\u0430\u0440\u0430\u0444\u043e\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456"}),(0,c.jsx)(l.aC,{component:"p",name:"marathonNumber"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"age",placeholder:"\u0412\u0456\u043a"}),(0,c.jsx)(l.aC,{component:"p",name:"age"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"lang",placeholder:"\u041c\u043e\u0432\u0430"}),(0,c.jsx)(l.aC,{component:"p",name:"lang"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"course",placeholder:"\u041f\u043e\u0442\u0456\u043a"}),(0,c.jsx)(l.aC,{component:"p",name:"course"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"package",placeholder:"\u041f\u0430\u043a\u0435\u0442 \u043f\u043e\u0441\u043b\u0443\u0433"}),(0,c.jsx)(l.aC,{component:"p",name:"package"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"knowledge",placeholder:"\u0420\u0456\u0432\u0435\u043d\u044c \u0437\u043d\u0430\u043d\u044c"}),(0,c.jsx)(l.aC,{component:"p",name:"knowledge"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"manager",placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430"}),(0,c.jsx)(l.aC,{component:"p",name:"manager"})]}),(0,c.jsx)(l.Gh,{type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})}),m&&(0,c.jsx)(o.a,{})]})}},19920:(n,e,t)=>{t.d(e,{DZ:()=>j,Fd:()=>_,L8:()=>w,NV:()=>y,Ow:()=>k,QD:()=>I,m6:()=>v,qG:()=>P,zi:()=>S});var a,r,o,i,d,s,l,c,p,m=t(30168),x=t(97723),h=t(55705),g=t(17102),u=t(35367),Z=t(59513),f=t.n(Z),b=t(76487);const j=(0,b.ZP)(h.l0)(a||(a=(0,m.Z)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: calc(100vw - 20px);\n  max-width: 400px;\n\n  background-color: white;\n  padding: 16px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n\n  & .react-datepicker__tab-loop {\n    margin-top: -6px;\n  }\n\n  & .react-datepicker-popper {\n    z-index: 2;\n  }\n\n  @media screen and (min-height: 960px) {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100%;\n    transform: translate(-50%, -50%);\n\n    padding: 16px 24px;\n    border-radius: 24px;\n\n    gap: 9px;\n  }\n\n  @media screen and (min-height: 960px) {\n    & .react-datepicker__tab-loop {\n      margin-top: -9px;\n    }\n  }\n"]))),w=b.ZP.label(r||(r=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n  position: relative;\n\n  &:first-child {\n    padding-top: 4px;\n  }\n"]))),v=(0,b.ZP)(f())(o||(o=(0,m.Z)(["\n  width: 100%;\n  max-height: 38px;\n  padding: 10px;\n  border: 2px solid var(--main-color);\n\n  @media screen and (min-width: 960px) {\n    font-size: 16px;\n  }\n\n  &.error {\n    border: 4px solid red;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))),y=b.ZP.span(i||(i=(0,m.Z)(["\n  position: absolute;\n  top: -5.5px;\n  left: 10px;\n  z-index: 1;\n  background-color: white;\n\n  font-size: 10px;\n  display: block;\n  padding: 1px;\n\n  @media screen and (min-height: 960px) {\n    top: -8px;\n    font-size: 12px;\n    padding: 2px;\n  }\n"]))),_=(0,b.ZP)(y)(d||(d=(0,m.Z)(["\n  position: absolute;\n  top: 0px;\n  left: 10px;\n  z-index: 1;\n  background-color: white;\n\n  font-size: 10px;\n  display: block;\n  padding: 1px;\n\n  @media screen and (min-height: 960px) {\n    top: 1px;\n    padding: 2px;\n    font-size: 12px;\n  }\n"]))),k=(0,b.ZP)(u.ih)(s||(s=(0,m.Z)(["\n  font-size: 16px;\n"]))),P=(0,b.ZP)(x.Mg)(l||(l=(0,m.Z)(["\n  margin: 0 auto;\n  padding: 12px;\n  height: auto;\n\n  @media screen and (min-width: 768px) {\n    padding: 16px;\n    letter-spacing: 0.6px;\n  }\n"]))),I=b.ZP.p(c||(c=(0,m.Z)(["\n  text-align: center;\n  font-size: 14px;\n  color: red;\n"]))),S=(0,b.ZP)(g.aC)(p||(p=(0,m.Z)(["\n  color: red;\n"])))}}]);
//# sourceMappingURL=C1 Speaking Control Panel page.056dc431.chunk.js.map