"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[6486],{50538:(s,e,i)=>{i.r(e),i.d(e,{default:()=>_});var o=i(55294),n=i(97723),t=i(8313),a=i(55705),c=i(72791),r=i(8007),l=i(41094),d=i(30639),p=i(88224),u=i(7180),h=i(27235),g=i(66347),m=i(82606),j=i(80184);o.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const x=s=>{o.Z.defaults.headers.common.Authorization="Bearer ".concat(s)},_=()=>{const[s,e]=(0,c.useState)(!1),[i,_]=(0,c.useState)(!1),[w,k]=(0,c.useState)([]),f="/unihostkahoots";(0,c.useEffect)((()=>{document.title="Pl University Host Kahoot Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const s=await o.Z.post("admins/refresh/kahoot/",{});console.log(s),_((s=>!0)),x(s.data.newToken)}}catch(s){console.log(s)}})()}),[i]);const S=r.Ry().shape({login:r.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:r.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),y=s=>{w.includes(s)?k((e=>[...e].filter((e=>e!==s)))):k((e=>[...e,s]))};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(l.Kq,{children:[!i&&(0,j.jsx)(a.J9,{initialValues:{login:"",password:""},onSubmit:async(s,i)=>{let{resetForm:n}=i;e((s=>!0));try{const i=await o.Z.post("/admins/login/kahoot",s);x(i.data.token),_((s=>!0)),localStorage.setItem("isAdmin",!0),n()}catch(t){console.error(t)}finally{e((s=>!1))}},validationSchema:S,children:(0,j.jsxs)(l.U0,{children:[(0,j.jsxs)(n.__,{children:[(0,j.jsx)(l.vD,{type:"text",name:"login",placeholder:"Login"}),(0,j.jsx)(l.aC,{component:"p",name:"login"})]}),(0,j.jsxs)(n.__,{children:[(0,j.jsx)(l.vD,{type:"password",name:"password",placeholder:"Password"}),(0,j.jsx)(l.aC,{component:"p",name:"password"})]}),(0,j.jsx)(l.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),i&&(0,j.jsxs)(l.XP,{children:[(0,j.jsx)(l.Os,{onClick:()=>y("pedagogium_logistics"),children:"Pedagogium Logistics"}),(0,j.jsx)(l.Os,{onClick:()=>y("pedagogium_prep"),children:"Pedagogium Prep"}),(0,j.jsx)(l.Os,{onClick:()=>y("wstijo_logistics"),children:"WSTIJO Logistics"}),(0,j.jsx)(l.Os,{onClick:()=>y("wstijo_prep"),children:"WSTIJO Prep"}),(0,j.jsx)(l.Os,{onClick:()=>y("wsbmir_logistics"),children:"WSBMIR Logistics"}),(0,j.jsx)(l.Os,{onClick:()=>y("wsbmir_prep"),children:"WSBMIR Prep"})]}),(0,j.jsxs)(l.YT,{children:[w.includes("pedagogium_logistics")&&(0,j.jsx)(d.J,{destination:f}),w.includes("pedagogium_prep")&&(0,j.jsx)(p.K,{destination:f}),w.includes("wstijo_logistics")&&(0,j.jsx)(g.J,{destination:f}),w.includes("wstijo_prep")&&(0,j.jsx)(m.J,{destination:f}),w.includes("wsbmir_logistics")&&(0,j.jsx)(u.B,{destination:f}),w.includes("wsbmir_prep")&&(0,j.jsx)(h.L,{destination:f})]}),s&&(0,j.jsx)(t.a,{})]})})}}}]);
//# sourceMappingURL=Pl University Host Kahoots Admin Panel page.c9871a1d.chunk.js.map