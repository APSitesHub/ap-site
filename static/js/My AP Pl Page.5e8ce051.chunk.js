"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[1850],{21345:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var n=s(55294),a=s(97723),o=s(67527),i=s(55705),l=s(17102),r=s(72791),c=s(57689),d=s(8007),u=s(38993),m=s(14203),h=s(48640),p=s(87095),g=s(54046),j=s(80184);n.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const x=/\d{2}\.\d{2}\.\d{4}, \d{2}:\d{2}:\d{2}:/g,w=/\b(?:https?|ftp):\/\/\S+\b/g,D=e=>{let{currentStudentChart:t}=e;const s=[{area:"Aktywno\u015b\u0107",[t.name]:t.activity},{area:"Gramatyka",[t.name]:t.grammar},{area:"M\xf3wienie",[t.name]:t.speaking},{area:"S\u0142ownictwo",[t.name]:t.lexis},{area:"S\u0142uchanie",[t.name]:t.listening}],n=e=>{let{data:s}=e;return(0,j.jsx)(h.qQ,{data:s,curve:"linearClosed",keys:[t.name],indexBy:"area",maxValue:3,valueFormat:">-.0f",margin:document.body.getClientRects()[0].width<640?{top:0,right:10,bottom:0,left:10}:{top:20,right:60,bottom:20,left:60},borderColor:{from:"color"},gridLevels:3,gridLabelOffset:document.body.getClientRects()[0].width<640?-26:16,dotSize:document.body.getClientRects()[0].width<640?3:5,dotColor:{theme:"background"},dotBorderWidth:(document.body.getClientRects()[0].width,3),colors:{scheme:"dark2"},fillOpacity:.15,blendMode:"multiply",motionConfig:"wobbly",theme:document.body.getClientRects()[0].width<640?{text:{fontSize:8}}:{text:{fontSize:11}}})};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(g.Bu,{children:[(0,j.jsx)(p.xA,{id:"focus",children:"Student"}),(0,j.jsx)(g.w6,{dangerouslySetInnerHTML:{__html:"string"===typeof t.feedback[t.feedback.length-1]?t.feedback[t.feedback.length-1].replace(w,(e=>'<a href="'.concat(e,'" target="_blank">').concat(e.length>50?e.slice(0,50)+"...":e,"</a>"))).replace(x,"").trim().split(" ").slice(1).join(" "):""}}),(0,j.jsxs)(g.nK,{id:"chartlimiter",children:[(0,j.jsx)(g.Bd,{id:"chartbg"}),(0,j.jsx)(n,{data:s})]})]})})};var k=s(31036),y=s(62980),b=s(51912),f=s(98954);const S=e=>{let{user:t,personalLessonsDays:s,isMultipleCourses:n}=e;const[a,o]=(0,r.useState)((new Date).getDate()-(new Date).getDay()),[i,l]=(0,r.useState)((new Date).getMonth()+1),[c,d]=(0,r.useState)((new Date).getFullYear()),[u,m]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[g,x]=(0,r.useState)([]),w=(0,r.useMemo)((()=>[+new Date(2024,11,22),+new Date(2024,11,23),+new Date(2024,11,24),+new Date(2024,11,25),+new Date(2024,11,26),+new Date(2024,11,27),+new Date(2024,11,28),+new Date(2024,11,29),+new Date(2024,11,30),+new Date(2024,11,31),+new Date(2025,0,1),+new Date(2025,0,2),+new Date(2025,0,3),+new Date(2025,0,4),+new Date(2025,0,5)]),[]);(0,r.useEffect)((()=>{(()=>{let e=new Date(c,i-1,a+1);const t=e.getDate()-e.getDay(),n=[];e.getDate()!==t?e.setDate(t):e.setDate(t+1);let o=0;for(;e.getDay()<=6&&o<7;)o+=1,s.includes(e.getDay())&&!w.includes(+new Date(e.getFullYear(),e.getMonth(),e.getDate()))&&n.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);m((e=>n))})();(()=>{let e=new Date(c,i-1,1);const t=[];for(e.setDate(1);e.getMonth()+1===i;)s.includes(e.getDay())&&!w.includes(+new Date(e.getFullYear(),e.getMonth(),e.getDate()))&&t.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);p((e=>t))})();(()=>{let e=new Date;const t=[];for(e.setDate(1),e.setMonth(0);e.getFullYear()===c;)s.includes(e.getDay())&&!w.includes(+new Date(e.getFullYear(),e.getMonth(),e.getDate()))&&t.push(new Date(e.getFullYear(),e.getMonth(),e.getDate(),3).toISOString()),e.setDate(e.getDate()+1);x((e=>t))})()}),[a,i,c,s,w]);const D=e=>"".concat(e).length>1?e:"0"+e,S=e=>{let n=new Date(c,e-1,1);const a=[];for(n.setDate(1);n.getMonth()+1===e;)s.includes(n.getDay())&&a.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);const o=a.map((e=>"".concat(D(new Date(e).getDate()),".").concat(D(new Date(e).getMonth()+1),".").concat(new Date(e).getFullYear())));return t.visited.filter((t=>+t.split(".")[1]===e&&o.includes(t))).length},C=e=>{const n=(e=>{let t=new Date(e).toISOString();const n=new Date(t).getDate()-new Date(t).getDay(),a=[];t=new Date(t).getDate()!==n?new Date(t).setDate(n):new Date(t).setDate(n+1);let o=0;for(;new Date(t).getDay()<=6&&o<7;)o+=1,new Date(t).getDay()>=1&&s.includes(t.getDay())&&a.push(t),t=new Date(new Date(t).setDate(new Date(t).getDate()+1));return a})(new Date(c,i-1,e+1,3).toISOString()).map((e=>"".concat(D(new Date(e).getDate()),".").concat(D(new Date(e).getMonth()+1),".").concat(D(new Date(e).getFullYear()))));return t.visited.filter((e=>n.includes(e))).length},M=()=>{const e=u;let t=(new Date).getDate();const s=()=>e.findIndex((e=>new Date(e).getDate()===t&&new Date(e).getMonth()===(new Date).getMonth()));let n=s();for(;s()<0&&t>=1;)t-=1,s();n=e.findIndex((e=>new Date(e).getDate()===t&&new Date(e).getMonth()===(new Date).getMonth()));const o=e.slice(0,n+1).length;return u.length?n<0&&C(a)>0?u.length-C(a):0===o||o-C(a)<0?0:o-C(a):0},z=()=>{const e=h;let t=(new Date).getDate();const s=()=>e.findIndex((e=>new Date(e).getDate()===t&&new Date(e).getMonth()===(new Date).getMonth()));let n=s();for(;s()<0&&t>=1;)t-=1,s();n=e.findIndex((e=>new Date(e).getDate()===t&&new Date(e).getMonth()===(new Date).getMonth()));const a=e.slice(0,n+1).length;return n<0&&S(i)>0?h.length-S(i):0===a||a-S(i)<0?0:a-S(i)};return(0,j.jsxs)(f.ui,{style:{top:n?"184px":"142px"},children:[(0,j.jsxs)(f.sI,{children:[(0,j.jsx)(f.yX,{}),"Obecno\u015b\u0107"]}),(0,j.jsxs)(f.gM,{children:[(0,j.jsxs)(f.iT,{children:[(0,j.jsx)(f.Nk,{disabled:0===C(a-7),onClick:()=>{o(a-7)},children:(0,j.jsx)(f.Ug,{className:0!==C(a-7)&&"available"})}),(0,j.jsx)(f.dw,{children:(()=>{const e=new Date(c,i-1,a+1),t=new Date(e),s=new Date(t.setDate(t.getDate()+6));return"".concat(D(e.getDate()),".").concat(D(e.getMonth()+1)," - ").concat(D(s.getDate()),".").concat(D(s.getMonth()+1),".").concat(s.getFullYear())})()}),(0,j.jsx)(f.Nk,{disabled:0===C(a+7),onClick:()=>{o(a+7)},children:(0,j.jsx)(f.Pi,{className:0!==C(a+7)&&"available"})})]}),(0,j.jsxs)(f.v0,{children:[(0,j.jsx)(f.p6,{children:(0,j.jsxs)(f.Q4,{children:[(0,j.jsxs)(f.d8,{children:[(0,j.jsx)(f.H1,{children:"Odwiedzono:"}),(0,j.jsx)(f.hW,{children:(0,j.jsx)(f.Uv,{children:(()=>{const e=u.map((e=>"".concat(D(new Date(e).getDate()),".").concat(D(new Date(e).getMonth()+1),".").concat(D(new Date(e).getFullYear())))),s=t.visited.filter((t=>e.includes(t)));return e.map(((e,t)=>s.includes(e)?(0,j.jsx)(b.r,{},t):!s.includes(e)&&(+e.split(".")[1]<(new Date).getMonth()+1||+e.split(".")[0]<(new Date).getDate())?(0,j.jsx)(y.r,{},t):(0,j.jsx)(k.r,{},t)))})()})})]}),(0,j.jsxs)(f.K4,{children:[(()=>{const e=u.map((e=>"".concat(D(new Date(e).getDate()),".").concat(D(new Date(e).getMonth()+1),".").concat(new Date(e).getFullYear())));return console.log(298,e),console.log(299,t.visited.filter((t=>e.includes(t))).length),t.visited.filter((t=>e.includes(t))).length})(),"/",(0,j.jsx)(f.u4,{children:u.length})]})]})}),(0,j.jsxs)(f.p6,{children:[(0,j.jsx)(f.H1,{children:"Braki:"}),(0,j.jsx)(f.K4,{style:{color:M()>0&&"#D61D1D"},children:M()})]})]}),(0,j.jsxs)(f.iT,{children:[(0,j.jsx)(f.Nk,{disabled:0===S(i-1),onClick:()=>{if(i>1){l(i-1);const e=new Date(c,i-2,1),s=t.visited.filter((e=>+e.split(".")[1]===i-1)),n=new Date(c,i-2,+s[0].split(".")[0]);return void o(n>7?n.getDate()-n.getDay():e.getDate()-e.getDay())}l(12),d(c-1);const e=new Date(c,i-2,1),s=t.visited.filter((e=>+e.split(".")[1]===i-1)),n=new Date(c,i-2,+s[0].split(".")[0]);o(n>7?n.getDate()-n.getDay():e.getDate()-e.getDay())},children:(0,j.jsx)(f.Ug,{className:0!==S(i-1)&&"available"})}),(0,j.jsx)(f.dw,{children:["\u0421\u0456\u0447\u0435\u043d\u044c","Luty","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"][i-1]}),(0,j.jsx)(f.Nk,{disabled:0===S(i+1),onClick:()=>{if(i<12){l(i+1);const e=new Date(c,i,1),s=t.visited.filter((e=>+e.split(".")[1]===i+1)),n=new Date(c,i,+s[0].split(".")[0]);return void o(n>7?n.getDate()-n.getDay():e.getDate()-e.getDay())}l(1),d(c+1);const e=new Date(c,i,1),s=t.visited.filter((e=>+e.split(".")[1]===i+1)),n=new Date(c,i,+s[0].split(".")[0]);o(n>7?n.getDate()-n.getDay():e.getDate()-e.getDay())},children:(0,j.jsx)(f.Pi,{className:0!==S(i+1)&&"available"})})]}),(0,j.jsxs)(f.v0,{children:[(0,j.jsxs)(f.p6,{children:[(0,j.jsx)(f.H1,{children:"Odwiedzono:"}),(0,j.jsxs)(f.K4,{children:[S(i),"/",(0,j.jsx)(f.u4,{children:h.length})]})]}),(0,j.jsxs)(f.p6,{children:[(0,j.jsx)(f.H1,{children:"Braki:"}),(0,j.jsx)(f.K4,{style:{color:z()>0&&"#D61D1D"},children:z()})]})]}),(0,j.jsxs)(f.cf,{children:[(0,j.jsx)(f.H1,{children:"\u0141\u0105czna liczba lekcji odbytych w ci\u0105gu roku:"}),(0,j.jsxs)(f.K4,{children:[(()=>{const e=g.map((e=>"".concat(new Date(e).getDate(),".").concat(D(new Date(e).getMonth()+1),".").concat(D(new Date(e).getFullYear()))));return t.visited.filter((t=>e.includes(t))).length})(),"/",(0,j.jsx)(f.u4,{children:g.length})]}),(0,j.jsx)(f.DE,{})]})]})]})};var C=s(55658),M=s(83134),z=s.n(M),v=s(92641),I=s(23635);const L=e=>{let{lessons:t,language:s,user:n,setPlatformIframeLink:a,isMultipleCourses:o}=e;const[i,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[w,D]=(0,r.useState)([]),[k,y]=(0,r.useState)([]),[b,f]=(0,r.useState)(!1),[S,M]=(0,r.useState)(0),[L,N]=(0,r.useState)(!0),P=window.location.origin+window.location.pathname,E=e=>{p(!1),x(""),D([]),y([]);const n=e.target.value;l(""!==n?e=>[...t.filter((e=>{const t=e.level+" "+e.lesson.replace("Lesson","").replace("Lekcja","").replace("Unterricht","").trim().trimStart();return(e.keysEn.toLowerCase().includes(n.toLowerCase().trim().trimStart())||e.keysUa.toLowerCase().includes(n.toLowerCase().trim().trimStart())||e.topic.toLowerCase().includes(n.toLowerCase().trim().trimStart())||e.lesson.toLowerCase().includes(n.toLowerCase().trim().trimStart())||e.level.toLowerCase().includes(n.toLowerCase().trim().trimStart())||t.toLowerCase().includes(n.toLowerCase().trim().trimStart()))&&s===e.lang}))]:e=>[...t.filter((e=>s===e.lang))]),sessionStorage.setItem("searchValue",n)},F=e=>{const t=e.target.value;N(""===t),y(""!==t?e=>[...w.filter((e=>e.question.toLowerCase().includes(t.toLowerCase().trim().trimStart())||e.exercise.toLowerCase().includes(t.toLowerCase().trim().trimStart())))]:e=>[...w])},O=e=>{e.currentTarget.classList.toggle("tooltip-open")},Y=()=>{console.log("mouse out?"),m((e=>"")),c&&d((e=>!e))},T=e=>b&&e!==S?M(e):b||e!==S?b&&e===S?f((e=>!e)):(e=>{M(e),f((e=>!e))})(e):f((e=>!e));return(0,j.jsxs)(I.yO,{className:0===i.length&&"nothing-found",style:{top:o?"184px":"142px"},children:[(0,j.jsxs)(I.GJ,{children:[(0,j.jsx)(I.qZ,{}),(0,j.jsx)(I.OO,{value:sessionStorage.getItem("searchValue")?sessionStorage.getItem("searchValue"):"",autoFocus:sessionStorage.getItem("searchValue")&&!0,onFocus:sessionStorage.getItem("searchValue")&&E,onChange:E,placeholder:"Wprowad\u017a temat lub numer lekcji"})]}),0!==i.length&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I.JS,{children:(0,j.jsx)(I.Vz,{children:i.slice(0,5).map((e=>(0,j.jsxs)(I.$J,{children:[(0,j.jsxs)(I.Pq,{children:[(0,j.jsx)(I.W7,{children:e.level+" - "+e.lesson.match(/\d+/)}),(0,j.jsxs)(I.Nk,{children:[(0,j.jsxs)(I.sF,{children:[e.level," ",e.lesson.match(/\d+/)]}),(0,j.jsxs)(I.zs,{children:[(0,j.jsx)(I.P3,{onMouseEnter:e=>O(e),onMouseOut:e=>O(e),onClick:()=>{a("https://online.ap.education/MarathonClass/?marathonId=".concat(e.marathonId,"&pupilId=").concat(n.pupilId,"&marathonLessonId=").concat(e.lessonId))},children:(0,j.jsx)(I.BI,{})}),(0,j.jsx)(I.u,{onMouseEnter:e=>O(e),onMouseOut:e=>O(e),onClick:()=>{window.open("".concat(P,"?https://online.ap.education/MarathonClass/?marathonId=").concat(e.marathonId,"&pupilId=").concat(n.pupilId,"&marathonLessonId=").concat(e.lessonId),"_blank")},children:(0,j.jsx)(I.h0,{})})]}),(0,j.jsx)(I.RM,{children:e.lesson})]})]}),e.video[0]&&(0,j.jsx)(I.gZ,{children:(0,j.jsx)(z(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.video[0]})}),e.pdf.length>0&&(0,j.jsx)(I.Dv,{onMouseLeave:Y,children:e.pdf.map(((e,t)=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(I.Ag,{id:e,onMouseEnter:e=>(e=>{m((t=>e.target.id)),c||d((e=>!e))})(e),onTouchEnd:()=>{return m(t=e),void(c&&t!==u?m((e=>t)):c||t!==u?c&&t===u?d((e=>!e)):(e=>{console.log("opener"),m((t=>e)),d((e=>!e))})(t):d((e=>!e)));var t},children:[(0,j.jsx)(v.r,{}),(0,j.jsxs)(I.CH,{target:"_blank",rel:"noopener noreferrer",to:(0,C.ZP)(e),children:["Gramatyka ",t+1,(0,j.jsx)(I.h0,{})]},t)]},e),(0,j.jsx)(I.Ym,{className:c&&u===e&&"preview-open",children:c&&u===e&&(0,j.jsx)(I.Xq,{title:"Preview of ".concat(e),src:e.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})))}),e.faq.length>0&&(0,j.jsxs)(I.Nn,{children:[(0,j.jsxs)(I.uT,{onClick:()=>(e=>{p((e=>!e)),D((t=>[...e.faq])),y((t=>[...e.faq])),x((t=>e._id))})(e),children:[(0,j.jsxs)(I.OX,{children:[(0,j.jsx)(I.U$,{children:(0,j.jsx)(I.m9,{children:"?"})}),"FAQ"," "]}),h?(0,j.jsx)(I.YY,{}):(0,j.jsx)(I.Ok,{})]}),(0,j.jsxs)(I.on,{className:h&&g===e._id&&"faqlistopen",children:[(0,j.jsx)(I.iL,{onChange:F,placeholder:"Prosz\u0119 wprowadzi\u0107 numer zadania lub wasze pytanie.",className:!L&&"not-empty"}),(0,j.jsx)(I.UA,{})]}),(0,j.jsx)(I.Ar,{className:h&&g===e._id&&"faqlistopen",children:k.map(((e,t)=>(0,j.jsxs)(I.E2,{children:[(0,j.jsx)(I.VH,{onClick:()=>T(t),children:e.exercise}),(0,j.jsx)(I.HL,{className:b&&S===t&&"preview-open",children:e.question}),(0,j.jsx)(I.Xu,{className:b&&S===t&&"preview-open",children:b&&S===t&&(0,j.jsx)(I.gZ,{children:(0,j.jsx)(z(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.answer})})})]},t)))})]})]},e._id)))})}),(0,j.jsx)(I.i9,{})]})]})};var N=s(25984),P=s(26478),E=s(82846);const F=e=>{let{user:t,flatPoints:s,flatMonthlyPoints:n,isMultipleCourses:a}=e;const[o,i]=(0,r.useState)("0%"),[l,c]=(0,r.useState)(0),d=l>0?n.sort(((e,t)=>t.points-e.points)):s.sort(((e,t)=>t.points-e.points)),u=d.findIndex((e=>e.name.toLowerCase()===t.name.toLowerCase())),m=e=>{i((t=>"".concat(100*e,"%"))),c(e)};return(0,j.jsxs)(E.dn,{style:{top:a?"184px":"142px"},children:[(0,j.jsxs)(E.JI,{children:[(0,j.jsx)(E.TB,{}),"Ranking"]}),-1===u?(0,j.jsxs)(E.fc,{children:[(0,j.jsx)(E.ij,{src:P,alt:"Eyes emoji",width:"80"}),(0,j.jsx)(E.qY,{children:"\u0428\u0443\u043a\u0430\u0454\u043c\u043e \u0432\u0430\u0441 \u0443 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443."}),(0,j.jsxs)(E.qY,{children:["\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0449\u0435 \u043a\u0456\u043b\u044c\u043a\u0430 \u0432\u043f\u0440\u0430\u0432, ",(0,j.jsx)("br",{})," \u0449\u043e\u0431 \u0431\u0443\u0442\u0438 \u0432 \u0442\u043e\u043f\u0456! \ud83e\udd29"]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(E.bX,{children:[(0,j.jsx)(E.Tu,{style:{transform:"translateX(".concat(o,")")}}),(0,j.jsx)(E.SA,{onClick:()=>{m(0)},className:0===l&&"active",children:"Og\xf3lny"}),(0,j.jsx)(E.SA,{onClick:()=>{m(1)},className:1===l&&"active",children:"Miesi\u0119czny"})]}),(0,j.jsxs)(E.Iq,{children:[(0,j.jsx)(E.bY,{children:"Miejsce"}),(0,j.jsx)(E.Js,{children:"Imi\u0119 i nazwisko"}),(0,j.jsx)(E.bY,{children:"Punkty"})]}),(0,j.jsxs)(E.Q4,{children:[(0,j.jsx)(E.ip,{children:d.findIndex((e=>e.name.toLowerCase()===t.name.toLowerCase()))+1}),(0,j.jsx)(E.wu,{children:"Student"}),(0,j.jsx)(E.ip,{children:d[u].points<0?0:d[u].points})]}),(0,j.jsx)(E.ag,{children:d.slice(0,10).map(((e,t)=>(0,j.jsxs)(E.HJ,{children:[t<=2?(0,j.jsx)(E.OV,{children:t+1}):(0,j.jsx)(E.C,{children:t+1}),(0,j.jsx)(E.wu,{children:e.name}),(0,j.jsx)(E.ip,{children:e.points})]},(0,N.x0)(8))))})]})]})};var O=s(41047);const Y=e=>{let{user:t,language:s,timetable:n,isMultipleCourses:a}=e;const o=["Pon","Wt","\u015ar","Czw","Pt","Sob","Nd"];return(0,j.jsxs)(O.wf,{style:{top:a?"184px":"142px"},children:[(0,j.jsxs)(O.IZ,{children:[(0,j.jsx)(f.Qu,{}),"Harmonogram zaj\u0119\u0107"]}),n?(0,j.jsxs)(O.bP,{children:[(0,j.jsxs)(O.Yh,{children:[(0,j.jsxs)(O.Vt,{children:[(0,j.jsx)(O.Vl,{children:"Teoretyczne zaj\u0119cia"}),(0,j.jsx)(O.h4,{href:"https://academy.ap.education/streams/polski",target:"_blank",children:(0,j.jsx)(O.Oi,{children:"Przej\u015b\u0107 do"})})]}),(0,j.jsxs)(O.hz,{children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)(O.h6,{className:"day",children:"Dzie\u0144"}),(0,j.jsx)(O.h6,{className:"time",children:"Czas"}),(0,j.jsx)(O.h6,{className:"lessonNumber",children:"\u2116 lekcja"}),(0,j.jsx)(O.h6,{className:"teacher",children:"Przedmiot"})]})}),(0,j.jsx)("tbody",{children:n.sort(((e,t)=>e.day-t.day)).map(((e,t)=>(0,j.jsxs)(O.UL,{style:e.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,j.jsx)(O.Rk,{className:"day",children:o[e.day-1]}),(0,j.jsx)(O.Rk,{className:"time",children:e.time}),(0,j.jsx)(O.Rk,{className:"lessonNumber",children:e.lessonNumber}),(0,j.jsx)(O.Rk,{className:"teacher",children:e.subject})]},t)))})]})]})," "]}):(0,j.jsxs)(E.fc,{children:[(0,j.jsx)(E.ij,{src:P,alt:"Eyes emoji",width:"80"}),(0,j.jsx)(E.qY,{children:"\u0417\u0434\u0430\u0454\u0442\u044c\u0441\u044f, \u0443 \u0432\u0430\u0441 \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443!"}),(0,j.jsx)(E.qY,{children:"\u0410\u043b\u0435 \u0432\u0456\u043d \u0437'\u044f\u0432\u0438\u0442\u044c\u0441\u044f, \u043a\u043e\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0440\u043e\u0437\u043f\u043e\u0447\u043d\u0443\u0442\u044c\u0441\u044f \u0437\u0430\u043d\u044f\u0442\u0442\u044f!"})]})]})};n.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const T=e=>{let{lessons:t,user:s,language:a,points:o,timetable:i,montlyPoints:l,isMultipleCourses:c,setPlatformIframeLink:d}=e;const[u,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[k,y]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[C,M]=(0,r.useState)(!1),[z,v]=(0,r.useState)(!0),[I,N]=(0,r.useState)({}),P=i.map((e=>e.day));console.log(s);const E=()=>{h(!1),g(!1),w(!1),y(!1),f(!1),M(!1)},O=e=>{e.currentTarget.classList.toggle("tooltip-open")};return(0,r.useEffect)((()=>{const e=e=>{"Escape"===e.code&&u&&E()};return(async()=>{try{const e=await n.Z.get("/speakingusers/".concat(s.id));console.log(258,e),N((t=>e.data)),console.log("eff")}catch(e){console.log(e)}})(),window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[u,s.id]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Dj,{onClick:E,className:u?"":"hidden"}),(0,j.jsx)(m.YI,{id:"no-transform",onClick:()=>{E(),v((e=>!e))},children:z?(0,j.jsx)(m.$E,{}):(0,j.jsx)(m.yu,{})}),(0,j.jsxs)(m.Wo,{className:z?"":"hidden",style:{top:c?"145px":"129px"},children:[(0,j.jsx)(m.Uu,{onClick:()=>{!u&&(!x||!k||!b||!C)&&h((e=>!0)),u&&!x&&!k&&!b&&!C&&h((e=>!1)),w(!1),y(!1),f(!1),M(!1),g((e=>!e))},onMouseEnter:e=>O(e),onMouseOut:e=>O(e),children:(0,j.jsx)(m.Hk,{id:"search-btn",className:p&&"active"})}),"online"!==s.package&&(0,j.jsx)(m.Uu,{onClick:()=>{!u&&(!p||!k||!b||!C)&&h((e=>!0)),u&&!p&&!k&&!b&&!C&&h((e=>!1)),g(!1),y(!1),f(!1),M(!1),w((e=>!e))},onMouseEnter:e=>O(e),onMouseOut:e=>O(e),children:(0,j.jsx)(m.zr,{id:"rating-btn",className:x&&"active"})}),"online"!==s.package&&(0,j.jsx)(m.Uu,{onClick:()=>{!u&&(!x||!p||!b||!k)&&h((e=>!0)),u&&!x&&!p&&!b&&!k&&h((e=>!1)),g(!1),w(!1),f(!1),y(!1),M((e=>!e))},onMouseEnter:e=>O(e),onMouseOut:e=>O(e),children:(0,j.jsx)(m.wV,{id:"feedback-btn",className:C&&"active"})}),"online"!==s.package&&(0,j.jsx)(m.Uu,{onClick:()=>{!u&&(!x||!p||!b||!C)&&h((e=>!0)),u&&!x&&!p&&!b&&!C&&h((e=>!1)),g(!1),w(!1),f(!1),M(!1),y((e=>!e))},onMouseEnter:e=>O(e),onMouseOut:e=>O(e),children:(0,j.jsx)(m.CD,{id:"calendar-btn",className:k&&"active"})}),"online"!==s.package&&(0,j.jsx)(m.Uu,{onClick:()=>{!u&&(!x||!p||!k||!C)&&h((e=>!0)),u&&!x&&!p&&!k&&!C&&h((e=>!1)),g(!1),w(!1),y(!1),M(!1),f((e=>!e))},onMouseEnter:e=>O(e),onMouseOut:e=>O(e),children:(0,j.jsx)(m.Ip,{className:b&&"active",id:"timetable-btn"})})]}),p&&(0,j.jsx)(L,{lessons:t,user:s,language:a,setPlatformIframeLink:d,isMultipleCourses:c}),x&&(0,j.jsx)(F,{user:s,flatPoints:o,flatMonthlyPoints:l,isMultipleCourses:c}),k&&(0,j.jsx)(S,{user:s,personalLessonsDays:P,isMultipleCourses:c}),C&&(0,j.jsx)(D,{currentStudentChart:I}),b&&(0,j.jsx)(Y,{user:s,language:a,timetable:i,isMultipleCourses:c})]})},U=[{name:"Adam Nowak",points:327},{name:"Bartosz Kowalski",points:458},{name:"Cezary Wi\u015bniewski",points:783},{name:"Damian W\xf3jcik",points:604},{name:"Emil Kami\u0144ski",points:536},{name:"Filip Lewandowski",points:918},{name:"Grzegorz Zieli\u0144ski",points:629},{name:"Hubert Szyma\u0144ski",points:705},{name:"Igor Wo\u017aniak",points:847},{name:"Jakub D\u0105browski",points:509},{name:"Kamil Koz\u0142owski",points:987},{name:"\u0141ukasz Jankowski",points:734},{name:"Mateusz Mazur",points:685},{name:"Norbert Kwiatkowski",points:595},{name:"Olaf Piotrowski",points:819},{name:"Patryk Grabowski",points:914},{name:"Robert Paw\u0142owski",points:727},{name:"Szymon Michalski",points:664},{name:"Tomasz Kr\xf3l",points:874},{name:"Uriel Wieczorek",points:765},{name:"Wojciech Jastrz\u0119bski",points:886},{name:"Zbigniew Tomczak",points:547},{name:"Artur Jarosz",points:924},{name:"Borys Malinowski",points:586},{name:"Daniel Gajewski",points:746},{name:"Edward Krupa",points:618},{name:"Fryderyk Brzezi\u0144ski",points:674},{name:"Gustaw St\u0119pie\u0144",points:758},{name:"Henryk Wr\xf3bel",points:879},{name:"Ireneusz Lis",points:995},{name:"Dev Acc",points:747}],q=[{name:"Adam Nowak",points:2413},{name:"Bartosz Kowalski",points:3129},{name:"Cezary Wi\u015bniewski",points:4217},{name:"Damian W\xf3jcik",points:2728},{name:"Emil Kami\u0144ski",points:3514},{name:"Filip Lewandowski",points:4619},{name:"Grzegorz Zieli\u0144ski",points:3012},{name:"Hubert Szyma\u0144ski",points:3716},{name:"Igor Wo\u017aniak",points:4328},{name:"Jakub D\u0105browski",points:2915},{name:"Kamil Koz\u0142owski",points:4823},{name:"\u0141ukasz Jankowski",points:4118},{name:"Mateusz Mazur",points:3611},{name:"Norbert Kwiatkowski",points:2832},{name:"Olaf Piotrowski",points:4427},{name:"Patryk Grabowski",points:4715},{name:"Robert Paw\u0142owski",points:3936},{name:"Szymon Michalski",points:3421},{name:"Tomasz Kr\xf3l",points:4533},{name:"Uriel Wieczorek",points:4029},{name:"Wojciech Jastrz\u0119bski",points:4578},{name:"Zbigniew Tomczak",points:3219},{name:"Artur Jarosz",points:4832},{name:"Borys Malinowski",points:3134},{name:"Daniel Gajewski",points:4075},{name:"Edward Krupa",points:2931},{name:"Fryderyk Brzezi\u0144ski",points:3562},{name:"Gustaw St\u0119pie\u0144",points:3971},{name:"Henryk Wr\xf3bel",points:4526},{name:"Ireneusz Lis",points:4918},{name:"Dev Acc",points:3178}],K=[{day:1,subject:"Polish",lessonNumber:"1",time:"12:00"},{day:1,subject:"English",lessonNumber:"1",time:"13:00"},{day:2,subject:"English",lessonNumber:"1",time:"11:00"},{day:2,subject:"Supply chain management",lessonNumber:"1",time:"12:00"},{day:2,subject:"Knowledge about Poland",lessonNumber:"1",time:"13:00"},{day:3,subject:"Inventory management",lessonNumber:"1",time:"12:00"},{day:3,subject:"Adaptation in Europe",lessonNumber:"1",time:"13:00"},{day:4,subject:"Polish",lessonNumber:"1",time:"11:00"},{day:4,subject:"Balanced logistics ",lessonNumber:"1",time:"12:00"},{day:4,subject:"Polish",lessonNumber:"1",time:"13:00"},{day:5,subject:"English",lessonNumber:"2",time:"12:00"},{day:5,subject:"English",lessonNumber:"2",time:"13:00"}],Z=()=>{const[e,t]=(0,r.useState)(!1),[s,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)({}),[x,w]=(0,r.useState)({}),[D,k]=(0,r.useState)({}),[y,b]=(0,r.useState)({}),[f,S]=(0,r.useState)(0),[C,M]=(0,r.useState)(""),[z,v]=(0,r.useState)("https://online.ap.education/"),[I,L]=(0,r.useState)(!1);n.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const N=(0,c.TH)(),[P,E]=(0,r.useState)("true"===localStorage.getItem("ischatboxshown")),[F,O]=(0,r.useState)(!1);(0,r.useEffect)((()=>{document.title="My AP | AP Education";(async()=>{console.log("token refresher");try{const e=await n.Z.post("/users/refresh",{mail:localStorage.getItem("mail")});t((e=>!0)),console.log(73,e.data.user.platformToken),b((t=>({...e.data.user})));const s=e.data.user.lang.split("/");s.length>1&&!C?(L(!0),M(s[f])):s.length<=1&&M(e.data.user.lang)}catch(e){console.log(e)}})();(async()=>{console.log("lessons getter");try{const e=await n.Z.get("/lessons");console.log(e),h((t=>[...e.data]))}catch(e){console.log(e)}})();(async()=>{console.log("ratings getter");try{g((e=>[...q])),k((e=>[...U]))}catch(e){console.log(e)}})();(async()=>{console.log("timetable getter");try{const e=await n.Z.get("/timetable");console.log(189,e),w((e=>[...K]))}catch(e){console.log(e)}})();(async()=>{const e=y.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(y.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/cabinet/student/lessons")):"https://online.ap.education/cabinet/student/lessons";v((t=>e))})()}),[C,f,P,y.pupilId,y.marathonNumber,y.platformToken]);const Y=d.Ry().shape({mail:d.Z_().required("Podaj adres e-mail, za pomoc\u0105 kt\xf3rego jeste\u015b zarejestrowany na naszej platformie!"),password:d.Z_().required("Podaj parol, kt\xf3rego u\u017cywasz do logowania si\u0119 na naszej platformie!")});return(0,j.jsx)(o.QU,{children:e?(0,j.jsxs)(j.Fragment,{children:[Object.values(p).length>0&&(0,j.jsx)(T,{lessons:s,user:y,points:p,montlyPoints:D,link:z,isMultipleCourses:I,setPlatformIframeLink:e=>{N.search="",v((t=>e))},language:C,setLanguage:M,languageIndex:f,setLanguageIndex:S,timetable:x}),(0,j.jsx)(u.x,{platformLink:z}),(0,j.jsx)(m.jB,{id:"no-transform",onClick:()=>{E((e=>!e)),localStorage.setItem("ischatboxshown",!P)},children:P?(0,j.jsx)(m.$E,{}):(0,j.jsx)(m.yu,{})})]}):(0,j.jsx)(i.J9,{initialValues:{mail:"",password:""},onSubmit:async(e,s)=>{let{resetForm:a}=s;e.mail=e.mail.toLowerCase().trim().trimStart(),e.password=e.password.trim().trimStart();try{const s=await n.Z.post("/users/login",e);console.log(s),o=s.data.token,n.Z.defaults.headers.common.Authorization="Bearer ".concat(o),t((e=>!0)),b((e=>({...s.data.user})));const i=s.data.user.lang.split("/");i.length>1&&(M(i[0]),L(!0)),localStorage.setItem("mail",e.mail),O(!1),a()}catch(i){401===i.response.status&&O(!0),console.error(i)}var o},validationSchema:Y,children:(0,j.jsxs)(l.U0,{children:[(0,j.jsx)(a.hQ,{}),(0,j.jsx)(a.T$,{}),(0,j.jsxs)(o.YA,{children:["Dzie\u0144 dobry!",(0,j.jsx)("br",{}),"Ta strona nie jest dost\u0119pna dla nieautoryzowanych u\u017cytkownik\xf3w. Je\u015bli jednak masz dost\u0119p do naszej platformy, to ta strona r\xf3wnie\u017c j\u0105 ma. Wchodzi\u0107 dane, kt\xf3rych u\u017cywasz do logowania si\u0119 na platformie."]}),(0,j.jsxs)(a.__,{children:[(0,j.jsx)(l.vD,{type:"text",name:"mail",placeholder:"Login",onBlur:()=>O(!1)}),(0,j.jsx)(l.aC,{component:"p",name:"mail",type:"email"})]}),(0,j.jsxs)(a.__,{children:[(0,j.jsx)(l.vD,{type:"password",name:"password",placeholder:"Password",onBlur:()=>O(!1)}),(0,j.jsx)(l.aC,{component:"p",name:"password"})]}),(0,j.jsx)(l.Gh,{type:"submit",children:"Zaloguj si\u0119"}),(0,j.jsx)(o.Yx,{style:F?{opacity:"1"}:{opacity:"0"},children:"Podany login lub parol s\u0105 nieprawid\u0142owe!"})]})})})}}}]);
//# sourceMappingURL=My AP Pl Page.5e8ce051.chunk.js.map