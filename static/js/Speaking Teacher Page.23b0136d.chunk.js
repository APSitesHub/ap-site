"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[5621],{5367:(e,n,t)=>{t.d(n,{NZ:()=>D,Nc:()=>R,Sq:()=>T,bH:()=>_,ih:()=>I,pv:()=>H,tA:()=>C,xA:()=>S,zN:()=>P});var a,s,i,l,r,c,o,d,u,p,h,x,m,g,f,b,j,Z=t(168),v=t(7723),k=t(5705),w=t(6487),y=t(3360);w.ZP.section(a||(a=(0,Z.Z)(["\n  height: max-content;\n  padding: 30px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),(0,w.ZP)(k.l0)(s||(s=(0,Z.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 35px;\n"]))),(0,w.ZP)(k.l0)(i||(i=(0,Z.Z)(["\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),(0,w.ZP)(v.Mg)(l||(l=(0,Z.Z)(["\n  margin: 0 auto;\n"]))),(0,w.ZP)(v.II)(r||(r=(0,Z.Z)(["\n  border: 2px solid var(--main-color);\n"]))),(0,w.ZP)(v.II)(c||(c=(0,Z.Z)(["\n  border-radius: 0;\n  width: 35vw;\n  height: 75vh;\n  scrollbar-width: thin;\n  background-color: transparent;\n"]))),(0,w.ZP)(v.r2)(o||(o=(0,Z.Z)(["\n  position: static;\n  color: var(--main-color);\n  font-size: 24px;\n  font-weight: 700;\n  bottom: -1.1em;\n"])));const S=w.ZP.ul(d||(d=(0,Z.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 14px;\n\n  text-transform: capitalize;\n  font-weight: 600;\n  margin-left: auto;\n"]))),P=w.ZP.h2(u||(u=(0,Z.Z)(["\n  font-size: 32px;\n  text-align: center;\n  margin-bottom: 12px;\n"]))),D=w.ZP.li(p||(p=(0,Z.Z)(["\n  width: 100%;\n  flex-basis: 40%;\n  flex-grow: 0;\n"]))),_=w.ZP.ul(h||(h=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),T=w.ZP.li(x||(x=(0,Z.Z)(["\n  font-size: 14px;\n  font-weight: 400;\n  display: flex;\n  gap: 20px;\n  justify-content: space-between;\n  padding-bottom: 5px;\n  border-bottom: 1px solid black;\n"]))),H=w.ZP.span(m||(m=(0,Z.Z)(["\n  min-width: 24px;\n"]))),R=w.ZP.span(g||(g=(0,Z.Z)(["\n  min-width: 120px;\n  text-align: center;\n"]))),C=w.ZP.span(f||(f=(0,Z.Z)(["\n  min-width: 100px;\n  text-align: center;\n"]))),I=(w.ZP.p(b||(b=(0,Z.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),(0,w.ZP)(y.ZP)(j||(j=(0,Z.Z)(["\n  width: 100%;\n  font-size: 14px;\n  border: 2px solid var(--main-color);\n\n  line-height: 1;\n\n  @media screen and (min-width: 768px) {\n    font-size: 19px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))))},9856:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var a=t(5294),s=t(91),i=t(8313),l=t(4693),r=t(2791),c=t(7689),o=t(7723),d=t(5705),u=t(7102),p=t(5367),h=t(8007),x=t(3084),m=t(184);a.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const g=e=>{let{studentToEdit:n,closeCourseLevelEditForm:t}=e;const[s,c]=(0,r.useState)(!1),[g,f]=(0,r.useState)(n.temperament||""),[b,j]=(0,r.useState)(n.successRate||"");console.log(n);const Z=[{label:"\u0421\u0438\u043b\u044c\u043d\u0438\u0439",value:"good"},{label:"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439",value:"mid"},{label:"\u0421\u043b\u0430\u0431\u043a\u0438\u0439",value:"bad"}],v=[{label:"\u0415\u043a\u0441\u0442\u0440\u0430\u0432\u0435\u0440\u0442",value:"extro"},{label:"\u0406\u043d\u0442\u0440\u043e\u0432\u0435\u0440\u0442",value:"intro"}],k={temperament:n.temperament||"",successRate:n.successRate||"",feedback:n.feedback||""},w=h.Ry().shape({temperament:h.Z_(),successRate:h.Z_(),feedback:h.Z_()});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.J9,{initialValues:k,onSubmit:async e=>{e={temperament:g,successRate:b},console.log(e),c((e=>!0));try{const s=await a.Z.patch("/timetable/course/".concat(n._id),e);console.log(s),t(),alert("\u0412\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u043e\u0432\u0430\u043d\u043e")}catch(s){console.error(s),alert("\u0414\u0435\u0441\u044c \u044f\u043a\u0430\u0441\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 - \u043a\u043b\u0430\u0446\u0430\u0439 F12, \u0440\u043e\u0431\u0438 \u0441\u043a\u0440\u0456\u043d \u043a\u043e\u043d\u0441\u043e\u043b\u0456, \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0439 \u041a\u0438\u0440\u0438\u043b\u0443")}finally{c((e=>!1))}},validationSchema:w,children:(0,m.jsxs)(l.jr,{children:[(0,m.jsx)(p.ih,{options:Z,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0423\u0441\u043f\u0456\u0448\u043d\u0456\u0441\u0442\u044c",name:"successRate",defaultValue:Z.find((e=>e.value===n.lang)),onChange:e=>{j(e.value)}}),(0,m.jsx)(p.ih,{options:v,styles:{control:(e,n)=>({...e,border:"none",borderRadius:"0px"})},placeholder:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u043c\u0435\u043d\u0442",name:"temperament",defaultValue:v.find((e=>e.value===n.temperament)),onChange:e=>{f(e.value)}}),(0,m.jsxs)(o.__,{children:[(0,m.jsx)(x._V,{type:"text",name:"feedback",component:"textarea",placeholder:"\u0424\u0456\u0434\u0431\u0435\u043a"}),(0,m.jsx)(u.aC,{component:"p",name:"feedback"})]}),(0,m.jsx)(u.Gh,{type:"submit",children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"})]})}),s&&(0,m.jsx)(i.a,{})]})},f=()=>{const e=(0,c.TH)().pathname.split("/speakings/")[1],[n,t]=(0,r.useState)(!1),[o,d]=(0,r.useState)([]),[u,p]=(0,r.useState)(""),[h,x]=(0,r.useState)({}),[f,b]=(0,r.useState)(!1),j=e=>{if(e){const n=e.split(".");return n.length>2?Date.parse([n[1],n[0],n[2]].join(".")):Date.parse(e)}},Z=(e=>{switch(e){case"deutsch-a0":return"deutscha0";case"deutsch-a0_2":return"deutscha0_2";case"deutsch-a1":return"deutsch";case"deutsch-a1free":return"deutschfree";case"deutsch-a2":return"deutscha2";case"deutsch-a2free":return"deutscha2free";case"deutsch-b1":return"deutschb1";case"deutsch-b2":return"deutschb2";case"polski-a0":return"polskia0";case"polski-a0_2":return"polskia0_2";case"polski-a1":return"polski";case"polski-a1free":return"polskifree";case"polski-a2":return"polskia2";case"polski-b1":return"polskib1";case"polski-b2":return"polskib2";default:return e}})(e),v=(e=>e.includes("de")||e.includes("deutsch")?"de":e.includes("pl")||e.includes("polski")?"pl":"en")(e);return(0,r.useEffect)((()=>{document.title="Speaking Teacher ".concat(Z.toLocaleUpperCase()," | AP Education");(async()=>{try{t((e=>!0)),p((await a.Z.get("/timetable")).data.filter((e=>Z.includes(e.level)&&v===e.lang))[0].course),d((await a.Z.get("/speakingusers/admin",{params:{isAdmin:!0}})).data.filter((e=>(new Date(j(e.visited[e.visited.length-1])).getDate()===(new Date).getDate()-1||new Date(j(e.visited[e.visited.length-1])).getDate()===(new Date).getDate()-2||new Date(j(e.visited[e.visited.length-1])).getDate()===(new Date).getDate())&&(v===e.lang||v===e.lang.split("/")[0])&&u===e.course)).sort(((e,n)=>j(n.visitedTime[n.visitedTime.length-1])-j(e.visitedTime[e.visitedTime.length-1])))),console.log("eff")}catch(e){console.log(e)}finally{t((e=>!1))}})()}),[u,Z,v]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.OD,{children:[(0,m.jsx)(l.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u044e\u0437\u0435\u0440\u0456\u0432, \u0449\u043e \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043b\u0438 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,m.jsx)("thead",{children:(0,m.jsxs)(l.me,{children:[(0,m.jsx)(l.Sb,{children:"CRM\xa0\u041b\u0456\u0434 \u041a\u043e\u043d\u0442\u0430\u043a\u0442"}),(0,m.jsx)(l.Sb,{children:"\u0406\u043c'\u044f"}),(0,m.jsx)(l.Sb,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0438\u043d\u0438"}),(0,m.jsx)(l.Sb,{children:"\u041c\u043e\u0432\u0430"}),(0,m.jsx)(l.Sb,{children:"\u041f\u043e\u0442\u0456\u043a"}),(0,m.jsx)(l.Sb,{children:"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u043c\u0435\u043d\u0442"}),(0,m.jsx)(l.Sb,{children:"\u0423\u0441\u043f\u0456\u0448\u043d\u0456\u0441\u0442\u044c"}),(0,m.jsx)(l.Sb,{children:"\u0424\u0456\u0434\u0431\u0435\u043a"}),(0,m.jsx)(l.Sb,{children:"Edit"})]})}),(0,m.jsx)("tbody",{children:o.map((e=>(0,m.jsxs)(l.me,{children:[(0,m.jsxs)(l.He,{children:[(0,m.jsx)("a",{href:"https://apeducation.kommo.com/leads/detail/".concat(e.crmId),target:"_blank",rel:"noreferrer",children:e.crmId})," ",(0,m.jsx)("a",{href:"https://apeducation.kommo.com/contacts/detail/".concat(e.contactId),target:"_blank",rel:"noreferrer",children:e.contactId})]}),(0,m.jsx)(l.He,{children:e.name}),(0,m.jsx)(l.He,{children:e.visitedTime[e.visitedTime.length-1]&&e.visitedTime[e.visitedTime.length-1].match("^202")?new Date(e.visitedTime[e.visitedTime.length-1]).toLocaleString("uk-UA"):""}),(0,m.jsx)(l.He,{children:e.lang}),(0,m.jsx)(l.He,{children:e.course}),(0,m.jsx)(l.He,{children:e.temperament}),(0,m.jsx)(l.He,{children:e.successRate}),(0,m.jsx)(l.He,{children:e.feedback}),(0,m.jsx)(l.He,{children:"Dev Acc"===e.name?null:(0,m.jsx)(l.Hx,{onClick:()=>(async e=>{x((n=>o.find((n=>n.userId===e)))),b(!0)})(e.userId),children:"Edit"})})]},e._id)))})]}),f&&(0,m.jsx)(s.Y,{onClick:e=>{"close-on-click"===e.target.id&&b(!1)},id:"close-on-click",children:(0,m.jsx)(g,{studentToEdit:h,closeCourseLevelEditForm:e=>{b(!1)}})}),n&&(0,m.jsx)(i.a,{})]})}}}]);
//# sourceMappingURL=Speaking Teacher Page.23b0136d.chunk.js.map