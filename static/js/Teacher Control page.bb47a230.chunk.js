"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[1193],{7673:(n,e,t)=>{t.d(e,{Gh:()=>I,He:()=>O,Hx:()=>R,Kq:()=>C,OD:()=>F,P_:()=>q,Sb:()=>L,U0:()=>H,aC:()=>E,az:()=>G,hj:()=>T,jr:()=>A,me:()=>K,vD:()=>U,x2:()=>B});var a,r,o,i,s,l,d,c,p,x,m,h,u,g,Z,b,f,j,w,v,P,y,k=t(30168),S=t(97723),_=t(55705),z=t(37269),D=t(76487);const C=D.ZP.section(a||(a=(0,k.Z)(["\n  height: max-content;\n  padding: 30px 20px;\n  display: flex;\n  align-items: flex-start;\n\n  gap: 30px;\n"]))),H=(0,D.ZP)(_.l0)(r||(r=(0,k.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),q=(0,D.ZP)(_.l0)(o||(o=(0,k.Z)(["\n  margin: 0 auto;\n\n  position: sticky;\n  top: 50%;\n\n  transform: translateY(-50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),A=(0,D.ZP)(_.l0)(i||(i=(0,k.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  max-width: 400px;\n\n  background-color: white;\n  padding: 24px;\n  border-radius: 24px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),I=(0,D.ZP)(S.Mg)(s||(s=(0,k.Z)(["\n  margin: 0 auto;\n  height: 48px;\n  padding: 0;\n"]))),U=(0,D.ZP)(S.II)(l||(l=(0,k.Z)(["\n  width: 240px;\n  padding: 8px 10px;\n  font-size: 16px;\n  height: 40px;\n  -webkit-text-stroke: 0px;\n\n  border: 2px solid var(--main-color);\n\n  &.error {\n    border-color: red;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 360px;\n  }\n"]))),E=(0,D.ZP)(S.r2)(d||(d=(0,k.Z)(["\n  color: var(--main-color);\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),F=D.ZP.table(c||(c=(0,k.Z)(["\n  max-width: 50vw;\n  min-height: 80vh;\n  margin: 0 auto;\n\n  table-layout: auto;\n  width: 100%;\n\n  text-align: center;\n  border: 1px solid #000;\n  border-collapse: collapse;\n"]))),G=D.ZP.caption(p||(p=(0,k.Z)(["\n  caption-side: top;\n  margin-bottom: 20px;\n"]))),K=(D.ZP.span(x||(x=(0,k.Z)(["\n  font-size: 11px;\n"]))),D.ZP.tr(m||(m=(0,k.Z)(["\n  border: 1px solid #000;\n"])))),L=D.ZP.th(h||(h=(0,k.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n"]))),O=(D.ZP.div(u||(u=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  position: relative;\n"]))),D.ZP.td(g||(g=(0,k.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n  height: 3em;\n\n  &.last-name {\n    text-transform: capitalize;\n  }\n\n  &.attention {\n    color: red;\n  }\n\n  &.error {\n    background-color: #ff0000;\n  }\n"])))),R=((0,D.ZP)(O)(Z||(Z=(0,k.Z)(["\n  text-align: start;\n  padding-left: 8px;\n  max-width: 50vw;\n"]))),D.ZP.button(b||(b=(0,k.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--accent-color);\n  border-radius: 5px;\n"])))),T=D.ZP.button(f||(f=(0,k.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--main-color);\n  border-radius: 5px;\n"]))),B=((0,D.ZP)(T)(j||(j=(0,k.Z)(["\n  &.banned {\n    border-color: #023020;\n  }\n  &.not_banned {\n    border-color: #8b0000;\n  }\n"]))),(0,D.ZP)(z.r)(w||(w=(0,k.Z)(["\n  width: 18px;\n  height: 12px;\n\n  color: #000;\n\n  transition: color var(--animation-global);\n\n  &:hover {\n    color: var(--main-color);\n  }\n"]))),D.ZP.div(v||(v=(0,k.Z)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n"]))),D.ZP.button(P||(P=(0,k.Z)(["\n  width: 100%;\n  text-transform: capitalize;\n"]))),D.ZP.p(y||(y=(0,k.Z)(["\n  font-size: 10px;\n  margin-bottom: 3px;\n  text-align: start;\n"]))))},42299:(n,e,t)=>{t.r(e),t.d(e,{default:()=>x});var a=t(55294),r=t(97723),o=t(8313),i=t(55705),s=t(72791),l=t(8007),d=t(7673),c=t(80184);a.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const p=n=>{a.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},x=()=>{const[n,e]=(0,s.useState)(!1),[t,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)([]),[u,g]=(0,s.useState)([]);(0,s.useEffect)((()=>{document.title="Teacher Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const n=await a.Z.post("admins/refresh/teachers/",{});p(n.data.newToken),console.log(n),x((n=>!0))}}catch(n){console.log(n)}})();(async()=>{try{if(t){const n=await a.Z.get("/teachers/");h((e=>[...n.data.reverse()]))}}catch(n){console.error(n)}})();(async()=>{try{if(t){const n=await a.Z.get("/speakingusers/admin");g((e=>[...n.data]))}}catch(n){console.error(n)}})()}),[t]);const Z=l.Ry().shape({login:l.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:l.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),b=/\d{1,}\.\d{2}\.\d{4}/;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(d.Kq,{children:[!t&&(0,c.jsx)(i.J9,{initialValues:{login:"",password:""},onSubmit:async(n,t)=>{let{resetForm:r}=t;e((n=>!0));try{const t=await a.Z.post("/admins/login/teachers",n);p(t.data.token),x((n=>!0)),localStorage.setItem("isAdmin",!0),r()}catch(o){console.error(o)}finally{e((n=>!1))}},validationSchema:Z,children:(0,c.jsxs)(d.U0,{children:[(0,c.jsxs)(r.__,{children:[(0,c.jsx)(d.vD,{type:"text",name:"login",placeholder:"Login"}),(0,c.jsx)(d.aC,{component:"p",name:"login"})]}),(0,c.jsxs)(r.__,{children:[(0,c.jsx)(d.vD,{type:"password",name:"password",placeholder:"Password"}),(0,c.jsx)(d.aC,{component:"p",name:"password"})]}),(0,c.jsx)(d.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),t&&m.length&&(0,c.jsxs)(d.OD,{children:[(0,c.jsx)(d.az,{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0430\u0443\u043d\u0442\u0456\u0432 \u0442\u0456\u0447\u0435\u0440\u0456\u0432 \u0437 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u0434\u043e \u0442\u0430\u0431\u043b\u0438\u0447\u043e\u043a \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432"}),(0,c.jsx)("thead",{children:(0,c.jsxs)(d.me,{children:[(0,c.jsx)(d.Sb,{children:"\u0422\u0456\u0447\u0435\u0440"}),(0,c.jsx)(d.Sb,{children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),(0,c.jsx)(d.Sb,{children:"\u0414\u0430\u0442\u0430 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432"}),(0,c.jsx)(d.Sb,{children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438"})]})}),(0,c.jsx)("tbody",{children:m.sort(((n,e)=>n.name.localeCompare(e.name))).map((n=>(0,c.jsxs)(d.me,{children:[(0,c.jsx)(d.He,{children:n.name}),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).map((n=>(0,c.jsx)(d.x2,{children:n.name})))}),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).map((n=>n.feedback)).map((e=>e.filter((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))).map((n=>(0,c.jsx)(d.x2,{children:n.match(b)})))))}),(0,c.jsx)(d.He,{children:u.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).map((n=>n.feedback)).map((e=>e.filter((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))).sort(((n,e)=>new Date(n.match(b))-new Date(e.match(b)))).map((n=>(0,c.jsx)(d.x2,{children:n.length>200?n.slice(0,200)+"...":n})))))})]},n._id)))})]}),n&&(0,c.jsx)(o.a,{})]})})}}}]);
//# sourceMappingURL=Teacher Control page.bb47a230.chunk.js.map