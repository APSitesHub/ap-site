{"version":3,"file":"static/js/Speaking Club redirect page.cd576d0f.chunk.js","mappings":"4NAYAA,EAAAA,EAAAA,SAAAA,QAAyB,sCAEzB,MAqFA,EArF2BC,KACzB,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,KAE1CG,EAAMC,IAAWJ,EAAAA,EAAAA,UAAS,CAAC,GAG5BK,GAFWC,EAAAA,EAAAA,MAAcC,SAETC,QAAQ,YAAa,IAAIA,QAAQ,KAAM,IACvDC,EAAOJ,EAAKK,SAAS,QACvBL,EAAKG,QAAQ,OAAQ,WACrBH,EAAKK,SAAS,MACdL,EAAKG,QAAQ,KAAM,WACnBH,EAAKK,SAAS,QACdL,EAAKG,QAAQ,OAAQ,UACrBH,EAAKK,SAAS,MACdL,EAAKG,QAAQ,KAAM,UACnBH,EA8CJ,OA5CAM,EAAAA,EAAAA,kBAAgB,KACUC,WACtB,IACEb,GAAaD,IAA0B,IACvCI,SAAuBN,EAAAA,EAAAA,IAAU,eAAeiB,KAAKJ,IACrD,MAAMK,QAAoBlB,EAAAA,EAAAA,KAAW,iBAAkB,CACrDmB,KAAMC,aAAaC,QAAQ,UAE7BC,QAAQC,IAAIL,EAAYD,KAAKV,MAC7BC,GACED,IACU,CACNiB,IAAKN,EAAYD,KAAKV,KAAKiB,IAC3BC,KAAMP,EAAYD,KAAKV,KAAKkB,KAC5BN,KAAMD,EAAYD,KAAKV,KAAKY,KAC5BO,SAAUR,EAAYD,KAAKV,KAAKmB,SAChCC,IAAKT,EAAYD,KAAKV,KAAKoB,IAC3BC,KAAMV,EAAYD,KAAKV,KAAKqB,KAC5BC,OAAQX,EAAYD,KAAKV,KAAKsB,OAC9BC,MAAOZ,EAAYD,KAAKV,KAAKuB,MAC7BC,UAAWb,EAAYD,KAAKV,KAAKwB,UACjCC,YAAad,EAAYD,KAAKV,KAAKyB,YACnCC,YAAaf,EAAYD,KAAKV,KAAK0B,YACnCC,SAAUhB,EAAYD,KAAKV,KAAK2B,YAOxC,CAJE,MAAOC,GACPb,QAAQC,IAAIY,EACd,CAAC,QACChC,GAAaD,IAA0B,GACzC,GAEFkC,GAEqBpB,WACnBM,QAAQC,IAAI,OAAO,EAErBc,EAAc,GACb,CAACxB,KAEJyB,EAAAA,EAAAA,YAAU,KACRC,SAASC,MAAK,kHAAqC,GAClD,CAACnC,KAGFoC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAACG,EAAAA,GAAa,CAAAD,UACZE,EAAAA,EAAAA,MAACC,EAAAA,GAAwB,CAAAH,SAAA,CACtBzC,IACCuC,EAAAA,EAAAA,KAACM,EAAAA,GAAa,CAAAJ,UACZF,EAAAA,EAAAA,KAACO,EAAAA,EAAM,OAGXP,EAAAA,EAAAA,KAACQ,EAAAA,EAAiB,CAAAN,UAChBE,EAAAA,EAAAA,MAACK,EAAAA,GAAqB,CAAAP,SAAA,CAAC,0CACbF,EAAAA,EAAAA,KAAA,SAAM,gYAKjBpC,GAAgB8C,OAAOC,SAASxC,QAAQP,SAG5C,C","sources":["pages/Speakings/StreamSpeakingClub.jsx"],"sourcesContent":["import axios from 'axios';\nimport { StreamsBackgroundWrapper } from 'components/BackgroundWrapper/BackgroundWrappers';\nimport { Loader } from 'components/SharedLayout/Loaders/Loader';\nimport { LoaderWrapper } from 'components/SharedLayout/Loaders/Loader.styled';\nimport { useEffect, useLayoutEffect, useState } from 'react';\nimport {\n  StreamPlaceHolder,\n  StreamPlaceHolderText,\n  StreamSection,\n} from '../../components/Stream/Stream.styled';\nimport { useLocation } from 'react-router-dom';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n\nconst StreamSpeakingClub = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [redirectLink, setRedirectLink] = useState('');\n  // eslint-disable-next-line\n  const [user, setUser] = useState({});\n  const location = useLocation().pathname;\n\n  const page = location.replace('/streams/', '').replace('sc', '');\n  const link = page.includes('dea1')\n    ? page.replace('dea1', 'deutsch')\n    : page.includes('de')\n    ? page.replace('de', 'deutsch')\n    : page.includes('pla1')\n    ? page.replace('pla1', 'polski')\n    : page.includes('pl')\n    ? page.replace('pl', 'polski')\n    : page;\n\n  useLayoutEffect(() => {\n    const getLinksRequest = async () => {\n      try {\n        setIsLoading(isLoading => (isLoading = true));\n        setRedirectLink((await axios.get('/speakings')).data[link]);\n        const currentUser = await axios.post('/users/refresh', {\n          mail: localStorage.getItem('mail'),\n        });\n        console.log(currentUser.data.user);\n        setUser(\n          user =>\n            (user = {\n              _id: currentUser.data.user._id,\n              name: currentUser.data.user.name,\n              mail: currentUser.data.user.mail,\n              zoomMail: currentUser.data.user.zoomMail,\n              age: currentUser.data.user.age,\n              lang: currentUser.data.user.lang,\n              course: currentUser.data.user.course,\n              crmId: currentUser.data.user.crmId,\n              contactId: currentUser.data.user.contactId,\n              successRate: currentUser.data.user.successRate,\n              temperament: currentUser.data.user.temperament,\n              feedback: currentUser.data.user.feedback,\n            })\n        );\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLinksRequest();\n\n    const sendUserInfo = async () => {\n      console.log('sent');\n    };\n    sendUserInfo();\n  }, [link]);\n\n  useEffect(() => {\n    document.title = `Практичне заняття | AP Education`;\n  }, [redirectLink]);\n\n  return (\n    <>\n      <StreamSection>\n        <StreamsBackgroundWrapper>\n          {isLoading && (\n            <LoaderWrapper>\n              <Loader />\n            </LoaderWrapper>\n          )}\n          <StreamPlaceHolder>\n            <StreamPlaceHolderText>\n              Привіт! <br />\n              Будь ласка, зачекайте, незабаром вас переадресує на практичне\n              заняття в Zoom\n            </StreamPlaceHolderText>\n          </StreamPlaceHolder>\n          {redirectLink && window.location.replace(redirectLink)}\n        </StreamsBackgroundWrapper>\n      </StreamSection>\n    </>\n  );\n};\n\nexport default StreamSpeakingClub;\n"],"names":["axios","StreamSpeakingClub","isLoading","setIsLoading","useState","redirectLink","setRedirectLink","user","setUser","page","useLocation","pathname","replace","link","includes","useLayoutEffect","async","data","currentUser","mail","localStorage","getItem","console","log","_id","name","zoomMail","age","lang","course","crmId","contactId","successRate","temperament","feedback","error","getLinksRequest","sendUserInfo","useEffect","document","title","_jsx","_Fragment","children","StreamSection","_jsxs","StreamsBackgroundWrapper","LoaderWrapper","Loader","StreamPlaceHolder","StreamPlaceHolderText","window","location"],"sourceRoot":""}