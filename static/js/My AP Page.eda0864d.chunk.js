"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[9466],{93874:(n,e,t)=>{t.d(e,{QF:()=>g,_$:()=>p,ll:()=>x,lp:()=>h,zY:()=>u});var a,o,s,i,l,r=t(30168),c=t(96739),d=t(76487);const p=d.ZP.div(a||(a=(0,r.Z)(["\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n"]))),h=d.ZP.div(o||(o=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: calc(100% - 17.5px);\n  height: 64px;\n  z-index: 5;\n\n  background-color: white;\n"]))),u=(0,d.ZP)(c.TR)(s||(s=(0,r.Z)(["\n  display: block;\n  flex-shrink: 0;\n  width: 173px;\n  height: 34px;\n\n  margin: 0 auto;\n"]))),x=d.ZP.div(i||(i=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),g=d.ZP.video(l||(l=(0,r.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  object-fit: cover;\n\n  width: 100%;\n  height: calc(100% - 64px);\n"])))},74801:(n,e,t)=>{t.r(e),t.d(e,{default:()=>he});var a=t(55294),o=t(97723),s=t(3201),i=t(55705),l=t(17102),r=t(72791),c=t(57689),d=t(8007),p=t(93874),h=t(80184);const u=n=>{let{platformLink:e}=n;const[t,a]=(0,r.useState)("https://online.ap.education/school/"),o=(0,c.TH)().search.slice(1);return(0,r.useEffect)((()=>{a(e||o?o||e:"https://online.ap.education/school/")}),[e,o]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(p._$,{children:(0,h.jsx)("iframe",{id:"platform-window",title:"platform-pin",src:t,width:"100%",height:"100%",allow:"microphone *"})})})};var x;function g(){return g=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},g.apply(this,arguments)}function m(n,e){let{title:t,titleId:a,...o}=n;return r.createElement("svg",g({id:"empty",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},o),t?r.createElement("title",{id:a},t):null,x||(x=r.createElement("path",{d:"M11.92 22C17.42 22 21.92 17.5 21.92 12C21.92 6.5 17.42 2 11.92 2C6.42001 2 1.92001 6.5 1.92001 12C1.92001 17.5 6.42001 22 11.92 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const f=r.forwardRef(m);t.p;var j,w;function v(){return v=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},v.apply(this,arguments)}function b(n,e){let{title:t,titleId:a,...o}=n;return r.createElement("svg",v({id:"minus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:e,"aria-labelledby":a},o),t?r.createElement("title",{id:a},t):null,j||(j=r.createElement("path",{d:"M12.42 22C17.92 22 22.42 17.5 22.42 12C22.42 6.5 17.92 2 12.42 2C6.92001 2 2.42001 6.5 2.42001 12C2.42001 17.5 6.92001 22 12.42 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),w||(w=r.createElement("path",{d:"M8.42001 12H16.42",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const y=r.forwardRef(b);t.p;var k,D,I;function Z(){return Z=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Z.apply(this,arguments)}function C(n,e){let{title:t,titleId:a,...o}=n;return r.createElement("svg",Z({id:"plus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:e,"aria-labelledby":a},o),t?r.createElement("title",{id:a},t):null,k||(k=r.createElement("path",{d:"M12.5 22C18 22 22.5 17.5 22.5 12C22.5 6.5 18 2 12.5 2C7 2 2.5 6.5 2.5 12C2.5 17.5 7 22 12.5 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),D||(D=r.createElement("path",{d:"M8.5 12H16.5",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),I||(I=r.createElement("path",{d:"M12.5 16V8",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const L=r.forwardRef(C);t.p;var M,P,S,N,T,O,E,z,U,Y,F,q,A,_,B,R,J,V,H,W,X,$=t(30168),Q=t(76487),G=t(88945),K=t(65411),nn=t(54702);const en=Q.ZP.div(M||(M=(0,$.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: auto;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n"]))),tn=Q.ZP.h3(P||(P=(0,$.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),an=(0,Q.ZP)(nn.Ip)(S||(S=(0,$.Z)([""]))),on=(0,Q.ZP)(nn.CD)(N||(N=(0,$.Z)([""]))),sn=Q.ZP.div(T||(T=(0,$.Z)(["\n  padding: 7px 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  @media screen and (min-width: 360px) {\n    padding: 11px 6px;\n  }\n\n  @media screen and (min-width: 480px) {\n    padding: 18px 10px;\n  }\n"]))),ln=Q.ZP.div(O||(O=(0,$.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 2px;\n  align-items: center;\n\n  padding: 3px 3px;\n  border-radius: 6px;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #fff;\n"]))),rn=Q.ZP.span(E||(E=(0,$.Z)(["\n  color: var(--secondary-color);\n  font-size: 12px;\n\n  min-width: 70px;\n  text-align: center;\n  width: max-content;\n\n  text-transform: capitalize;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),cn=Q.ZP.button(z||(z=(0,$.Z)(["\n  width: 16px;\n  height: 16px;\n\n  position: relative;\n\n  border: none;\n  outline: transparent;\n  background-color: transparent;\n\n  &:not(:disabled),\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n\n  &:not(:disabled):hover svg,\n  &:not(:disabled):focus svg {\n    color: var(--accent-color);\n  }\n"]))),dn=(0,Q.ZP)(G.r)(U||(U=(0,$.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),pn=(0,Q.ZP)(K.r)(Y||(Y=(0,$.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),hn=Q.ZP.ul(F||(F=(0,$.Z)(["\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  margin: -1px;\n  padding: 0 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),un=Q.ZP.li(q||(q=(0,$.Z)(["\n  padding: 10px 0;\n  display: flex;\n  gap: 8px;\n"]))),xn=Q.ZP.span(A||(A=(0,$.Z)([""]))),gn=Q.ZP.span(_||(_=(0,$.Z)([""]))),mn=Q.ZP.span(B||(B=(0,$.Z)(["\n  color: var(--main-color);\n"]))),fn=Q.ZP.div(R||(R=(0,$.Z)(["\n  padding: 10px 8px;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),jn=Q.ZP.div(J||(J=(0,$.Z)(["\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),wn=Q.ZP.div(V||(V=(0,$.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),vn=Q.ZP.div(H||(H=(0,$.Z)(["\n  position: relative;\n"]))),bn=Q.ZP.div(W||(W=(0,$.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateY(-50%);\n\n  @media screen and (min-width: 360px) {\n    gap: 4px;\n  }\n\n  @media screen and (min-width: 480px) {\n    gap: 8px;\n  }\n"]))),yn=Q.ZP.ul(X||(X=(0,$.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),kn=n=>{let{user:e,isMultipleCourses:t}=n;const[a,o]=(0,r.useState)((new Date).getDate()-(new Date).getDay()),[s,i]=(0,r.useState)((new Date).getMonth()+1),[l,c]=(0,r.useState)((new Date).getFullYear()),[d,p]=(0,r.useState)([]),[u,x]=(0,r.useState)([]),[g,m]=(0,r.useState)([]);(0,r.useEffect)((()=>{(()=>{let n=new Date(l,s-1,a+1);const e=n.getDate()-n.getDay(),t=[];n.getDate()!==e?n.setDate(e):n.setDate(e+1);let o=0;for(;n.getDay()<=6&&o<7;)o+=1,n.getDay()>=1&&n.getDay()<=4&&t.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);p((n=>t))})();(()=>{let n=new Date(l,s-1,1);const e=[];for(n.setDate(1);n.getMonth()+1===s;)n.getDay()>=1&&n.getDay()<=4&&e.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);x((n=>e))})();(()=>{let n=new Date;const e=[];for(n.setDate(1),n.setMonth(0);n.getFullYear()===l;)n.getDay()>=1&&n.getDay()<=4&&e.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);m((n=>e))})()}),[a,s,l]);const j=n=>"".concat(n).length>1?n:"0"+n,w=n=>{let t=new Date(l,n-1,1);const a=[];for(t.setDate(1);t.getMonth()+1===n;)t.getDay()>=1&&t.getDay()<=4&&a.push(new Date(t.getFullYear(),t.getMonth(),t.getDate(),3).toISOString()),t.setDate(t.getDate()+1);const o=a.map((n=>"".concat(j(new Date(n).getDate()),".").concat(j(new Date(n).getMonth()+1),".").concat(new Date(n).getFullYear())));return e.visited.filter((e=>+e.split(".")[1]===n&&o.includes(e))).length},v=n=>{const t=(n=>{let e=new Date(n).toISOString();const t=new Date(e).getDate()-new Date(e).getDay(),a=[];e=new Date(e).getDate()!==t?new Date(e).setDate(t):new Date(e).setDate(t+1);let o=0;for(;new Date(e).getDay()<=6&&o<7;)o+=1,new Date(e).getDay()>=1&&new Date(e).getDay()<=4&&a.push(e),e=new Date(new Date(e).setDate(new Date(e).getDate()+1));return a})(new Date(l,s-1,n+1,3).toISOString()).map((n=>"".concat(j(new Date(n).getDate()),".").concat(j(new Date(n).getMonth()+1),".").concat(j(new Date(n).getFullYear()))));return e.visited.filter((n=>t.includes(n))).length},b=()=>{const n=d,e=n.findIndex((n=>new Date(n).getDate()===(new Date).getDate()&&new Date(n).getMonth()===(new Date).getMonth())),t=n.slice(0,e+1).length;return e<0&&v(a)>0?d.length-v(a):0===t||t-v(a)<0?0:t-v(a)},k=()=>{const n=u,e=n.findIndex((n=>new Date(n).getDate()===(new Date).getDate()&&new Date(n).getMonth()===(new Date).getMonth())),t=n.slice(0,e+1).length;return e<0&&w(s)>0?u.length-w(s):0===t||t-w(s)<0?0:t-w(s)};return(0,h.jsxs)(en,{style:{top:t?"184px":"142px"},children:[(0,h.jsxs)(tn,{children:[(0,h.jsx)(on,{}),"\u0412\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u0456\u0441\u0442\u044c"]}),(0,h.jsxs)(sn,{children:[(0,h.jsxs)(ln,{children:[(0,h.jsx)(cn,{disabled:0===v(a-7),onClick:()=>{o(a-7)},children:(0,h.jsx)(dn,{className:0!==v(a-7)&&"available"})}),(0,h.jsx)(rn,{children:(()=>{const n=new Date(l,s-1,a+1),e=new Date(n),t=new Date(e.setDate(e.getDate()+6));return"".concat(j(n.getDate()),".").concat(j(n.getMonth()+1)," - ").concat(j(t.getDate()),".").concat(j(t.getMonth()+1),".").concat(t.getFullYear())})()}),(0,h.jsx)(cn,{disabled:0===v(a+7),onClick:()=>{o(a+7)},children:(0,h.jsx)(pn,{className:0!==v(a+7)&&"available"})})]}),(0,h.jsxs)(hn,{children:[(0,h.jsx)(un,{children:(0,h.jsxs)(jn,{children:[(0,h.jsxs)(wn,{children:[(0,h.jsx)(xn,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,h.jsx)(vn,{children:(0,h.jsx)(bn,{children:(()=>{const n=d.map((n=>"".concat(j(new Date(n).getDate()),".").concat(j(new Date(n).getMonth()+1),".").concat(j(new Date(n).getFullYear())))),t=e.visited.filter((e=>n.includes(e)));return n.map(((n,e)=>t.includes(n)?(0,h.jsx)(L,{},e):!t.includes(n)&&(+n.split(".")[1]<(new Date).getMonth()+1||+n.split(".")[0]<(new Date).getDate())?(0,h.jsx)(y,{},e):(0,h.jsx)(f,{},e)))})()})})]}),(0,h.jsxs)(gn,{children:[(()=>{const n=d.map((n=>"".concat(j(new Date(n).getDate()),".").concat(j(new Date(n).getMonth()+1),".").concat(new Date(n).getFullYear())));return e.visited.filter((e=>n.includes(e))).length})(),"/",(0,h.jsx)(mn,{children:d.length})]})]})}),(0,h.jsxs)(un,{children:[(0,h.jsx)(xn,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,h.jsx)(gn,{style:{color:b()>0&&"#D61D1D"},children:b()})]})]}),(0,h.jsxs)(ln,{children:[(0,h.jsx)(cn,{disabled:0===w(s-1),onClick:()=>{if(s>1){i(s-1);const n=new Date(l,s-2,1),t=e.visited.filter((n=>+n.split(".")[1]===s-1)),a=new Date(l,s-2,+t[0].split(".")[0]);return void o(a>7?a.getDate()-a.getDay():n.getDate()-n.getDay())}i(12),c(l-1);const n=new Date(l,s-2,1),t=e.visited.filter((n=>+n.split(".")[1]===s-1)),a=new Date(l,s-2,+t[0].split(".")[0]);o(a>7?a.getDate()-a.getDay():n.getDate()-n.getDay())},children:(0,h.jsx)(dn,{className:0!==w(s-1)&&"available"})}),(0,h.jsx)(rn,{children:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"][s-1]}),(0,h.jsx)(cn,{disabled:0===w(s+1),onClick:()=>{if(s<12){i(s+1);const n=new Date(l,s,1),t=e.visited.filter((n=>+n.split(".")[1]===s+1)),a=new Date(l,s,+t[0].split(".")[0]);return void o(a>7?a.getDate()-a.getDay():n.getDate()-n.getDay())}i(1),c(l+1);const n=new Date(l,s,1),t=e.visited.filter((n=>+n.split(".")[1]===s+1)),a=new Date(l,s,+t[0].split(".")[0]);o(a>7?a.getDate()-a.getDay():n.getDate()-n.getDay())},children:(0,h.jsx)(pn,{className:0!==w(s+1)&&"available"})})]}),(0,h.jsxs)(hn,{children:[(0,h.jsxs)(un,{children:[(0,h.jsx)(xn,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,h.jsxs)(gn,{children:[w(s),"/",(0,h.jsx)(mn,{children:u.length})]})]}),(0,h.jsxs)(un,{children:[(0,h.jsx)(xn,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,h.jsx)(gn,{style:{color:k()>0&&"#D61D1D"},children:k()})]})]}),(0,h.jsxs)(fn,{children:[(0,h.jsx)(xn,{children:"\u0417\u0430\u0433\u0430\u043b\u043e\u043c \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e \u0443\u0440\u043e\u043a\u0456\u0432 \u0437\u0430 \u0440\u0456\u043a:"}),(0,h.jsxs)(gn,{children:[(()=>{const n=g.map((n=>"".concat(new Date(n).getDate(),".").concat(j(new Date(n).getMonth()+1),".").concat(j(new Date(n).getFullYear()))));return e.visited.filter((e=>n.includes(e))).length})(),"/",(0,h.jsx)(mn,{children:g.length})]}),(0,h.jsx)(yn,{})]})]})]})};var Dn=t(55658),In=t(83134),Zn=t.n(In),Cn=t(92641),Ln=t(87241);const Mn=n=>{let{lessons:e,language:t,user:a,setPlatformIframeLink:o,isMultipleCourses:s}=n;const[i,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[p,u]=(0,r.useState)(""),[x,g]=(0,r.useState)(!1),[m,f]=(0,r.useState)(""),[j,w]=(0,r.useState)([]),[v,b]=(0,r.useState)([]),[y,k]=(0,r.useState)(!1),[D,I]=(0,r.useState)(0),[Z,C]=(0,r.useState)(!0),L=window.location.origin+window.location.pathname,M=n=>{g(!1),f(""),w([]),b([]);const a=n.target.value;l(""!==a?n=>[...e.filter((n=>{const e=n.level+" "+n.lesson.replace("Lesson","").replace("Lekcja","").replace("Unterricht","").trim().trimStart();return(n.keysEn.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.keysUa.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.topic.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.lesson.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.level.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.toLowerCase().includes(a.toLowerCase().trim().trimStart()))&&t===n.lang}))]:n=>[...e.filter((n=>t===n.lang))]),sessionStorage.setItem("searchValue",a)},P=n=>{const e=n.target.value;C(""===e),b(""!==e?n=>[...j.filter((n=>n.question.toLowerCase().includes(e.toLowerCase().trim().trimStart())||n.exercise.toLowerCase().includes(e.toLowerCase().trim().trimStart())))]:n=>[...j])},S=n=>{n.currentTarget.classList.toggle("tooltip-open")},N=()=>{console.log("mouse out?"),u((n=>"")),c&&d((n=>!n))},T=n=>y&&n!==D?I(n):y||n!==D?y&&n===D?k((n=>!n)):(n=>{I(n),k((n=>!n))})(n):k((n=>!n));return(0,h.jsxs)(Ln.yO,{className:0===i.length&&"nothing-found",style:{top:s?"184px":"142px"},children:[(0,h.jsxs)(Ln.GJ,{children:[(0,h.jsx)(Ln.qZ,{}),(0,h.jsx)(Ln.OO,{value:sessionStorage.getItem("searchValue")?sessionStorage.getItem("searchValue"):"",autoFocus:sessionStorage.getItem("searchValue")&&!0,onFocus:sessionStorage.getItem("searchValue")&&M,onChange:M,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0430\u0431\u043e \u0442\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443"})]}),0!==i.length&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Ln.JS,{children:(0,h.jsx)(Ln.Vz,{children:i.slice(0,5).map((n=>(0,h.jsxs)(Ln.$J,{children:[(0,h.jsxs)(Ln.Pq,{children:[(0,h.jsx)(Ln.W7,{children:n.level+n.lesson.replace("Lesson"," -").replace("Lekcja"," -").replace("Unterricht"," -")}),(0,h.jsxs)(Ln.Nk,{children:[(0,h.jsxs)(Ln.sF,{children:[n.level," ",n.lesson]}),(0,h.jsxs)(Ln.zs,{children:[(0,h.jsx)(Ln.P3,{onMouseEnter:n=>S(n),onMouseOut:n=>S(n),onClick:()=>{o("https://online.ap.education/MarathonClass/?marathonId=".concat(n.marathonId,"&pupilId=").concat(a.pupilId,"&marathonLessonId=").concat(n.lessonId))},children:(0,h.jsx)(Ln.BI,{})}),(0,h.jsx)(Ln.u,{onMouseEnter:n=>S(n),onMouseOut:n=>S(n),onClick:()=>{window.open("".concat(L,"?https://online.ap.education/MarathonClass/?marathonId=").concat(n.marathonId,"&pupilId=").concat(a.pupilId,"&marathonLessonId=").concat(n.lessonId),"_blank")},children:(0,h.jsx)(Ln.h0,{})})]}),(0,h.jsx)(Ln.RM,{children:n.topic})]})]}),n.video[0]&&(0,h.jsx)(Ln.gZ,{children:(0,h.jsx)(Zn(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:n.video[0]})}),n.pdf.length>0&&(0,h.jsx)(Ln.Dv,{onMouseLeave:N,children:n.pdf.map(((n,e)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Ln.Ag,{id:n,onMouseEnter:n=>(n=>{u((e=>n.target.id)),c||d((n=>!n))})(n),onTouchEnd:()=>{return u(e=n),void(c&&e!==p?u((n=>e)):c||e!==p?c&&e===p?d((n=>!n)):(n=>{console.log("opener"),u((e=>n)),d((n=>!n))})(e):d((n=>!n)));var e},children:[(0,h.jsx)(Cn.r,{}),(0,h.jsxs)(Ln.CH,{target:"_blank",rel:"noopener noreferrer",to:(0,Dn.ZP)(n),children:["\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430 ",e+1,(0,h.jsx)(Ln.h0,{})]},e)]},n),(0,h.jsx)(Ln.Ym,{className:c&&p===n&&"preview-open",children:c&&p===n&&(0,h.jsx)(Ln.Xq,{title:"Preview of ".concat(n),src:n.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})))}),n.faq.length>0&&(0,h.jsxs)(Ln.Nn,{children:[(0,h.jsxs)(Ln.uT,{onClick:()=>(n=>{g((n=>!n)),w((e=>[...n.faq])),b((e=>[...n.faq])),f((e=>n._id))})(n),children:[(0,h.jsxs)(Ln.OX,{children:[(0,h.jsx)(Ln.U$,{children:(0,h.jsx)(Ln.m9,{children:"?"})}),"FAQ"," "]}),x?(0,h.jsx)(Ln.YY,{}):(0,h.jsx)(Ln.Ok,{})]}),(0,h.jsxs)(Ln.on,{className:x&&m===n._id&&"faqlistopen",children:[(0,h.jsx)(Ln.iL,{onChange:P,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0432\u043f\u0440\u0430\u0432\u0438 \u0430\u0431\u043e \u0432\u0430\u0448\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:!Z&&"not-empty"}),(0,h.jsx)(Ln.UA,{})]}),(0,h.jsx)(Ln.Ar,{className:x&&m===n._id&&"faqlistopen",children:v.map(((n,e)=>(0,h.jsxs)(Ln.E2,{children:[(0,h.jsx)(Ln.VH,{onClick:()=>T(e),children:n.exercise}),(0,h.jsx)(Ln.HL,{className:y&&D===e&&"preview-open",children:n.question}),(0,h.jsx)(Ln.Xu,{className:y&&D===e&&"preview-open",children:y&&D===e&&(0,h.jsx)(Ln.gZ,{children:(0,h.jsx)(Zn(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:n.answer})})})]},e)))})]})]},n._id)))})}),(0,h.jsx)(Ln.i9,{})]})]})};var Pn=t(25984);const Sn=t.p+"static/media/eyes.ab4bffffebc999f327b2.png";var Nn=t(82846);const Tn=n=>{let{user:e,flatPoints:t,flatMonthlyPoints:a,isMultipleCourses:o}=n;const[s,i]=(0,r.useState)("0%"),[l,c]=(0,r.useState)(0),d=l>0?a.filter((n=>"".concat(n.course)===e.course)).sort(((n,e)=>e.points-n.points)):t.filter((n=>"".concat(n.course)[0]===e.course[0])).sort(((n,e)=>e.points-n.points)),p=d.findIndex((n=>n.mail.toLowerCase()===e.mail.toLowerCase())),u=n=>{i((e=>"".concat(100*n,"%"))),c(n)};return(0,h.jsxs)(Nn.dn,{style:{top:o?"184px":"142px"},children:[(0,h.jsxs)(Nn.JI,{children:[(0,h.jsx)(Nn.TB,{}),"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"]}),-1===p?(0,h.jsxs)(Nn.fc,{children:[(0,h.jsx)(Nn.ij,{src:Sn,alt:"Eyes emoji",width:"80"}),(0,h.jsx)(Nn.qY,{children:"\u0428\u0443\u043a\u0430\u0454\u043c\u043e \u0432\u0430\u0441 \u0443 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443."}),(0,h.jsxs)(Nn.qY,{children:["\u0412\u0438\u043a\u043e\u043d\u0430\u0439\u0442\u0435 \u0449\u0435 \u043a\u0456\u043b\u044c\u043a\u0430 \u0432\u043f\u0440\u0430\u0432, ",(0,h.jsx)("br",{})," \u0449\u043e\u0431 \u0431\u0443\u0442\u0438 \u0432 \u0442\u043e\u043f\u0456! \ud83e\udd29"]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Nn.bX,{children:[(0,h.jsx)(Nn.Tu,{style:{transform:"translateX(".concat(s,")")}}),(0,h.jsx)(Nn.SA,{onClick:()=>{u(0)},className:0===l&&"active",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,h.jsx)(Nn.SA,{onClick:()=>{u(1)},className:1===l&&"active",children:"\u041c\u0456\u0441\u044f\u0447\u043d\u0438\u0439"})]}),(0,h.jsxs)(Nn.Iq,{children:[(0,h.jsx)(Nn.bY,{children:"\u041c\u0456\u0441\u0446\u0435"}),(0,h.jsx)(Nn.Js,{children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c\u2019\u044f"}),(0,h.jsx)(Nn.bY,{children:"\u0411\u0430\u043b\u0438"})]}),(0,h.jsxs)(Nn.Q4,{children:[(0,h.jsx)(Nn.ip,{children:d.findIndex((n=>n.mail.toLowerCase()===e.mail.toLowerCase()))+1}),(0,h.jsx)(Nn.wu,{children:e.name}),(0,h.jsx)(Nn.ip,{children:d[p].points<0?0:d[p].points})]}),(0,h.jsx)(Nn.ag,{children:d.slice(0,10).map(((n,e)=>(0,h.jsxs)(Nn.HJ,{children:[e<=2?(0,h.jsx)(Nn.OV,{children:e+1}):(0,h.jsx)(Nn.C,{children:e+1}),(0,h.jsx)(Nn.wu,{children:n.name}),(0,h.jsx)(Nn.ip,{children:n.points})]},(0,Pn.x0)(8))))})]})]})};var On,En,zn,Un,Yn,Fn,qn,An,_n,Bn,Rn,Jn,Vn,Hn,Wn,Xn,$n;const Qn=Q.ZP.div(On||(On=(0,$.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: auto;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: auto;\n    overflow-y: hidden;\n  }\n"]))),Gn=Q.ZP.h3(En||(En=(0,$.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Kn=((0,Q.ZP)(nn.Ip)(zn||(zn=(0,$.Z)([""]))),Q.ZP.div(Un||(Un=(0,$.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  gap: 21px;\n\n  font-size: 14px;\n  line-height: 1.2;\n  color: #525266;\n"])))),ne=Q.ZP.div(Yn||(Yn=(0,$.Z)(["\n  position: relative;\n\n  @media screen and (max-width: 389px) {\n    padding-top: 5px;\n    padding-bottom: 20px;\n  }\n"]))),ee=(Q.ZP.ul(Fn||(Fn=(0,$.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Q.ZP.li(qn||(qn=(0,$.Z)(["\n  color: #bebecc;\n"]))),Q.ZP.span(An||(An=(0,$.Z)(["\n  display: block;\n  font-size: 12px;\n"]))),Q.ZP.div(_n||(_n=(0,$.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 6px;\n\n  border-bottom: 1px solid var(--accent-color);\n"])))),te=Q.ZP.div(Bn||(Bn=(0,$.Z)(["\n  @media screen and (max-width: 389px) {\n    padding-bottom: 5px;\n  }\n"]))),ae=Q.ZP.span(Rn||(Rn=(0,$.Z)(["\n  display: block;\n"]))),oe=Q.ZP.a(Jn||(Jn=(0,$.Z)(["\n  display: block;\n  padding: 5px 0;\n  height: 36px;\n\n  position: relative;\n\n  text-align: center;\n  text-decoration: none;\n  width: 110px;\n  color: #fff;\n  font-weight: 500;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #09c6cc;\n\n  border-radius: 5px;\n  overflow: hidden;\n\n  transition: all var(--animation-global);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n\n    transition: opacity var(--animation-global);\n\n    background: linear-gradient(322deg, #09c6cc 23.22%, #0f645b 110.01%),\n      #09c6cc;\n  }\n\n  &:hover,\n  &:focus {\n    &::before {\n      opacity: 1;\n    }\n  }\n"]))),se=Q.ZP.span(Vn||(Vn=(0,$.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n\n  transform: translate(-50%, -50%);\n"]))),ie=Q.ZP.table(Hn||(Hn=(0,$.Z)(["\n  width: 100%;\n  max-width: 331px;\n  table-layout: auto;\n  border-collapse: collapse;\n  text-align: center;\n"]))),le=Q.ZP.th(Wn||(Wn=(0,$.Z)(["\n  color: #bebecc;\n  font-size: 12px;\n  font-weight: 400;\n  padding: 6px 0;\n\n  &.day {\n    width: 37px;\n  }\n  &.time {\n    width: 105px;\n  }\n  &.lessonNumber {\n    width: 66px;\n  }\n  &.teacher {\n  }\n"]))),re=Q.ZP.tr(Xn||(Xn=(0,$.Z)(["\n  height: 36px;\n  /* clip-path: xywh(0 0 100% 100% round 7px); */\n"]))),ce=Q.ZP.td($n||($n=(0,$.Z)(["\n  border: none;\n"]))),de=n=>{let{user:e,language:t,timetable:a,isMultipleCourses:o}=n;const s=(0,r.useRef)(void 0===e.package?"pro":e.package),i=a.find((n=>"enkids"===t&&e.knowledge.includes("beginner")?n.lang===t&&n.course===e.course&&n.level===e.knowledge:n.lang===t&&n.course===e.course)),l=(()=>{const n="https://academy.ap.education/streams/",a="https://academy.ap.education/streams-kids/";return console.log(e.lang),console.log(t),console.log(void 0===e.adult||e.adult),console.log(e.knowledge),console.log(void 0===e.package?"student":e.package),console.log(s.current),"en"===t?n+(null===i||void 0===i?void 0:i.level):"enkids"===t?a+(null===i||void 0===i?void 0:i.level):"de"===t&&"a1"!==(null===i||void 0===i?void 0:i.level)?n+"deutsch"+(null===i||void 0===i?void 0:i.level):"de"===t&&"a1"===(null===i||void 0===i?void 0:i.level)?n+"deutsch":"dekids"===t?a+"de"+(null===i||void 0===i?void 0:i.level):"pl"===t&&"a1"!==(null===i||void 0===i?void 0:i.level)?n+"polski"+(null===i||void 0===i?void 0:i.level):"pl"===t&&"a1"===(null===i||void 0===i?void 0:i.level)?n+"polski":"plkids"===t?a+"pl"+(null===i||void 0===i?void 0:i.level):n})(),c=(()=>{const n="https://n1313568.alteg.io";return"en"===t?n:"enkids"===t?"https://n1313571.alteg.io/":"de"===t?"https://n1313569.alteg.io":"dekids"===t?"https://n1313572.alteg.io/":"pl"===t?"https://n1313570.alteg.io":"plkids"===t?"https://n1313573.alteg.io/":n})();console.log(c);const d=(()=>{const n="https://academy.ap.education/streams/";return"en"===t?n+(null===i||void 0===i?void 0:i.level)+"sc":"enkids"===t?"https://academy.ap.education/streams-kids/"+(null===i||void 0===i?void 0:i.level)+"sc":n+t+(null===i||void 0===i?void 0:i.level)+"sc"})(),p=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u041d\u0434"];return(0,h.jsxs)(Qn,{style:{top:o?"184px":"142px"},children:[(0,h.jsxs)(Gn,{children:[(0,h.jsx)(an,{}),"\u0413\u0440\u0430\u0444\u0456\u043a \u0437\u0430\u043d\u044f\u0442\u044c"]}),i?(0,h.jsxs)(Kn,{children:[(0,h.jsxs)(ne,{children:[(0,h.jsxs)(ee,{children:[(0,h.jsx)(ae,{children:"\u0422\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u043d\u0456 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,h.jsx)(oe,{href:l,target:"_blank",children:(0,h.jsx)(se,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}),(0,h.jsxs)(ie,{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)(le,{className:"day",children:"\u0414\u0435\u043d\u044c"}),(0,h.jsx)(le,{className:"time",children:"\u0427\u0430\u0441"}),(0,h.jsx)(le,{className:"lessonNumber",children:"\u2116 \u0443\u0440\u043e\u043a\u0443"}),(0,h.jsx)(le,{className:"teacher",children:"\u0412\u0438\u043a\u043b\u0430\u0434\u0430\u0447"})]})}),(0,h.jsx)("tbody",{children:i.schedule.filter((n=>"webinar"===n.type||"webinar, repeat"===n.type)).sort(((n,e)=>n.day-e.day)).map(((n,e)=>(0,h.jsxs)(re,{style:n.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,h.jsx)(ce,{className:"day",children:p[n.day-1]}),(0,h.jsx)(ce,{className:"time",children:n.time}),(0,h.jsx)(ce,{className:"lessonNumber",children:n.lessonNumber}),(0,h.jsx)(ce,{className:"teacher",children:n.teacher})]},e)))})]})]})," ",(0,h.jsxs)(te,{children:[(0,h.jsxs)(ee,{children:[(0,h.jsx)(ae,{children:"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u0456 \u0437\u0430\u043d\u044f\u0442\u0442\u044f"}),(0,h.jsx)(oe,{href:d,target:"_blank",children:(0,h.jsx)(se,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}),(0,h.jsxs)(ie,{children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)(le,{className:"day",children:"\u0414\u0435\u043d\u044c"}),(0,h.jsx)(le,{className:"time",children:"\u0427\u0430\u0441"}),(0,h.jsx)(le,{className:"lessonNumber",children:"\u2116 \u0443\u0440\u043e\u043a\u0443"}),(0,h.jsx)(le,{className:"teacher",children:"\u0412\u0438\u043a\u043b\u0430\u0434\u0430\u0447"})]})}),(0,h.jsx)("tbody",{children:i.schedule.filter((n=>"speaking"===n.type)).sort(((n,e)=>n.day-e.day)).map(((n,e)=>(0,h.jsxs)(re,{style:n.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,h.jsx)(ce,{className:"day",children:p[n.day-1]}),(0,h.jsx)(ce,{className:"time",children:n.time}),(0,h.jsx)(ce,{className:"lessonNumber",children:n.lessonNumber}),(0,h.jsx)(ce,{className:"teacher",children:n.teacher})]},e)))})]})]})]}):(0,h.jsxs)(Nn.fc,{children:[(0,h.jsx)(Nn.ij,{src:Sn,alt:"Eyes emoji",width:"80"}),(0,h.jsx)(Nn.qY,{children:"\u0417\u0434\u0430\u0454\u0442\u044c\u0441\u044f, \u0443 \u0432\u0430\u0441 \u0449\u0435 \u043d\u0435\u043c\u0430\u0454 \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443!"}),(0,h.jsx)(Nn.qY,{children:"\u0410\u043b\u0435 \u0432\u0456\u043d \u0437'\u044f\u0432\u0438\u0442\u044c\u0441\u044f, \u043a\u043e\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0440\u043e\u0437\u043f\u043e\u0447\u043d\u0443\u0442\u044c\u0441\u044f \u0437\u0430\u043d\u044f\u0442\u0442\u044f!"})]})]})},pe=n=>{let{lessons:e,link:t,user:a,language:o,points:s,timetable:i,marathonLink:l,montlyPoints:c,isMultipleCourses:d,setPlatformIframeLink:p,languageIndex:u,setLanguage:x,setLanguageIndex:g}=n;const[m,f]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[y,k]=(0,r.useState)(!1),[D,I]=(0,r.useState)(!1),[Z,C]=(0,r.useState)(!0),L=Object.keys(s).filter((n=>n.includes(o)&&n.length===(o+a.knowledge).length)).reduce(((n,e)=>(n[e]=s[e],n)),{}),M=Object.keys(c).filter((n=>n.includes(o)&&n.length===(o+a.knowledge).length)).reduce(((n,e)=>(n[e]=c[e],n)),{}),P=Object.values(L).flatMap((n=>n)),S=Object.values(M).flatMap((n=>n)),N=()=>{f(!1),w(!1),b(!1),k(!1),I(!1)},T=n=>{n.currentTarget.classList.toggle("tooltip-open")};return(0,r.useEffect)((()=>{const n=n=>{"Escape"===n.code&&m&&N()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}})),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(nn.Dj,{onClick:N,className:m?"":"hidden"}),(0,h.jsx)(nn.YI,{id:"no-transform",onClick:()=>{N(),C((n=>!n))},children:Z?(0,h.jsx)(nn.$E,{}):(0,h.jsx)(nn.yu,{})}),(0,h.jsxs)(nn.Wo,{className:Z?"":"hidden",style:{top:d?"184px":"142px"},children:[(0,h.jsxs)(nn.P3,{className:d?"multiple":"",children:[(0,h.jsx)(nn.aT,{id:"reset-btn",className:d?"multiple":"",onMouseEnter:n=>T(n),onMouseOut:n=>T(n),onClick:()=>{console.log(t),p(t+" ")},children:(0,h.jsx)(nn.gZ,{})}),d&&(0,h.jsx)(nn.AJ,{id:"toggle-btn",onMouseEnter:n=>T(n),onMouseOut:n=>T(n),onClick:()=>{console.log(t),x((n=>u+1<a.lang.split("/").length?a.lang.split("/")[u+1]:a.lang.split("/")[0])),g((n=>n+1<a.lang.split("/").length?n+1:0))},children:(0,h.jsx)(nn.of,{})})]}),(0,h.jsx)(nn.Uu,{onClick:()=>{!m&&(!v||!y||!D)&&f((n=>!0)),m&&!v&&!y&&!D&&f((n=>!1)),b(!1),k(!1),I(!1),w((n=>!n))},onMouseEnter:n=>T(n),onMouseOut:n=>T(n),children:(0,h.jsx)(nn.Hk,{id:"search-btn",className:j&&"active"})}),"online"!==a.package&&(0,h.jsx)(nn.Uu,{onClick:()=>{!m&&(!j||!y||!D)&&f((n=>!0)),m&&!j&&!y&&!D&&f((n=>!1)),w(!1),k(!1),I(!1),b((n=>!n))},onMouseEnter:n=>T(n),onMouseOut:n=>T(n),children:(0,h.jsx)(nn.zr,{id:"rating-btn",className:v&&"active"})}),"online"!==a.package&&"Dev Acc"===a.name&&(0,h.jsx)(nn.Uu,{onClick:()=>{!m&&(!v||!j||!D)&&f((n=>!0)),m&&!v&&!j&&!D&&f((n=>!1)),w(!1),b(!1),I(!1),k((n=>!n))},onMouseEnter:n=>T(n),onMouseOut:n=>T(n),children:(0,h.jsx)(nn.CD,{id:"calendar-btn",className:y&&"active"})}),"online"!==a.package&&(0,h.jsx)(nn.Uu,{onClick:()=>{!m&&(!v||!j||!y)&&f((n=>!0)),m&&!v&&!j&&!y&&f((n=>!1)),w(!1),b(!1),k(!1),I((n=>!n))},onMouseEnter:n=>T(n),onMouseOut:n=>T(n),children:(0,h.jsx)(nn.Ip,{className:D&&"active",id:"timetable-btn"})})]}),j&&(0,h.jsx)(Mn,{lessons:e,user:a,language:o,setPlatformIframeLink:p,isMultipleCourses:d}),v&&(0,h.jsx)(Tn,{user:a,flatPoints:P,flatMonthlyPoints:S,isMultipleCourses:d}),y&&(0,h.jsx)(kn,{user:a,isMultipleCourses:d}),D&&(0,h.jsx)(de,{user:a,language:o,timetable:i,isMultipleCourses:d})]})},he=()=>{const[n,e]=(0,r.useState)(!1),[t,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)({}),[m,f]=(0,r.useState)({}),[j,w]=(0,r.useState)({}),[v,b]=(0,r.useState)({}),[y,k]=(0,r.useState)(0),[D,I]=(0,r.useState)(""),[Z,C]=(0,r.useState)("https://online.ap.education/"),[L,M]=(0,r.useState)("https://online.ap.education/"),[P,S]=(0,r.useState)(!1);a.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const N=(0,c.TH)(),[T,O]=(0,r.useState)("true"===localStorage.getItem("ischatboxshown"));(0,r.useEffect)((()=>{document.title="My AP | AP Education";const n=document.querySelector(".amo-button-holder");n&&!T?(n.style.transform="translate(400px)",n.style.transition="ease 250ms"):n&&T&&(n.style.transform="");(async()=>{console.log("token refresher");try{const n=await a.Z.post("/users/refresh",{mail:localStorage.getItem("mail")});e((n=>!0)),console.log(73,n.data.user.platformToken),b((e=>({...n.data.user})));const t=n.data.user.lang.split("/");t.length>1&&!D?(S(!0),I(t[y])):t.length<=1&&I(n.data.user.lang)}catch(n){console.log(n)}})();(async()=>{console.log("lessons getter");try{const n=await a.Z.get("/lessons");console.log(n),p((e=>[...n.data]))}catch(n){console.log(n)}})();(async()=>{console.log("ratings getter");try{const n=await a.Z.get("/ratings");g((e=>({...n.data[0].rating}))),w((e=>({...n.data[1].rating})))}catch(n){console.log(n)}})();(async()=>{console.log("timetable getter");try{const n=await a.Z.get("/timetable");console.log(n),f((e=>n.data))}catch(n){console.log(n)}})();(async()=>{const n={en1:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=37835&pupilId=".concat(v.pupilId,"&marathonLessonId=621674"))):"https://online.ap.education/MarathonClass/?marathonId=37835&pupilId=".concat(v.pupilId,"&marathonLessonId=621674"),en2:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=847031"))):"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=847031"),pl:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=629354"))):"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=629354"),de:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=629357"))):"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=629357"),enkids1:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=40552&pupilId=".concat(v.pupilId,"&marathonLessonId=621673"))):"https://online.ap.education/MarathonClass/?marathonId=40552&pupilId=".concat(v.pupilId,"&marathonLessonId=621673"),enkids2:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=847034"))):"https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=847034"),dekids:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=65423&pupilId=".concat(v.pupilId,"&marathonLessonId=968639"))):"https://online.ap.education/MarathonClass/?marathonId=65423&pupilId=".concat(v.pupilId,"&marathonLessonId=968639"),plkids:v.platformToken?"https://online.ap.education/Account/LoginByToken?token=".concat(v.platformToken,"&redirectUrl=").concat(encodeURIComponent("https://online.ap.education/MarathonClass/?marathonId=64039&pupilId=".concat(v.pupilId,"&marathonLessonId=952360"))):"https://online.ap.education/MarathonClass/?marathonId=64039&pupilId=".concat(v.pupilId,"&marathonLessonId=952360")},e="en"===D&&"1"===v.marathonNumber?"en1":"en"===D&&"2"===v.marathonNumber?"en2":"en"!==D||v.marathonNumber?"pl"===D?"pl":"de"===D?"de":"plkids"===D?"plkids":"dekids"===D?"dekids":"enkids"===D&&"1"===v.marathonNumber?"enkids1":"enkids"===D&&"2"===v.marathonNumber?"enkids2":"enkids"!==D||v.marathonNumber?"":"enkids2":"en2";console.log(n[e]);const t={kids:"https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=854264"),ena1:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854277"),ena2:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854278"),pl:"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=853147"),de:"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=854256")};C((t=>n[e])),M((n=>t[e]))})()}),[D,y,T,v.pupilId,v.marathonNumber,v.platformToken]);const E=d.Ry().shape({mail:d.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u0443, \u0437\u0430 \u044f\u043a\u043e\u044e \u0432\u0438 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456 \u043d\u0430 \u043d\u0430\u0448\u0456\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456!"),password:d.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043d\u0430\u0448\u0443 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443!")});return(0,h.jsx)(s.QU,{children:n?(0,h.jsxs)(h.Fragment,{children:[Object.values(x).length>0&&(0,h.jsx)(pe,{lessons:t,user:v,points:x,montlyPoints:j,link:Z,marathonLink:L,isMultipleCourses:P,setPlatformIframeLink:n=>{N.search="",C((e=>n))},language:D,setLanguage:I,languageIndex:y,setLanguageIndex:k,timetable:m}),(0,h.jsx)(u,{platformLink:Z}),(0,h.jsx)(nn.jB,{id:"no-transform",onClick:()=>{O((n=>!n)),localStorage.setItem("ischatboxshown",!T)},children:T?(0,h.jsx)(nn.$E,{}):(0,h.jsx)(nn.yu,{})})]}):(0,h.jsx)(i.J9,{initialValues:{mail:"",password:""},onSubmit:async(n,t)=>{let{resetForm:o}=t;n.mail=n.mail.toLowerCase().trim().trimStart(),n.password=n.password.trim().trimStart();try{const t=await a.Z.post("/users/login",n);console.log(t),s=t.data.token,a.Z.defaults.headers.common.Authorization="Bearer ".concat(s),e((n=>!0)),b((n=>({...t.data.user})));const i=t.data.user.lang.split("/");i.length>1&&(I(i[0]),S(!0)),localStorage.setItem("mail",n.mail),o()}catch(i){console.error(i)}var s},validationSchema:E,children:(0,h.jsxs)(l.U0,{children:[(0,h.jsx)(o.hQ,{}),(0,h.jsx)(o.T$,{}),(0,h.jsxs)(s.YA,{children:["\u041f\u0440\u0438\u0432\u0456\u0442!",(0,h.jsx)("br",{}),"\u0426\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0410\u043b\u0435 \u044f\u043a\u0449\u043e \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438, \u0442\u043e \u0439 \u0434\u043e \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0442\u0435\u0436. \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443."]}),(0,h.jsxs)(o.__,{children:[(0,h.jsx)(l.vD,{type:"text",name:"mail",placeholder:"Login"}),(0,h.jsx)(l.aC,{component:"p",name:"mail",type:"email"})]}),(0,h.jsxs)(o.__,{children:[(0,h.jsx)(l.vD,{type:"password",name:"password",placeholder:"Password"}),(0,h.jsx)(l.aC,{component:"p",name:"password"})]}),(0,h.jsx)(l.Gh,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})})})}},82846:(n,e,t)=>{t.d(e,{C:()=>F,HJ:()=>U,Iq:()=>P,JI:()=>Z,Js:()=>N,OV:()=>Y,Q4:()=>T,SA:()=>L,TB:()=>q,Tu:()=>M,ag:()=>z,bX:()=>C,bY:()=>S,dn:()=>I,fc:()=>A,ij:()=>B,ip:()=>O,qY:()=>_,wu:()=>E});var a,o,s,i,l,r,c,d,p,h,u,x,g,m,f,j,w,v,b,y=t(30168),k=t(76487),D=t(54702);const I=k.ZP.div(a||(a=(0,y.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: 440px;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: 450px;\n  }\n\n  @media screen and (min-height: 960px) {\n    height: 556px;\n    overflow-y: hidden;\n  }\n"]))),Z=k.ZP.h3(o||(o=(0,y.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),C=k.ZP.div(s||(s=(0,y.Z)(["\n  padding: 5px 0;\n\n  position: relative;\n\n  font-size: 14px;\n\n  display: flex;\n\n  margin-bottom: 6px;\n\n  &::after {\n    content: '';\n    height: 2px;\n    width: 100%;\n    border-radius: 2px;\n    background-color: #eeeef0;\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n"]))),L=k.ZP.p(i||(i=(0,y.Z)(["\n  font-size: 14px;\n  text-align: center;\n  width: 50%;\n  color: #bebecc;\n\n  transition: color var(--animation-global);\n\n  cursor: pointer;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: #525266;\n  }\n"]))),M=k.ZP.div(l||(l=(0,y.Z)(["\n  height: 2px;\n  width: 50%;\n  border-radius: 2px;\n  background-color: var(--main-color);\n\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  transition: transform 250ms var(--animation-global);\n"]))),P=k.ZP.div(r||(r=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 6px 5px 6px 0;\n"]))),S=k.ZP.p(c||(c=(0,y.Z)(["\n  font-size: 12px;\n  color: #bebecc;\n"]))),N=(0,k.ZP)(S)(d||(d=(0,y.Z)(["\n  width: 100%;\n"]))),T=(0,k.ZP)(P)(p||(p=(0,y.Z)(["\n  height: 36px;\n  border-radius: 7px;\n  flex-shrink: 0;\n  background-color: var(--accent-color);\n\n  margin-bottom: 4px;\n"]))),O=(0,k.ZP)(S)(h||(h=(0,y.Z)(["\n  flex-shrink: 0;\n\n  width: 33px;\n  font-size: 14px;\n  text-align: center;\n  color: #525266;\n"]))),E=(0,k.ZP)(O)(u||(u=(0,y.Z)(["\n  width: 100%;\n  flex-shrink: 1;\n  text-align: left;\n"]))),z=k.ZP.ul(x||(x=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),U=k.ZP.li(g||(g=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 1.5px 5px 1.5px 0;\n"]))),Y=k.ZP.div(m||(m=(0,y.Z)(["\n  display: flex;\n  height: 33px;\n  width: 33px;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  text-align: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--secondary-color);\n  border-radius: 5px;\n  background: linear-gradient(322deg, #0f645b -5.61%, #09c6cc 93.88%);\n"]))),F=(0,k.ZP)(Y)(f||(f=(0,y.Z)(["\n  color: #525266;\n  background: transparent;\n"]))),q=(0,k.ZP)(D.zr)(j||(j=(0,y.Z)([""]))),A=k.ZP.div(w||(w=(0,y.Z)(["\n  display: flex;\n  padding: 20px 0;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),_=k.ZP.p(v||(v=(0,y.Z)(["\n  font-size: 20px;\n  color: #525266;\n  text-align: center;\n\n  &:not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]))),B=k.ZP.img(b||(b=(0,y.Z)(["\n  display: block;\n  pointer-events: none;\n  margin-bottom: 20px;\n"])))}}]);
//# sourceMappingURL=My AP Page.eda0864d.chunk.js.map