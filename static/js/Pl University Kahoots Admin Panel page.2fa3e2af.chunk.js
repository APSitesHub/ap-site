"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[7199],{63100:(s,e,i)=>{i.r(e),i.d(e,{default:()=>k});var n=i(55294),o=i(97723),t=i(8313),a=i(55705),c=i(72791),l=i(8007),r=i(21212),d=i(33682),p=i(41094),u=i(30639),g=i(88224),h=i(7180),j=i(27235),m=i(66347),x=i(82606),_=i(80184);n.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const w=s=>{n.Z.defaults.headers.common.Authorization="Bearer ".concat(s)},k=()=>{const[s,e]=(0,c.useState)(!1),[i,k]=(0,c.useState)(!1),[S,P]=(0,c.useState)([]),f="/unikahoots";(0,c.useEffect)((()=>{document.title="Pl University Kahoot Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const s=await n.Z.post("admins/refresh/kahoot/",{});console.log(s),k((s=>!0)),w(s.data.newToken)}}catch(s){console.log(s)}})()}),[i]);const C=l.Ry().shape({login:l.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:l.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),y=s=>{S.includes(s)?P((e=>[...e].filter((e=>e!==s)))):P((e=>[...e,s]))};return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)(p.Kq,{children:[!i&&(0,_.jsx)(a.J9,{initialValues:{login:"",password:""},onSubmit:async(s,i)=>{let{resetForm:o}=i;e((s=>!0));try{const i=await n.Z.post("/admins/login/kahoot",s);w(i.data.token),k((s=>!0)),localStorage.setItem("isAdmin",!0),o()}catch(t){console.error(t)}finally{e((s=>!1))}},validationSchema:C,children:(0,_.jsxs)(p.U0,{children:[(0,_.jsxs)(o.__,{children:[(0,_.jsx)(p.vD,{type:"text",name:"login",placeholder:"Login"}),(0,_.jsx)(p.aC,{component:"p",name:"login"})]}),(0,_.jsxs)(o.__,{children:[(0,_.jsx)(p.vD,{type:"password",name:"password",placeholder:"Password"}),(0,_.jsx)(p.aC,{component:"p",name:"password"})]}),(0,_.jsx)(p.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),i&&(0,_.jsxs)(p.XP,{children:[(0,_.jsx)(p.Os,{onClick:()=>y("pedagogium_logistics"),children:"Pedagogium Logistics"}),(0,_.jsx)(p.Os,{onClick:()=>y("pedagogium_prep"),children:"Pedagogium Prep"}),(0,_.jsx)(p.Os,{onClick:()=>y("wstijo_logistics"),children:"WSTIJO Logistics"}),(0,_.jsx)(p.Os,{onClick:()=>y("wstijo_prep"),children:"WSTIJO Prep"}),(0,_.jsx)(p.Os,{onClick:()=>y("wsbmir_logistics"),children:"WSBMIR Logistics"}),(0,_.jsx)(p.Os,{onClick:()=>y("wsbmir_prep"),children:"WSBMIR Prep"}),(0,_.jsx)(p.Os,{onClick:()=>y("ewspa_logistics"),children:"EWSPA Logistics"}),(0,_.jsx)(p.Os,{onClick:()=>y("ewspa_prep"),children:"EWSPA Prep"})]}),(0,_.jsxs)(p.YT,{children:[S.includes("pedagogium_logistics")&&(0,_.jsx)(u.J,{destination:f}),S.includes("pedagogium_prep")&&(0,_.jsx)(g.K,{destination:f}),S.includes("wstijo_logistics")&&(0,_.jsx)(m.J,{destination:f}),S.includes("wstijo_prep")&&(0,_.jsx)(x.J,{destination:f}),S.includes("wsbmir_logistics")&&(0,_.jsx)(h.B,{destination:f}),S.includes("wsbmir_prep")&&(0,_.jsx)(j.L,{destination:f}),S.includes("ewspa_logistics")&&(0,_.jsx)(r.V,{destination:f}),S.includes("ewspa_prep")&&(0,_.jsx)(d.S,{destination:f})]}),s&&(0,_.jsx)(t.a,{})]})})}}}]);
//# sourceMappingURL=Pl University Kahoots Admin Panel page.2fa3e2af.chunk.js.map