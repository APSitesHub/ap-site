"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[9445],{3095:(e,n,t)=>{t.r(n),t.d(n,{default:()=>h});var r=t(2791),s=t(1005),a=t(2122),i=t(2532),c=t(4820),l=t(9475),u=t(6793),d=t(1445),o=t(2474),x=t(8970),m=t(184);const h=e=>{let{utms:n}=e;const[t,h]=(0,r.useState)(0),[j,g]=(0,r.useState)(!1),p=(0,r.useRef)(),q=e=>{e.currentTarget.classList.add("chosen"),p.current.adult&&g(!1),h((e=>e+1))},w=()=>{h((e=>e-1))},v=()=>{h((e=>e+1))};return(0,m.jsxs)(m.Fragment,{children:[0===t&&(0,m.jsx)(x.l,{beginQuiz:()=>{h(1),p.current={pipeline_id:6453287},p.current.lang="en",p.current.utm_content=n.utm_content,p.current.utm_medium=n.utm_medium,p.current.utm_campaign=n.utm_campaign,p.current.utm_source=n.utm_source,p.current.utm_term=n.utm_term,p.current.utm_referrer=n.utm_referrer,p.current.referrer=n.referrer,p.current.gclientid=n.gclientid,p.current.gclid=n.gclid,p.current.fbclid=n.fbclid},lang:"en"}),1===t&&(0,m.jsx)(d.Y,{activeSlide:t,continueQuiz:q,continueQuizForChild:e=>{g(!0),q(e)},previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),2===t&&(0,m.jsx)(s.B,{activeSlide:t,isChild:j,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),3===t&&(0,m.jsx)(l.Q,{activeSlide:t,isChild:j,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),4===t&&(0,m.jsx)(u.D,{activeSlide:t,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),5===t&&(0,m.jsx)(a.s,{activeSlide:t,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),6===t&&(0,m.jsx)(c.Z,{activeSlide:t,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),7===t&&(0,m.jsx)(i.a,{nextQuestion:v,quizValues:p,activeSlide:t,previousQuestion:w,lang:"en"}),8===t&&(0,m.jsx)(o.O,{})]})}},2532:(e,n,t)=>{t.d(n,{a:()=>x});var r=t(5294),s=t(7723),a=t(8313),i=t(5705),c=t(2791),l=t(8007),u=t(10),d=t(6739),o=t(184);r.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const x=e=>{let{nextQuestion:n,quizValues:t,activeSlide:x,previousQuestion:m,lang:h}=e;const[j,g]=(0,c.useState)(!1),p={name:"",phone:"",mail:t.current.mail,password:t.current.password,tag:t.current.tag,lang:t.current.lang,adult:t.current.adult,age:t.current.age,knowledge:t.current.knowledge,quantity:t.current.quantity,difficulties:t.current.difficulties,interests:t.current.interests,crmId:t.current.crmId,contactId:t.current.contactId},q=l.Ry().shape({name:l.Z_().required("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u0456\u043c'\u044f!").matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0456\u0406\u0457\u0407\u0454\u0404]/,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f, \u0431\u0435\u0437 \u0446\u0438\u0444\u0440 \u0442\u0430 \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!").min(2,"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0438!").max(50,"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 50 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!"),phone:l.Z_().required("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").min(10,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 \u0437 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!").max(15,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 \u0437 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!"),mail:l.Z_().required(),password:l.Z_().required(),tag:l.Z_().required(),lang:l.Z_().required(),adult:l.O7().required(),age:l.Z_().required(),knowledge:l.Z_().required(),quantity:l.Z_().required(),difficulties:l.Z_().required(),interests:l.Z_().required(),crmId:l.Rx().required(),contactId:l.Rx().required()}),w=()=>{const{values:e,isValid:n,submitForm:r}=(0,i.u6)();return(0,o.jsx)(d.OB,{href:t.current.leadPage,onClick:async s=>{s.preventDefault(),console.log(n),e.name&&e.phone&&n&&(console.log("valid"),await r(),setTimeout((()=>{g((e=>!1)),window.location.replace(t.current.leadPage)}),1500))},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043c\u0435\u0441\u0435\u043d\u0434\u0436\u0435\u0440"})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.$_,{children:[(0,o.jsx)(d.TR,{}),(0,o.jsx)(d.Dx,{children:"\u041c\u0430\u0439\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u043e!"}),(0,o.jsxs)(d.dk,{children:["\u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e ",h?"\u043f\u0440\u043e\u0431\u043d\u0438\u0445 \u0437\u0430\u043d\u044f\u0442\u044c":"\u043c\u0430\u0440\u0430\u0444\u043e\u043d\u0443",", \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u0456\u043c\u2019\u044f \u0456 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u0442\u0430 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0443 \u0437\u0440\u0443\u0447\u043d\u0438\u0439 \u0434\u043b\u044f \u0432\u0430\u0441 \u043c\u0435\u0441\u0435\u043d\u0434\u0436\u0435\u0440."]}),(0,o.jsx)(i.J9,{initialValues:p,onSubmit:async(e,n)=>{let{resetForm:s}=n;g((e=>!0));try{const n=await r.Z.patch("/leads/quiz/".concat(t.current.crmId),e);console.log(n),console.log(n.data.crmId,n.data.contactId),(async(n,s)=>{const a={name:e.name.trim().trimStart(),mail:e.mail,password:e.password,pupilId:"0000000",crmId:n,contactId:s,age:t.current.age,lang:"en"!==t.current.lang||t.current.adult?t.current.lang:"enkids",course:"0",package:"\u041c\u0430\u0440\u0430\u0444\u043e\u043d",knowledge:t.current.knowledge,manager:"-"};try{const e=await r.Z.post("/users/new",a);console.log(e)}catch(i){console.error(i)}})(n.data.crmId,n.data.contactId),setTimeout((()=>{s()}),1500)}catch(a){console.error(a)}},validationSchema:q,children:(0,o.jsxs)(u.ag,{children:[(0,o.jsx)(u.RF,{}),(0,o.jsxs)(s.Ck,{children:[(0,o.jsxs)(s.__,{children:[(0,o.jsx)(d.Zq,{type:"text",name:"name",placeholder:"\u0406\u043c'\u044f*"}),(0,o.jsx)(s.r2,{component:"p",name:"name"})]}),(0,o.jsxs)(s.__,{children:[(0,o.jsx)(d.Zq,{type:"tel",name:"phone",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d*"}),(0,o.jsx)(s.r2,{component:"p",name:"phone"})]})]}),(0,o.jsx)(s.x1,{type:"text",name:"tag"}),(0,o.jsx)(s.x1,{type:"text",name:"lang"}),(0,o.jsx)(s.x1,{type:"text",name:"adult"}),(0,o.jsx)(s.x1,{type:"text",name:"age"}),(0,o.jsx)(s.x1,{type:"text",name:"knowledge"}),(0,o.jsx)(s.x1,{type:"text",name:"quantity"}),(0,o.jsx)(s.x1,{type:"text",name:"difficulties"}),(0,o.jsx)(s.x1,{type:"text",name:"interests"}),(0,o.jsx)(w,{}),j&&(0,o.jsx)(a.a,{})]})}),(0,o.jsx)(d.kM,{})," ",(0,o.jsx)(d.gl,{}),(0,o.jsx)(d.lf,{})," ",(0,o.jsx)(d.BQ,{}),(0,o.jsxs)(d.tl,{children:[(0,o.jsx)(d.Cw,{className:x-1<1&&"disabled",disabled:x-1<1&&!0,onClick:m,children:(0,o.jsx)(d.hM,{})}),(0,o.jsxs)(d.Tp,{children:[(0,o.jsx)(d.Ck,{children:x}),"/",h?7:8]}),(0,o.jsx)(d.p3,{className:"hidden",onClick:n,children:(0,o.jsx)(d.pX,{})})]})]})})}},9475:(e,n,t)=>{t.d(n,{Q:()=>h});var r=t(5294),s=t(8313),a=t(2791),i=t(7689),c=t(5648),l=t(708),u=t(6521),d=t(1692),o=t(5401),x=t(6739),m=t(184);const h=e=>{var n,t,h,j,g,p;let{activeSlide:q,isChild:w,continueQuiz:v,previousQuestion:z,nextQuestion:k,quizValues:Q,lang:_}=e;const[y,f]=(0,a.useState)(!1),[b,C]=(0,a.useState)(""),S=(e=>{switch(e){case"/quiz":case"/quiz/":return"quiz";case"/quiz-en":case"/quiz-en/":return"quiz-en";case"/quiz-de":case"/quiz-de/":return"quiz-de";case"/quiz-pl":case"/quiz-pl/":return"quiz-pl"}})((0,i.TH)().pathname),Z=Math.floor(1e6*Math.random()).toString(),I=Math.floor(1e6*Math.random()).toString();Q.current.tag=S,Q.current.mail=Z.length<6?"marathon-ap0".concat(Z,"@ap.edu"):"marathon-ap".concat(Z,"@ap.edu"),Q.current.password=I.length<6?"0"+I:I;const V=async()=>{f((e=>!0));try{f((e=>!0));const e=await r.Z.post("/leads/quiz-int",Q.current);console.log(e.data),Q.current.leadPage=e.data.engPage,Q.current.crmId=e.data.crmId,Q.current.contactId=e.data.contactId,console.log(Q.current)}catch(e){console.error(e),C((n=>e))}finally{f((e=>!1)),k()}},R=(e,n)=>{Q.current.knowledge=n,Q.current.leadPage&&v(e)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(x.$_,{children:[(0,m.jsx)(x.TR,{}),(0,m.jsx)(x.Yc,{children:w?"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0440\u0456\u0432\u0435\u043d\u044c \u0434\u0438\u0442\u0438\u043d\u0438":"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0432\u0430\u0448 \u0440\u0456\u0432\u0435\u043d\u044c"}),(0,m.jsxs)(x.Nl,{children:["\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u0456\u0432\u0435\u043d\u044c \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u043e\u0432\u0430\u043d\u0456"," ",(0,m.jsx)(x.Ro,{children:"\u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0438"})," \u0432 \u043a\u0456\u043d\u0446\u0456 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043d\u043d\u044f",(0,m.jsx)(x.QE,{src:u,alt:"Present emoji",width:"30"})]}),(0,m.jsxs)(x.Tx,{children:[(0,m.jsx)(x.Ub,{onClick:async e=>{R(e,"a0"),await V()},className:"a0"===(null===(n=Q.current)||void 0===n?void 0:n.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:o,alt:"Running man emoji",width:"21"}),"\u041d\u0443\u043b\u044c\u043e\u0432\u0438\u0439"]})}),(0,m.jsx)(x.Ub,{onClick:async e=>{R(e,"a1"),await V()},className:"a1"===(null===(t=Q.current)||void 0===t?void 0:t.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:c,alt:"Face in glasses emoji",width:"21"}),"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0439"]})}),(0,m.jsx)(x.Ub,{onClick:async e=>{R(e,"a2"),await V()},className:"a2"===(null===(h=Q.current)||void 0===h?void 0:h.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:l,alt:"Alumni hat emoji",width:"21"}),"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439"]})}),"en"===Q.current.lang&&Q.current.adult&&(0,m.jsx)(x.Ub,{onClick:async e=>{R(e,"b1"),await V()},className:"b1"===(null===(j=Q.current)||void 0===j?void 0:j.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:d,alt:"Prize cup emoji",width:"21"}),"\u0412\u0438\u0441\u043e\u043a\u0438\u0439"]})})]}),b,(0,m.jsx)(x.Sg,{}),(0,m.jsx)(x.TQ,{}),(0,m.jsx)(x.lf,{}),(0,m.jsxs)(x.tl,{children:[(0,m.jsx)(x.Cw,{className:q-1<1&&"disabled",disabled:q-1<1&&!0,onClick:z,children:(0,m.jsx)(x.hM,{})}),(0,m.jsxs)(x.Tp,{children:[(0,m.jsx)(x.Ck,{children:q}),"/",_?7:8]}),(0,m.jsx)(x.p3,{className:q+1>1&&!(null!==(g=Q.current)&&void 0!==g&&g.knowledge)&&"disabled",disabled:q+1>1&&!(null!==(p=Q.current)&&void 0!==p&&p.knowledge)&&!0,onClick:k,children:(0,m.jsx)(x.pX,{})})]}),y&&(0,m.jsx)(s.a,{})]})})}}}]);
//# sourceMappingURL=Sales english quiz page.3c2f3cca.chunk.js.map