"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[3409],{936:(e,o,t)=>{t.r(o),t.d(o,{default:()=>y});var s=t(5294),n=t(7723),l=t(616),a=t(5705),r=t(7241),c=t(6739),i=t(7102),d=t(2791),h=t(3134),u=t.n(h),x=t(8007),j=t(2641),p=t(6110),m=t(38),g=t(7689),k=t(184);console.log(m.c);const y=()=>{const[e,o]=(0,d.useState)(!1),[t,h]=(0,d.useState)({}),[y,S]=(0,d.useState)(!1),[C,v]=(0,d.useState)(!1),[f,b]=(0,d.useState)("");console.log(t);const w=(0,g.TH)().pathname.match(/(\d+)/)[0];console.log(w),s.Z.defaults.baseURL="http://localhost:5000";const _=e=>{s.Z.defaults.headers.common.Authorization="Bearer ".concat(e)};(0,d.useEffect)((()=>{document.title="\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0438 | AP Education";(async()=>{if(console.log("token refresher"),console.log(localStorage.getItem("authCode")),localStorage.getItem("authCode"))try{const e=await s.Z.post("/users/refresh-code",{authCode:localStorage.getItem("authCode")});o((e=>!0)),console.log(e),h((o=>({...e.data.user})))}catch(e){console.log(e)}})()}),[]);const Z=()=>{console.log((0,a.u6)());const{values:e,isValid:o,submitForm:t}=(0,a.u6)();return(0,k.jsx)(c.OB,{onClick:async s=>{console.log(o),e.authCode&&o&&(console.log("valid"),await t())},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0456\u0432"})},q=x.Ry().shape({phone:x.Z_().required("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443!").min(10,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 \u0437 10 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!").max(15,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u043c\u0430\u0454 \u0441\u043a\u043b\u0430\u0434\u0430\u0442\u0438\u0441\u044f \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 \u0437 15 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!")}),A=x.Ry().shape({authCode:x.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u043e\u0434, \u044f\u043a\u0438\u0439 \u043c\u0438 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043b\u0438 \u0432\u0430\u043c \u0432 SMS!")}),F=()=>{console.log("mouse out?"),b((e=>"")),C&&v((e=>!e))};return(0,k.jsx)(k.Fragment,{children:e||y?!e&&y?(0,k.jsx)(a.J9,{initialValues:{authCode:""},onSubmit:async(e,n)=>{let{resetForm:l}=n;e={authCode:e.authCode.trim().trimStart()},console.log(e);try{const n=await s.Z.post("/users/login-code",e);_(n.data.token),o((e=>!0)),h((e=>({...n.data.user}))),localStorage.setItem("authCode",t.authCode),l()}catch(a){console.error(a)}},validationSchema:A,children:(0,k.jsxs)(i.U0,{children:[(0,k.jsx)(n.hQ,{}),(0,k.jsx)(n.T$,{}),(0,k.jsx)(l.YA,{children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043a\u043e\u0434, \u044f\u043a\u0438\u0439 \u043c\u0438 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043b\u0438 \u0432\u0430\u043c \u0432 SMS-\u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u0456!"}),(0,k.jsxs)(n.__,{children:[(0,k.jsx)(i.vD,{type:"text",name:"authCode",placeholder:"\u041a\u043e\u0434*"}),(0,k.jsx)(i.aC,{component:"p",name:"authCode"})]}),(0,k.jsx)(Z,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043e \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0456\u0432"}),(0,k.jsx)(i.Gh,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.TR,{}),(0,k.jsx)(c.Dx,{children:"\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0456 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0438"}),(0,k.jsx)(p.DK,{children:"\u0420\u043e\u0437\u043f\u043e\u0447\u043d\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f \u0432\u0436\u0435 \u0437\u0430\u0440\u0430\u0437 \u0437 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u043c\u0438 \u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u043e\u0432\u0438\u043c\u0438 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b\u0430\u043c\u0438!"}),(0,k.jsx)(p.BO,{children:m.c[t.lang][t.knowledge].map(((e,o)=>(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(p.ju,{children:["quizlet"===e.type&&(0,k.jsx)(r.Pq,{children:(0,k.jsxs)(p.Gt,{target:"_blank",rel:"noopener noreferrer",to:e.link,children:[(0,k.jsx)(p.lA,{}),(0,k.jsx)(p.mb,{}),(0,k.jsxs)(p.J2,{children:["\u041d\u0430\u0431\u0456\u0440 \u0432\u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u0456\u0439\u043d\u043e\u0433\u043e \u0432\u0438\u0432\u0447\u0435\u043d\u043d\u044f \u0441\u043b\u0456\u0432 \u0434\u043b\u044f \u0440\u0456\u0432\u043d\u044f"," ",e.name]}),(0,k.jsx)(p.Sd,{})]})}),"video"===e.type&&(0,k.jsxs)(p.IT,{children:[(0,k.jsxs)(r.Pq,{children:[(0,k.jsx)(p.nn,{}),(0,k.jsx)(p.J2,{children:e.name})]}),(0,k.jsx)(r.gZ,{children:(0,k.jsx)(u(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:e.link})})]}),"grammar"===e.type&&(0,k.jsxs)(r.Dv,{onMouseLeave:F,children:[(0,k.jsxs)(r.Ag,{id:e.link,onMouseEnter:e=>(e=>{b((o=>e.target.id)),C||v((e=>!e))})(e),onTouchEnd:()=>{return o=e.link,b(o),void(C&&o!==f?b((e=>o)):C||o!==f?C&&o===f?v((e=>!e)):(e=>{console.log("opener"),b((o=>e)),v((e=>!e))})(o):v((e=>!e)));var o},children:[(0,k.jsx)(j.r,{}),(0,k.jsxs)(r.CH,{target:"_blank",rel:"noopener noreferrer",to:e.link,children:[(0,k.jsx)(p.J2,{children:e.name}),(0,k.jsx)(r.h0,{})]})]}),(0,k.jsx)(p.Ym,{className:C&&f===e.link&&"preview-open",children:C&&f===e.link&&(0,k.jsx)(p.Xq,{title:"Preview of ".concat(e.link),src:e.link.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})]},o)})))})]}):(0,k.jsx)(a.J9,{initialValues:{phone:""},onSubmit:async(e,o)=>{let{resetForm:t}=o;e.phone=e.phone.trim().trimStart();try{const o=await s.Z.put("/users/crm/".concat(w),e);console.log(o),_(o.data.token),S((e=>!0)),h((e=>({...o.data}))),t()}catch(n){console.error(n)}},validationSchema:q,children:(0,k.jsxs)(i.U0,{children:[(0,k.jsx)(n.hQ,{}),(0,k.jsx)(n.T$,{}),(0,k.jsxs)(l.YA,{children:["\u041f\u0440\u0438\u0432\u0456\u0442!",(0,k.jsx)("br",{}),"\u0414\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e \u0432\u0456\u0434 \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440!"]}),(0,k.jsxs)(n.__,{children:[(0,k.jsx)(i.vD,{type:"text",name:"phone",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443*"}),(0,k.jsx)(i.aC,{component:"p",name:"phone"})]}),(0,k.jsx)(i.Gh,{type:"submit",children:"\u041e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043a\u043e\u0434"})]})})})}}}]);
//# sourceMappingURL=Post-quiz gifts page with sms-code auth.5a7b4c11.chunk.js.map