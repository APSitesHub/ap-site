"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[9466],{5641:(n,e,t)=>{t.r(e),t.d(e,{default:()=>Ye});var a,o=t(5294),i=t(7723),s=t(3201),r=t(5705),l=t(7102),d=t(2791),c=t(8007),p=t(7689),h=t(168),x=t(6487);const g=x.ZP.div(a||(a=(0,h.Z)(["\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n"])));var u=t(184);const m=n=>{let{platformLink:e}=n;const[t,a]=(0,d.useState)("https://online.ap.education/school/"),o=(0,p.TH)().search.slice(1);return(0,d.useEffect)((()=>{a(e||o?o||e:"https://online.ap.education/school/")}),[e,o]),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(g,{children:(0,u.jsx)("iframe",{id:"platform-window",title:"platform-pin",src:t,width:"100%",height:"100%",allow:"microphone *"})})})};var f;function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},w.apply(this,arguments)}function j(n,e){let{title:t,titleId:a,...o}=n;return d.createElement("svg",w({id:"empty",width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},o),t?d.createElement("title",{id:a},t):null,f||(f=d.createElement("path",{d:"M11.92 22C17.42 22 21.92 17.5 21.92 12C21.92 6.5 17.42 2 11.92 2C6.42001 2 1.92001 6.5 1.92001 12C1.92001 17.5 6.42001 22 11.92 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const v=d.forwardRef(j);t.p;var b,D;function y(){return y=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},y.apply(this,arguments)}function Z(n,e){let{title:t,titleId:a,...o}=n;return d.createElement("svg",y({id:"minus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:e,"aria-labelledby":a},o),t?d.createElement("title",{id:a},t):null,b||(b=d.createElement("path",{d:"M12.42 22C17.92 22 22.42 17.5 22.42 12C22.42 6.5 17.92 2 12.42 2C6.92001 2 2.42001 6.5 2.42001 12C2.42001 17.5 6.92001 22 12.42 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),D||(D=d.createElement("path",{d:"M8.42001 12H16.42",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const k=d.forwardRef(Z);t.p;var I,C,P;function S(){return S=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},S.apply(this,arguments)}function L(n,e){let{title:t,titleId:a,...o}=n;return d.createElement("svg",S({id:"plus",xmlns:"http://www.w3.org/2000/svg",width:25,height:24,viewBox:"0 0 25 24",fill:"none",ref:e,"aria-labelledby":a},o),t?d.createElement("title",{id:a},t):null,I||(I=d.createElement("path",{d:"M12.5 22C18 22 22.5 17.5 22.5 12C22.5 6.5 18 2 12.5 2C7 2 2.5 6.5 2.5 12C2.5 17.5 7 22 12.5 22Z",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),C||(C=d.createElement("path",{d:"M8.5 12H16.5",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),P||(P=d.createElement("path",{d:"M12.5 16V8",stroke:"#525266",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const M=d.forwardRef(L);t.p;var z,O,E,F,N,Y,_,q,T,U,A,V,H,W,X,R,B,J,$,Q,G=t(285),K=t(8945),nn=t(5411);const en=x.ZP.div(z||(z=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: auto;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n"]))),tn=x.ZP.h3(O||(O=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),an=(0,x.ZP)(G.CD)(E||(E=(0,h.Z)([""]))),on=x.ZP.div(F||(F=(0,h.Z)(["\n  padding: 7px 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  @media screen and (min-width: 360px) {\n    padding: 11px 6px;\n  }\n\n  @media screen and (min-width: 480px) {\n    padding: 18px 10px;\n  }\n"]))),sn=x.ZP.div(N||(N=(0,h.Z)(["\n  display: flex;\n  width: fit-content;\n  gap: 2px;\n  align-items: center;\n\n  padding: 3px 3px;\n  border-radius: 6px;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #fff;\n"]))),rn=x.ZP.span(Y||(Y=(0,h.Z)(["\n  color: var(--secondary-color);\n  font-size: 12px;\n\n  min-width: 70px;\n  text-align: center;\n  width: max-content;\n\n  text-transform: capitalize;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),ln=x.ZP.button(_||(_=(0,h.Z)(["\n  width: 16px;\n  height: 16px;\n\n  position: relative;\n\n  border: none;\n  outline: transparent;\n  background-color: transparent;\n\n  &:not(:disabled),\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n\n  &:not(:disabled):hover svg,\n  &:not(:disabled):focus svg {\n    color: var(--accent-color);\n  }\n"]))),dn=(0,x.ZP)(K.r)(q||(q=(0,h.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),cn=(0,x.ZP)(nn.r)(T||(T=(0,h.Z)(["\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n"]))),pn=x.ZP.ul(U||(U=(0,h.Z)(["\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  margin: -1px;\n  padding: 0 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),hn=x.ZP.li(A||(A=(0,h.Z)(["\n  padding: 10px 0;\n  display: flex;\n  gap: 8px;\n"]))),xn=x.ZP.span(V||(V=(0,h.Z)([""]))),gn=x.ZP.span(H||(H=(0,h.Z)([""]))),un=x.ZP.span(W||(W=(0,h.Z)(["\n  color: var(--main-color);\n"]))),mn=x.ZP.div(X||(X=(0,h.Z)(["\n  padding: 10px 8px;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n"]))),fn=x.ZP.div(R||(R=(0,h.Z)(["\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),wn=x.ZP.div(B||(B=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),jn=x.ZP.div(J||(J=(0,h.Z)(["\n  position: relative;\n"]))),vn=x.ZP.div($||($=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateY(-50%);\n\n  @media screen and (min-width: 360px) {\n    gap: 4px;\n  }\n\n  @media screen and (min-width: 480px) {\n    gap: 8px;\n  }\n"]))),bn=x.ZP.ul(Q||(Q=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n"]))),Dn=n=>{let{user:e}=n;const[t,a]=(0,d.useState)((new Date).getDate()-(new Date).getDay()),[o,i]=(0,d.useState)((new Date).getMonth()+1),[s,r]=(0,d.useState)((new Date).getFullYear()),[l,c]=(0,d.useState)([]),[p,h]=(0,d.useState)([]),[x,g]=(0,d.useState)([]);(0,d.useEffect)((()=>{(()=>{let n=new Date(s,o-1,t+1);const e=n.getDate()-n.getDay(),a=[];n.getDate()!==e?n.setDate(e):n.setDate(e+1);let i=0;for(;n.getDay()<=6&&i<7;)i+=1,n.getDay()>=1&&n.getDay()<=4&&a.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);c((n=>a))})();(()=>{let n=new Date(s,o-1,1);const e=[];for(n.setDate(1);n.getMonth()+1===o;)n.getDay()>=1&&n.getDay()<=4&&e.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);h((n=>e))})();(()=>{let n=new Date;const e=[];for(n.setDate(1),n.setMonth(0);n.getFullYear()===s;)n.getDay()>=1&&n.getDay()<=4&&e.push(new Date(n.getFullYear(),n.getMonth(),n.getDate(),3).toISOString()),n.setDate(n.getDate()+1);g((n=>e))})()}),[t,o,s]);const m=n=>"".concat(n).length>1?n:"0"+n,f=n=>{let t=new Date(s,n-1,1);const a=[];for(t.setDate(1);t.getMonth()+1===n;)t.getDay()>=1&&t.getDay()<=4&&a.push(new Date(t.getFullYear(),t.getMonth(),t.getDate(),3).toISOString()),t.setDate(t.getDate()+1);const o=a.map((n=>"".concat(m(new Date(n).getDate()),".").concat(m(new Date(n).getMonth()+1),".").concat(new Date(n).getFullYear())));return e.visited.filter((e=>+e.split(".")[1]===n&&o.includes(e))).length},w=n=>{const t=(n=>{let e=new Date(n).toISOString();const t=new Date(e).getDate()-new Date(e).getDay(),a=[];e=new Date(e).getDate()!==t?new Date(e).setDate(t):new Date(e).setDate(t+1);let o=0;for(;new Date(e).getDay()<=6&&o<7;)o+=1,new Date(e).getDay()>=1&&new Date(e).getDay()<=4&&a.push(e),e=new Date(new Date(e).setDate(new Date(e).getDate()+1));return a})(new Date(s,o-1,n+1,3).toISOString()).map((n=>"".concat(m(new Date(n).getDate()),".").concat(m(new Date(n).getMonth()+1),".").concat(m(new Date(n).getFullYear()))));return e.visited.filter((n=>t.includes(n))).length},j=()=>{const n=l,e=n.findIndex((n=>new Date(n).getDate()===(new Date).getDate()&&new Date(n).getMonth()===(new Date).getMonth())),a=n.slice(0,e+1).length;return e<0&&w(t)>0?l.length-w(t):0===a||a-w(t)<0?0:a-w(t)},b=()=>{const n=p,e=n.findIndex((n=>new Date(n).getDate()===(new Date).getDate()&&new Date(n).getMonth()===(new Date).getMonth())),t=n.slice(0,e+1).length;return e<0&&f(o)>0?p.length-f(o):0===t||t-f(o)<0?0:t-f(o)};return(0,u.jsxs)(en,{children:[(0,u.jsxs)(tn,{children:[(0,u.jsx)(an,{}),"\u0412\u0456\u0434\u0432\u0456\u0434\u0443\u0432\u0430\u043d\u0456\u0441\u0442\u044c"]}),(0,u.jsxs)(on,{children:[(0,u.jsxs)(sn,{children:[(0,u.jsx)(ln,{disabled:0===w(t-7),onClick:()=>{a(t-7)},children:(0,u.jsx)(dn,{className:0!==w(t-7)&&"available"})}),(0,u.jsx)(rn,{children:(()=>{const n=new Date(s,o-1,t+1),e=new Date(n),a=new Date(e.setDate(e.getDate()+6));return"".concat(m(n.getDate()),".").concat(m(n.getMonth()+1)," - ").concat(m(a.getDate()),".").concat(m(a.getMonth()+1),".").concat(a.getFullYear())})()}),(0,u.jsx)(ln,{disabled:0===w(t+7),onClick:()=>{a(t+7)},children:(0,u.jsx)(cn,{className:0!==w(t+7)&&"available"})})]}),(0,u.jsxs)(pn,{children:[(0,u.jsx)(hn,{children:(0,u.jsxs)(fn,{children:[(0,u.jsxs)(wn,{children:[(0,u.jsx)(xn,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,u.jsx)(jn,{children:(0,u.jsx)(vn,{children:(()=>{const n=l.map((n=>"".concat(m(new Date(n).getDate()),".").concat(m(new Date(n).getMonth()+1),".").concat(m(new Date(n).getFullYear())))),t=e.visited.filter((e=>n.includes(e)));return n.map(((n,e)=>t.includes(n)?(0,u.jsx)(M,{},e):!t.includes(n)&&(+n.split(".")[1]<(new Date).getMonth()+1||+n.split(".")[0]<(new Date).getDate())?(0,u.jsx)(k,{},e):(0,u.jsx)(v,{},e)))})()})})]}),(0,u.jsxs)(gn,{children:[(()=>{const n=l.map((n=>"".concat(m(new Date(n).getDate()),".").concat(m(new Date(n).getMonth()+1),".").concat(new Date(n).getFullYear())));return e.visited.filter((e=>n.includes(e))).length})(),"/",(0,u.jsx)(un,{children:l.length})]})]})}),(0,u.jsxs)(hn,{children:[(0,u.jsx)(xn,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,u.jsx)(gn,{style:{color:j()>0&&"#D61D1D"},children:j()})]})]}),(0,u.jsxs)(sn,{children:[(0,u.jsx)(ln,{disabled:0===f(o-1),onClick:()=>{if(o>1){i(o-1);const n=new Date(s,o-2,1),t=e.visited.filter((n=>+n.split(".")[1]===o-1)),r=new Date(s,o-2,+t[0].split(".")[0]);return void a(r>7?r.getDate()-r.getDay():n.getDate()-n.getDay())}i(12),r(s-1);const n=new Date(s,o-2,1),t=e.visited.filter((n=>+n.split(".")[1]===o-1)),l=new Date(s,o-2,+t[0].split(".")[0]);a(l>7?l.getDate()-l.getDay():n.getDate()-n.getDay())},children:(0,u.jsx)(dn,{className:0!==f(o-1)&&"available"})}),(0,u.jsx)(rn,{children:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"][o-1]}),(0,u.jsx)(ln,{disabled:0===f(o+1),onClick:()=>{if(o<12){i(o+1);const n=new Date(s,o,1),t=e.visited.filter((n=>+n.split(".")[1]===o+1)),r=new Date(s,o,+t[0].split(".")[0]);return void a(r>7?r.getDate()-r.getDay():n.getDate()-n.getDay())}i(1),r(s+1);const n=new Date(s,o,1),t=e.visited.filter((n=>+n.split(".")[1]===o+1)),l=new Date(s,o,+t[0].split(".")[0]);a(l>7?l.getDate()-l.getDay():n.getDate()-n.getDay())},children:(0,u.jsx)(cn,{className:0!==f(o+1)&&"available"})})]}),(0,u.jsxs)(pn,{children:[(0,u.jsxs)(hn,{children:[(0,u.jsx)(xn,{children:"\u0412\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e:"}),(0,u.jsxs)(gn,{children:[f(o),"/",(0,u.jsx)(un,{children:p.length})]})]}),(0,u.jsxs)(hn,{children:[(0,u.jsx)(xn,{children:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438:"}),(0,u.jsx)(gn,{style:{color:b()>0&&"#D61D1D"},children:b()})]})]}),(0,u.jsxs)(mn,{children:[(0,u.jsx)(xn,{children:"\u0417\u0430\u0433\u0430\u043b\u043e\u043c \u0432\u0456\u0434\u0432\u0456\u0434\u0430\u043d\u043e \u0443\u0440\u043e\u043a\u0456\u0432 \u0437\u0430 \u0440\u0456\u043a:"}),(0,u.jsxs)(gn,{children:[(()=>{const n=x.map((n=>"".concat(new Date(n).getDate(),".").concat(m(new Date(n).getMonth()+1),".").concat(m(new Date(n).getFullYear()))));return e.visited.filter((e=>n.includes(e))).length})(),"/",(0,u.jsx)(un,{children:x.length})]}),(0,u.jsx)(bn,{})]})]})]})};var yn=t(5658),Zn=t(3134),kn=t.n(Zn),In=t(2641),Cn=t(7241);const Pn=n=>{let{lessons:e,user:t,setPlatformIframeLink:a}=n;const[o,i]=(0,d.useState)([]),[s,r]=(0,d.useState)(!1),[l,c]=(0,d.useState)(""),[p,h]=(0,d.useState)(!1),[x,g]=(0,d.useState)(""),[m,f]=(0,d.useState)([]),[w,j]=(0,d.useState)([]),[v,b]=(0,d.useState)(!1),[D,y]=(0,d.useState)(0),[Z,k]=(0,d.useState)(!0),I=window.location.origin+window.location.pathname,C=n=>{h(!1),g(""),f([]),j([]);const a=n.target.value;i(""!==a?n=>[...e.filter((n=>{const e=n.level+" "+n.lesson.replace("Lesson","").trim().trimStart();return(n.keysEn.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.keysUa.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.topic.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.lesson.toLowerCase().includes(a.toLowerCase().trim().trimStart())||n.level.toLowerCase().includes(a.toLowerCase().trim().trimStart())||e.toLowerCase().includes(a.toLowerCase().trim().trimStart()))&&t.lang===n.lang}))]:n=>[...e.filter((n=>t.lang===n.lang))]),sessionStorage.setItem("searchValue",a)},P=n=>{const e=n.target.value;k(""===e),j(""!==e?n=>[...m.filter((n=>n.question.toLowerCase().includes(e.toLowerCase().trim().trimStart())||n.exercise.toLowerCase().includes(e.toLowerCase().trim().trimStart())))]:n=>[...m])},S=n=>{n.currentTarget.classList.toggle("tooltip-open")},L=()=>{console.log("mouse out?"),c((n=>"")),s&&r((n=>!n))},M=n=>v&&n!==D?y(n):v||n!==D?v&&n===D?b((n=>!n)):(n=>{y(n),b((n=>!n))})(n):b((n=>!n));return(0,u.jsxs)(Cn.yO,{className:0===o.length&&"nothing-found",children:[(0,u.jsxs)(Cn.GJ,{children:[(0,u.jsx)(Cn.qZ,{}),(0,u.jsx)(Cn.OO,{value:sessionStorage.getItem("searchValue")?sessionStorage.getItem("searchValue"):"",autoFocus:sessionStorage.getItem("searchValue")&&!0,onFocus:sessionStorage.getItem("searchValue")&&C,onChange:C,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0430\u0431\u043e \u0442\u0435\u043c\u0443 \u0443\u0440\u043e\u043a\u0443"})]}),0!==o.length&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Cn.JS,{children:(0,u.jsx)(Cn.Vz,{children:o.slice(0,5).map((n=>(0,u.jsxs)(Cn.$J,{children:[(0,u.jsxs)(Cn.Pq,{children:[(0,u.jsx)(Cn.W7,{children:n.level+n.lesson.replace("Lesson"," -")}),(0,u.jsxs)(Cn.Nk,{children:[(0,u.jsxs)(Cn.sF,{children:[n.level," ",n.lesson]}),(0,u.jsxs)(Cn.zs,{children:[(0,u.jsx)(Cn.P3,{onMouseEnter:n=>S(n),onMouseOut:n=>S(n),onClick:()=>{a("https://online.ap.education/MarathonClass/?marathonId=".concat(n.marathonId,"&pupilId=").concat(t.pupilId,"&marathonLessonId=").concat(n.lessonId))},children:(0,u.jsx)(Cn.BI,{})}),(0,u.jsx)(Cn.u,{onMouseEnter:n=>S(n),onMouseOut:n=>S(n),onClick:()=>{window.open("".concat(I,"?https://online.ap.education/MarathonClass/?marathonId=").concat(n.marathonId,"&pupilId=").concat(t.pupilId,"&marathonLessonId=").concat(n.lessonId),"_blank")},children:(0,u.jsx)(Cn.h0,{})})]}),(0,u.jsx)(Cn.RM,{children:n.topic})]})]}),n.video[0]&&(0,u.jsx)(Cn.gZ,{children:(0,u.jsx)(kn(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:n.video[0]})}),n.pdf.length>0&&(0,u.jsx)(Cn.Dv,{onMouseLeave:L,children:n.pdf.map(((n,e)=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(Cn.Ag,{id:n,onMouseEnter:n=>(n=>{c((e=>n.target.id)),s||r((n=>!n))})(n),onTouchEnd:()=>{return c(e=n),void(s&&e!==l?c((n=>e)):s||e!==l?s&&e===l?r((n=>!n)):(n=>{console.log("opener"),c((e=>n)),r((n=>!n))})(e):r((n=>!n)));var e},children:[(0,u.jsx)(In.r,{}),(0,u.jsxs)(Cn.CH,{target:"_blank",rel:"noopener noreferrer",to:(0,yn.ZP)(n),children:["\u0413\u0440\u0430\u043c\u0430\u0442\u0438\u043a\u0430 ",e+1,(0,u.jsx)(Cn.h0,{})]},e)]},n),(0,u.jsx)(Cn.Ym,{className:s&&l===n&&"preview-open",children:s&&l===n&&(0,u.jsx)(Cn.Xq,{title:"Preview of ".concat(n),src:n.replace("open?id=","file/d/").replace("view","preview").replace("&usp=drive_copy","/preview"),allow:"autoplay"})})]})))}),n.faq.length>0&&(0,u.jsxs)(Cn.Nn,{children:[(0,u.jsxs)(Cn.uT,{onClick:()=>(n=>{h((n=>!n)),f((e=>[...n.faq])),j((e=>[...n.faq])),g((e=>n._id))})(n),children:[(0,u.jsxs)(Cn.OX,{children:[(0,u.jsx)(Cn.U$,{children:(0,u.jsx)(Cn.m9,{children:"?"})}),"FAQ"," "]}),p?(0,u.jsx)(Cn.YY,{}):(0,u.jsx)(Cn.Ok,{})]}),(0,u.jsxs)(Cn.on,{className:p&&x===n._id&&"faqlistopen",children:[(0,u.jsx)(Cn.iL,{onChange:P,placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0432\u043f\u0440\u0430\u0432\u0438 \u0430\u0431\u043e \u0432\u0430\u0448\u0435 \u043f\u0438\u0442\u0430\u043d\u043d\u044f",className:!Z&&"not-empty"}),(0,u.jsx)(Cn.UA,{})]}),(0,u.jsx)(Cn.Ar,{className:p&&x===n._id&&"faqlistopen",children:w.map(((n,e)=>(0,u.jsxs)(Cn.E2,{children:[(0,u.jsx)(Cn.VH,{onClick:()=>M(e),children:n.exercise}),(0,u.jsx)(Cn.HL,{className:v&&D===e&&"preview-open",children:n.question}),(0,u.jsx)(Cn.Xu,{className:v&&D===e&&"preview-open",children:v&&D===e&&(0,u.jsx)(Cn.gZ,{children:(0,u.jsx)(kn(),{loop:!0,muted:!1,controls:!0,style:{display:"block",position:"absolute",top:0,left:0},width:"100%",height:"100%",url:n.answer})})})]},e)))})]})]},n._id)))})}),(0,u.jsx)(Cn.i9,{})]})]})};var Sn,Ln,Mn,zn,On,En,Fn,Nn,Yn,_n,qn,Tn,Un,An,Vn,Hn,Wn=t(5984);const Xn=x.ZP.div(Sn||(Sn=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: 440px;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: 450px;\n  }\n\n  @media screen and (min-height: 960px) {\n    height: 556px;\n    overflow-y: hidden;\n  }\n"]))),Rn=x.ZP.h3(Ln||(Ln=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Bn=x.ZP.div(Mn||(Mn=(0,h.Z)(["\n  padding: 5px 0;\n\n  position: relative;\n\n  font-size: 14px;\n\n  display: flex;\n\n  margin-bottom: 6px;\n\n  &::after {\n    content: '';\n    height: 2px;\n    width: 100%;\n    border-radius: 2px;\n    background-color: #eeeef0;\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n"]))),Jn=x.ZP.p(zn||(zn=(0,h.Z)(["\n  font-size: 14px;\n  text-align: center;\n  width: 50%;\n  color: #bebecc;\n\n  transition: color var(--animation-global);\n\n  cursor: pointer;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: #525266;\n  }\n"]))),$n=x.ZP.div(On||(On=(0,h.Z)(["\n  height: 2px;\n  width: 50%;\n  border-radius: 2px;\n  background-color: var(--main-color);\n\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  transition: transform 250ms var(--animation-global);\n"]))),Qn=x.ZP.div(En||(En=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 6px 5px 6px 0;\n"]))),Gn=x.ZP.p(Fn||(Fn=(0,h.Z)(["\n  font-size: 12px;\n  color: #bebecc;\n"]))),Kn=(0,x.ZP)(Gn)(Nn||(Nn=(0,h.Z)(["\n  width: 100%;\n"]))),ne=(0,x.ZP)(Qn)(Yn||(Yn=(0,h.Z)(["\n  height: 36px;\n  border-radius: 7px;\n  flex-shrink: 0;\n  background-color: var(--accent-color);\n\n  margin-bottom: 4px;\n"]))),ee=(0,x.ZP)(Gn)(_n||(_n=(0,h.Z)(["\n  flex-shrink: 0;\n\n  width: 33px;\n  font-size: 14px;\n  text-align: center;\n  color: #525266;\n"]))),te=(0,x.ZP)(ee)(qn||(qn=(0,h.Z)(["\n  width: 100%;\n  flex-shrink: 1;\n  text-align: left;\n"]))),ae=x.ZP.ul(Tn||(Tn=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),oe=x.ZP.li(Un||(Un=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 1.5px 5px 1.5px 0;\n"]))),ie=x.ZP.div(An||(An=(0,h.Z)(["\n  display: flex;\n  height: 33px;\n  width: 33px;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  text-align: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--secondary-color);\n  border-radius: 5px;\n  background: linear-gradient(322deg, #0f645b -5.61%, #09c6cc 93.88%);\n"]))),se=(0,x.ZP)(ie)(Vn||(Vn=(0,h.Z)(["\n  color: #525266;\n  background: transparent;\n"]))),re=(0,x.ZP)(G.zr)(Hn||(Hn=(0,h.Z)([""]))),le=n=>{let{user:e,flatPoints:t,flatMonthlyPoints:a}=n;const[o,i]=(0,d.useState)("0%"),[s,r]=(0,d.useState)(0),l=s>0?a.filter((n=>"".concat(n.course)===e.course)).sort(((n,e)=>e.points-n.points)):t.filter((n=>"".concat(n.course)===e.course)).sort(((n,e)=>e.points-n.points)),c=l.findIndex((n=>n.mail===e.mail)),p=n=>{i((e=>"".concat(100*n,"%"))),r(n)};return(0,u.jsxs)(Xn,{children:[(0,u.jsxs)(Rn,{children:[(0,u.jsx)(re,{}),"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"]}),(0,u.jsxs)(Bn,{children:[(0,u.jsx)($n,{style:{transform:"translateX(".concat(o,")")}}),(0,u.jsx)(Jn,{onClick:()=>{p(0)},className:0===s&&"active",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439"}),(0,u.jsx)(Jn,{onClick:()=>{p(1)},className:1===s&&"active",children:"\u041c\u0456\u0441\u044f\u0447\u043d\u0438\u0439"})]}),(0,u.jsxs)(Qn,{children:[(0,u.jsx)(Gn,{children:"\u041c\u0456\u0441\u0446\u0435"}),(0,u.jsx)(Kn,{children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 \u0442\u0430 \u0456\u043c\u2019\u044f"}),(0,u.jsx)(Gn,{children:"\u0411\u0430\u043b\u0438"})]}),(0,u.jsxs)(ne,{children:[(0,u.jsx)(ee,{children:l.findIndex((n=>n.mail===e.mail))+1}),(0,u.jsx)(te,{children:e.name}),(0,u.jsx)(ee,{children:l[c].points})]}),(0,u.jsx)(ae,{children:l.slice(0,10).map(((n,e)=>(0,u.jsxs)(oe,{children:[e<=2?(0,u.jsx)(ie,{children:e+1}):(0,u.jsx)(se,{children:e+1}),(0,u.jsx)(te,{children:n.name}),(0,u.jsx)(ee,{children:n.points})]},(0,Wn.x0)(8))))})]})};var de,ce,pe,he,xe,ge,ue,me,fe,we,je,ve,be;const De=x.ZP.div(de||(de=(0,h.Z)(["\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: auto;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n"]))),ye=x.ZP.h3(ce||(ce=(0,h.Z)(["\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]))),Ze=(0,x.ZP)(G.Ip)(pe||(pe=(0,h.Z)([""]))),ke=x.ZP.div(he||(he=(0,h.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n\n  font-size: 14px;\n  line-height: 1.2;\n  color: #525266;\n\n  @media screen and (min-width: 390px) {\n    flex-direction: row;\n  }\n"]))),Ie=x.ZP.div(xe||(xe=(0,h.Z)(["\n  padding: 0 22.5px;\n  position: relative;\n\n  @media screen and (max-width: 389px) {\n    padding-top: 5px;\n    padding-bottom: 20px;\n  }\n\n  &::before {\n    content: '';\n    height: 132px;\n    width: 1px;\n\n    @media screen and (max-width: 389px) {\n      width: 75%;\n      height: 1px;\n      top: unset;\n      bottom: 10px;\n      left: 50%;\n\n      transform: translateX(-50%);\n    }\n\n    position: absolute;\n    top: 21px;\n    right: 0;\n    z-index: 1;\n\n    background-color: #0000000d;\n  }\n"]))),Ce=x.ZP.div(ge||(ge=(0,h.Z)(["\n  padding: 0 22.5px;\n\n  @media screen and (max-width: 389px) {\n    padding-bottom: 5px;\n  }\n"]))),Pe=x.ZP.span(ue||(ue=(0,h.Z)(["\n  display: block;\n  padding: 6px 0;\n\n  @media screen and (max-width: 389px) {\n    width: 87%;\n  }\n\n  text-align: center;\n  width: 118px;\n\n  border-bottom: 1px solid var(--accent-color);\n  margin: 0 auto;\n  margin-bottom: 10px;\n"]))),Se=x.ZP.a(me||(me=(0,h.Z)(["\n  display: block;\n  padding: 5px 0;\n  margin-bottom: 6px;\n  height: 26px;\n\n  position: relative;\n\n  text-align: center;\n  text-decoration: none;\n  width: 100%;\n  color: #525266;\n  font-weight: 400;\n  border: 1.5px solid #525266;\n\n  border-radius: 5px;\n  overflow: hidden;\n  background: transparent;\n\n  transition: all var(--animation-global);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n\n    transition: opacity var(--animation-global);\n\n    background: linear-gradient(322deg, #09c6cc 23.22%, #0f645b 110.01%),\n      #09c6cc;\n  }\n\n  &:hover,\n  &:focus {\n    border: 1.5px solid transparent;\n    color: #fff;\n    font-weight: 500;\n\n    &::before {\n      opacity: 1;\n    }\n  }\n"]))),Le=x.ZP.span(fe||(fe=(0,h.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n\n  transform: translate(-50%, -50%);\n"]))),Me=x.ZP.ul(we||(we=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),ze=x.ZP.li(je||(je=(0,h.Z)(["\n  padding: 5px 42px;\n  gap: 32px;\n  border-radius: 5px;\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (min-width: 390px) {\n    gap: 8px;\n    padding: 5px;\n  }\n"]))),Oe=x.ZP.span(ve||(ve=(0,h.Z)(["\n  display: block;\n  font-size: 14px;\n  text-align: center;\n  color: #525266;\n"]))),Ee=(0,x.ZP)(Oe)(be||(be=(0,h.Z)(["\n  min-width: 82px;\n"]))),Fe=n=>{let{user:e,timetable:t}=n;const a=t.find((n=>n.lang===e.lang&&n.level===e.knowledge));console.log(e.lang),console.log(void 0===e.adult||e.adult),console.log(e.knowledge),console.log(void 0===e.package?"vippro":e.package);const o=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"];return(0,u.jsxs)(De,{children:[(0,u.jsxs)(ye,{children:[(0,u.jsx)(Ze,{}),"\u0413\u0440\u0430\u0444\u0456\u043a \u0437\u0430\u043d\u044f\u0442\u044c"]}),(0,u.jsxs)(ke,{children:[(0,u.jsxs)(Ie,{children:[(0,u.jsx)(Pe,{children:"\u0412\u0435\u0431\u0456\u043d\u0430\u0440\u0438"}),(0,u.jsx)(Se,{href:"https://www.ap.education/streams/a1",target:"_blank",children:(0,u.jsx)(Le,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})}),(0,u.jsx)(Me,{children:a.schedule.filter((n=>"webinar"===n.type)).map(((n,e)=>(0,u.jsxs)(ze,{style:n.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,u.jsx)(Oe,{children:o[n.day-1]}),(0,u.jsx)(Ee,{children:n.time})]},e)))})]})," ",(0,u.jsxs)(Ce,{children:[(0,u.jsx)(Pe,{children:"\u041c\u043e\u0432\u043d\u0456 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438"}),(0,u.jsx)(Se,{href:"https://www.ap.education/streams/a1-sc",target:"_blank",children:(0,u.jsx)(Le,{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})}),(0,u.jsx)(Me,{children:a.schedule.filter((n=>"speaking"===n.type)).map(((n,e)=>(0,u.jsxs)(ze,{style:n.day===(new Date).getDay()?{backgroundColor:"#F9C838"}:{},children:[(0,u.jsx)(Oe,{children:o[n.day-1]}),(0,u.jsx)(Ee,{children:n.time})]},e)))})]})]})]})},Ne=n=>{let{lessons:e,link:t,user:a,points:o,timetable:i,marathonLink:s,montlyPoints:r,setPlatformIframeLink:l}=n;const[c,p]=(0,d.useState)(!1),[h,x]=(0,d.useState)(!1),[g,m]=(0,d.useState)(!1),[f,w]=(0,d.useState)(!1),[j,v]=(0,d.useState)(!1),[b,D]=(0,d.useState)(!0),[y,Z]=(0,d.useState)(!0),[k,I]=(0,d.useState)(!1),C=Object.values(o).flatMap((n=>n)),P=Object.values(r).flatMap((n=>n)),S=()=>{p(!1),x(!1),m(!1),w(!1),v(!1)},L=n=>{!y&&n.currentTarget.classList.toggle("tooltip-open")};return a.lang.split("/").length>1&&I(!0),(0,d.useEffect)((()=>{const n=n=>{"Escape"===n.code&&c&&S()};return(()=>{const n=document.querySelector("#reset-btn");y&&(setTimeout((()=>{n.classList.add("tooltip-open")}),1e4),setTimeout((()=>{n.classList.remove("tooltip-open"),Z(!1)}),2e4))})(),window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}})),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(G.Dj,{onClick:S,className:c?"":"hidden"}),(0,u.jsx)(G.YI,{id:"no-transform",onClick:()=>{S(),D((n=>!n))},children:b?(0,u.jsx)(G.$E,{}):(0,u.jsx)(G.yu,{})}),(0,u.jsxs)(G.Wo,{className:b?"":"hidden",style:{top:k?"184px":"142px"},children:[(0,u.jsxs)(G.P3,{className:k?"multiple":"",children:[(0,u.jsx)(G.aT,{id:"reset-btn",onMouseEnter:n=>L(n),onMouseOut:n=>L(n),onClick:()=>{l(t+" ")},children:(0,u.jsx)(G.gZ,{})}),k&&(0,u.jsx)(G.AJ,{id:"toggle-btn",onMouseEnter:n=>L(n),onMouseOut:n=>L(n),onClick:()=>{l(t+" ")},children:(0,u.jsx)(G.of,{})})]}),(0,u.jsx)(G.Uu,{onClick:()=>{!c&&(!g||!f||!j)&&p((n=>!0)),c&&!g&&!f&&!j&&p((n=>!1)),m(!1),w(!1),v(!1),x((n=>!n))},children:(0,u.jsx)(G.Hk,{className:h&&"active"})}),(0,u.jsx)(G.Uu,{onClick:()=>{!c&&(!h||!f||!j)&&p((n=>!0)),c&&!h&&!f&&!j&&p((n=>!1)),x(!1),w(!1),v(!1),m((n=>!n))},children:(0,u.jsx)(G.zr,{className:g&&"active"})}),(0,u.jsx)(G.Uu,{onClick:()=>{!c&&(!g||!h||!j)&&p((n=>!0)),c&&!g&&!h&&!j&&p((n=>!1)),x(!1),m(!1),v(!1),w((n=>!n))},children:(0,u.jsx)(G.CD,{className:f&&"active"})}),(0,u.jsx)(G.Uu,{onClick:()=>{!c&&(!g||!h||!f)&&p((n=>!0)),c&&!g&&!h&&!f&&p((n=>!1)),x(!1),m(!1),w(!1),v((n=>!n))},children:(0,u.jsx)(G.Ip,{className:j&&"active"})})]}),h&&(0,u.jsx)(Pn,{lessons:e,user:a,setPlatformIframeLink:l}),g&&(0,u.jsx)(le,{user:a,flatPoints:C,flatMonthlyPoints:P}),f&&(0,u.jsx)(Dn,{user:a}),j&&(0,u.jsx)(Fe,{user:a,timetable:i})]})},Ye=()=>{const[n,e]=(0,d.useState)(!1),[t,a]=(0,d.useState)(!1),[h,x]=(0,d.useState)({}),[g,f]=(0,d.useState)({}),[w,j]=(0,d.useState)({}),[v,b]=(0,d.useState)({}),[D,y]=(0,d.useState)("https://online.ap.education/"),[Z,k]=(0,d.useState)("https://online.ap.education/");o.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const I=(0,p.TH)();(0,d.useEffect)((()=>{document.title="My AP | AP Education";(async()=>{console.log("lessons getter");try{const n=await o.Z.get("/lessons");console.log(n),a((e=>[...n.data]))}catch(n){console.log(n)}})();(async()=>{console.log("ratings getter");try{const n=await o.Z.get("/ratings");x((e=>({...n.data[0].rating}))),j((e=>({...n.data[1].rating})))}catch(n){console.log(n)}})();(async()=>{console.log("timetable getter");try{const n=await o.Z.get("/timetable");console.log(n),f((e=>n.data))}catch(n){console.log(n)}})();(async()=>{console.log("token refresher");try{const n=await o.Z.post("/users/refresh",{mail:localStorage.getItem("mail")});e((n=>!0)),console.log(n),b((e=>({...n.data.user})))}catch(n){console.log(n)}})();(async()=>{const n={en:"https://online.ap.education/MarathonClass/?marathonId=37835&pupilId=".concat(v.pupilId,"&marathonLessonId=621674"),pl:"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=629354"),de:"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=629357"),enkids:"https://online.ap.education/MarathonClass/?marathonId=40552&pupilId=".concat(v.pupilId,"&marathonLessonId=621673")},e="en"===v.lang&&"a1"===v.knowledge?"ena1":"en"===v.lang&&"a2"===v.knowledge?"ena2":"pl"===v.lang?"pl":"de"===v.lang?"de":"enkids"===v.lang?"kids":"",t={kids:"https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=".concat(v.pupilId,"&marathonLessonId=854264"),ena1:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854277"),ena2:"https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=".concat(v.pupilId,"&marathonLessonId=854278"),pl:"https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=".concat(v.pupilId,"&marathonLessonId=853147"),de:"https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=".concat(v.pupilId,"&marathonLessonId=854256")};y((e=>n[v.lang])),k((n=>t[e]))})()}),[v.lang,v.pupilId,v.knowledge]);const C=c.Ry().shape({mail:c.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u043e\u0448\u0442\u0443, \u0437\u0430 \u044f\u043a\u043e\u044e \u0432\u0438 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456 \u043d\u0430 \u043d\u0430\u0448\u0456\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0456!"),password:c.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u044f\u043a\u0438\u0439 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043d\u0430\u0448\u0443 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443!")});return(0,u.jsx)(s.QU,{children:n?(0,u.jsxs)(u.Fragment,{children:[Object.values(h).length>0&&(0,u.jsx)(Ne,{lessons:t,user:v,points:h,montlyPoints:w,link:D,marathonLink:Z,setPlatformIframeLink:n=>{I.search="",y((e=>n))},timetable:g}),(0,u.jsx)(m,{platformLink:D})]}):(0,u.jsx)(r.J9,{initialValues:{mail:"",password:""},onSubmit:async(n,t)=>{let{resetForm:a}=t;n.mail=n.mail.toLowerCase().trim().trimStart(),n.password=n.password.trim().trimStart();try{const t=await o.Z.post("/users/login",n);i=t.data.token,o.Z.defaults.headers.common.Authorization="Bearer ".concat(i),e((n=>!0)),b((n=>({...t.data.user}))),localStorage.setItem("mail",n.mail),a()}catch(s){console.error(s)}var i},validationSchema:C,children:(0,u.jsxs)(l.U0,{children:[(0,u.jsx)(i.hQ,{}),(0,u.jsx)(i.T$,{}),(0,u.jsxs)(s.YA,{children:["\u041f\u0440\u0438\u0432\u0456\u0442!",(0,u.jsx)("br",{}),"\u0426\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0434\u043b\u044f \u043d\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432. \u0410\u043b\u0435 \u044f\u043a\u0449\u043e \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0438, \u0442\u043e \u0439 \u0434\u043e \u0446\u0456\u0454\u0457 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0442\u0435\u0436. \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0434\u0430\u043d\u0456, \u044f\u043a\u0456 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0443."]}),(0,u.jsxs)(i.__,{children:[(0,u.jsx)(l.vD,{type:"text",name:"mail",placeholder:"Login"}),(0,u.jsx)(l.aC,{component:"p",name:"mail",type:"email"})]}),(0,u.jsxs)(i.__,{children:[(0,u.jsx)(l.vD,{type:"password",name:"password",placeholder:"Password"}),(0,u.jsx)(l.aC,{component:"p",name:"password"})]}),(0,u.jsx)(l.Gh,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})})})}}}]);
//# sourceMappingURL=My AP Page.4f6af1d8.chunk.js.map