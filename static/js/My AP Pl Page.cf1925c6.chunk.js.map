{"version":3,"file":"static/js/My AP Pl Page.cf1925c6.chunk.js","mappings":"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","sources":["pages/TeacherPage/StudentChart/MyAPStudentChartPl.jsx","pages/MyAP/Attendance/AttendancePl.jsx","pages/MyAP/LessonFinder/LessonFinderPl.jsx","pages/MyAP/Points/PointsPl.jsx","pages/MyAP/Timetable.jsx/TimetablePl.jsx","pages/MyAP/MyAPPanel/MyAPPanelPl.jsx","pages/MyAP/MyAPPl.jsx"],"sourcesContent":["import { ResponsiveRadar } from '@nivo/radar';\nimport axios from 'axios';\nimport { EditFormHeader } from '../TeacherPage.styled';\nimport {\n  ChartAreaLimiter,\n  FeedbackText,\n  MyAPGradientBg,\n  MyAPStudentChartArea,\n} from './StudentChart.styled';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\nconst regex = /\\d{2}\\.\\d{2}\\.\\d{4}, \\d{2}:\\d{2}:\\d{2}:/g;\nconst linksRegex = /\\b(?:https?|ftp):\\/\\/\\S+\\b/g;\n\nexport const MyAPStudentChartPl = ({ currentStudentChart }) => {\n  const data = [\n    {\n      area: 'Aktywność',\n      [currentStudentChart.name]: currentStudentChart.activity,\n    },\n    {\n      area: 'Gramatyka',\n      [currentStudentChart.name]: currentStudentChart.grammar,\n    },\n    {\n      area: 'Mówienie',\n      [currentStudentChart.name]: currentStudentChart.speaking,\n    },\n    { area: 'Słownictwo', [currentStudentChart.name]: currentStudentChart.lexis },\n    {\n      area: 'Słuchanie',\n      [currentStudentChart.name]: currentStudentChart.listening,\n    },\n  ];\n\n  const MyResponsiveRadar = ({ data }) => (\n    <ResponsiveRadar\n      data={data}\n      curve=\"linearClosed\"\n      keys={[currentStudentChart.name]}\n      indexBy=\"area\"\n      maxValue={3}\n      valueFormat=\">-.0f\"\n      margin={\n        document.body.getClientRects()[0].width < 640\n          ? { top: 0, right: 10, bottom: 0, left: 10 }\n          : { top: 20, right: 60, bottom: 20, left: 60 }\n      }\n      borderColor={{ from: 'color' }}\n      gridLevels={3}\n      gridLabelOffset={document.body.getClientRects()[0].width < 640 ? -26 : 16}\n      dotSize={document.body.getClientRects()[0].width < 640 ? 3 : 5}\n      dotColor={{ theme: 'background' }}\n      dotBorderWidth={document.body.getClientRects()[0].width < 640 ? 3 : 3}\n      colors={{ scheme: 'dark2' }}\n      fillOpacity={0.15}\n      blendMode=\"multiply\"\n      motionConfig=\"wobbly\"\n      theme={\n        document.body.getClientRects()[0].width < 640\n          ? {\n              text: {\n                fontSize: 8,\n              },\n            }\n          : {\n              text: {\n                fontSize: 11,\n              },\n            }\n      }\n    />\n  );\n\n  return (\n    <>\n      <MyAPStudentChartArea>\n        <EditFormHeader id=\"focus\">{currentStudentChart.name}</EditFormHeader>\n        <FeedbackText\n          dangerouslySetInnerHTML={{\n            __html:\n              typeof currentStudentChart.feedback[\n                currentStudentChart.feedback.length - 1\n              ] === 'string'\n                ? currentStudentChart.feedback[currentStudentChart.feedback.length - 1]\n                    .replace(\n                      linksRegex,\n                      match =>\n                        `<a href=\"${match}\" target=\"_blank\">${\n                          match.length > 50 ? match.slice(0, 50) + '...' : match\n                        }</a>`\n                    )\n                    .replace(regex, '')\n                    .trim()\n                    .split(' ')\n                    .slice(1)\n                    .join(' ')\n                : '',\n          }}\n        ></FeedbackText>\n        <ChartAreaLimiter id=\"chartlimiter\">\n          <MyAPGradientBg id=\"chartbg\" />\n          <MyResponsiveRadar data={data}></MyResponsiveRadar>\n        </ChartAreaLimiter>\n      </MyAPStudentChartArea>\n    </>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { ReactComponent as AttendanceEmpty } from '../../../img/svg/attendance-empty.svg';\nimport { ReactComponent as AttendanceMinus } from '../../../img/svg/attendance-minus.svg';\nimport { ReactComponent as AttendancePlus } from '../../../img/svg/attendance-plus.svg';\nimport {\n  AttendanceArrowLeft,\n  AttendanceArrowRight,\n  AttendanceBox,\n  AttendanceBtn,\n  AttendanceDebugList,\n  AttendanceFlex,\n  AttendanceHeading,\n  AttendanceIcon,\n  AttendancePeriod,\n  AttendancePoints,\n  AttendancePointsBox,\n  AttendancePointsContainer,\n  AttendanceVisitedBox,\n  MonthSwitchBox,\n  VisitedCounter,\n  VisitedItem,\n  VisitedList,\n  VisitedText,\n  VisitedTotal,\n  VisitedYearBox,\n} from './Attendance.styled';\n\nexport const AttendancePl = ({ user, personalLessonsDays, isMultipleCourses }) => {\n  const [week, setWeek] = useState(new Date().getDate() - new Date().getDay());\n  const [month, setMonth] = useState(new Date().getMonth() + 1);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [lessonDaysForWeek, SetLessonDaysForWeek] = useState([]);\n  const [lessonDaysForMonth, SetLessonDaysForMonth] = useState([]);\n  const [lessonDaysForYear, SetLessonDaysForYear] = useState([]);\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '184px' : '142px',\n    };\n  };\n\n  const MONTHS = [\n    'Січень',\n    'Luty',\n    'Березень',\n    'Квітень',\n    'Травень',\n    'Червень',\n    'Липень',\n    'Серпень',\n    'Вересень',\n    'Жовтень',\n    'Листопад',\n    'Грудень',\n  ];\n\n  const DATES_TO_EXCLUDE = useMemo(\n    () => [\n      +new Date(2024, 11, 22),\n      +new Date(2024, 11, 23),\n      +new Date(2024, 11, 24),\n      +new Date(2024, 11, 25),\n      +new Date(2024, 11, 26),\n      +new Date(2024, 11, 27),\n      +new Date(2024, 11, 28),\n      +new Date(2024, 11, 29),\n      +new Date(2024, 11, 30),\n      +new Date(2024, 11, 31),\n      +new Date(2025, 0, 1),\n      +new Date(2025, 0, 2),\n      +new Date(2025, 0, 3),\n      +new Date(2025, 0, 4),\n      +new Date(2025, 0, 5),\n    ],\n    []\n  );\n\n  useEffect(() => {\n    const getLessonDaysForWeeks = () => {\n      let date = new Date(year, month - 1, week + 1);\n\n      const sunday = date.getDate() - date.getDay();\n\n      const lessonDays = [];\n\n      date.getDate() !== sunday ? date.setDate(sunday) : date.setDate(sunday + 1);\n\n      let i = 0;\n\n      while (date.getDay() <= 6 && i < 7) {\n        i += 1;\n        if (\n          personalLessonsDays.includes(date.getDay()) &&\n          !DATES_TO_EXCLUDE.includes(\n            +new Date(date.getFullYear(), date.getMonth(), date.getDate())\n          )\n        ) {\n          lessonDays.push(\n            new Date(date.getFullYear(), date.getMonth(), date.getDate(), 3).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForWeek(days => (days = lessonDays));\n    };\n    getLessonDaysForWeeks();\n\n    const getLessonDaysForMonths = () => {\n      let date = new Date(year, month - 1, 1);\n\n      const lessonDays = [];\n\n      date.setDate(1);\n      while (date.getMonth() + 1 === month) {\n        if (\n          personalLessonsDays.includes(date.getDay()) &&\n          !DATES_TO_EXCLUDE.includes(\n            +new Date(date.getFullYear(), date.getMonth(), date.getDate())\n          )\n        ) {\n          lessonDays.push(\n            new Date(date.getFullYear(), date.getMonth(), date.getDate(), 3).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForMonth(days => (days = lessonDays));\n    };\n    getLessonDaysForMonths();\n\n    const getLessonDaysForYears = () => {\n      let date = new Date();\n\n      const lessonDays = [];\n\n      date.setDate(1);\n      date.setMonth(0);\n\n      while (date.getFullYear() === year) {\n        if (\n          personalLessonsDays.includes(date.getDay()) &&\n          !DATES_TO_EXCLUDE.includes(\n            +new Date(date.getFullYear(), date.getMonth(), date.getDate())\n          )\n        ) {\n          lessonDays.push(\n            new Date(date.getFullYear(), date.getMonth(), date.getDate(), 3).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForYear(days => (days = lessonDays));\n    };\n    getLessonDaysForYears();\n  }, [week, month, year, personalLessonsDays, DATES_TO_EXCLUDE]);\n\n  const decreaseWeek = () => {\n    const newWeek = week - 7;\n    setWeek(newWeek);\n  };\n\n  const increaseWeek = () => {\n    const newWeek = week + 7;\n    setWeek(newWeek);\n  };\n\n  const decreaseMonth = () => {\n    if (month > 1) {\n      setMonth(month - 1);\n      const firstDayOfPreviousMonth = new Date(year, month - 2, 1);\n      const visitedThisMonth = user.visited.filter(\n        day => +day.split('.')[1] === month - 1\n      );\n      const firstVisitedDayOfPreviousMonth = new Date(\n        year,\n        month - 2,\n        +visitedThisMonth[0].split('.')[0]\n      );\n      firstVisitedDayOfPreviousMonth > 7\n        ? setWeek(\n            firstVisitedDayOfPreviousMonth.getDate() -\n              firstVisitedDayOfPreviousMonth.getDay()\n          )\n        : setWeek(firstDayOfPreviousMonth.getDate() - firstDayOfPreviousMonth.getDay());\n      return;\n    }\n    setMonth(12);\n    setYear(year - 1);\n    const firstDayOfPreviousMonth = new Date(year, month - 2, 1);\n    const visitedThisMonth = user.visited.filter(day => +day.split('.')[1] === month - 1);\n    const firstVisitedDayOfPreviousMonth = new Date(\n      year,\n      month - 2,\n      +visitedThisMonth[0].split('.')[0]\n    );\n\n    firstVisitedDayOfPreviousMonth > 7\n      ? setWeek(\n          firstVisitedDayOfPreviousMonth.getDate() -\n            firstVisitedDayOfPreviousMonth.getDay()\n        )\n      : setWeek(firstDayOfPreviousMonth.getDate() - firstDayOfPreviousMonth.getDay());\n    return;\n  };\n\n  const increaseMonth = () => {\n    if (month < 12) {\n      setMonth(month + 1);\n      const firstDayOfNextMonth = new Date(year, month, 1);\n      const visitedThisMonth = user.visited.filter(\n        day => +day.split('.')[1] === month + 1\n      );\n      const firstVisitedDayOfNextMonth = new Date(\n        year,\n        month,\n        +visitedThisMonth[0].split('.')[0]\n      );\n\n      firstVisitedDayOfNextMonth > 7\n        ? setWeek(\n            firstVisitedDayOfNextMonth.getDate() - firstVisitedDayOfNextMonth.getDay()\n          )\n        : setWeek(firstDayOfNextMonth.getDate() - firstDayOfNextMonth.getDay());\n      return;\n    }\n    setMonth(1);\n    setYear(year + 1);\n    const firstDayOfNextMonth = new Date(year, month, 1);\n    const visitedThisMonth = user.visited.filter(day => +day.split('.')[1] === month + 1);\n    const firstVisitedDayOfNextMonth = new Date(\n      year,\n      month,\n      +visitedThisMonth[0].split('.')[0]\n    );\n\n    firstVisitedDayOfNextMonth > 7\n      ? setWeek(\n          firstVisitedDayOfNextMonth.getDate() - firstVisitedDayOfNextMonth.getDay()\n        )\n      : setWeek(firstDayOfNextMonth.getDate() - firstDayOfNextMonth.getDay());\n    return;\n  };\n\n  const editDateFormat = date => (`${date}`.length > 1 ? date : '0' + date);\n\n  const calculateWeekPeriod = () => {\n    const firstDayOfWeekDate = new Date(year, month - 1, week + 1);\n\n    const date = new Date(firstDayOfWeekDate);\n\n    const lastDayOfWeekDate = new Date(date.setDate(date.getDate() + 6));\n\n    return `${editDateFormat(firstDayOfWeekDate.getDate())}.${editDateFormat(\n      firstDayOfWeekDate.getMonth() + 1\n    )} - ${editDateFormat(lastDayOfWeekDate.getDate())}.${editDateFormat(\n      lastDayOfWeekDate.getMonth() + 1\n    )}.${lastDayOfWeekDate.getFullYear()}`;\n  };\n\n  const calculateWeeklyVisits = () => {\n    const lessonDays = lessonDaysForWeek.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${new Date(lessonDay).getFullYear()}`\n    );\n    console.log(298, lessonDays);\n    console.log(\n      299,\n      user.visited.filter(date => (date = lessonDays.includes(date))).length\n    );\n\n    return user.visited.filter(date => (date = lessonDays.includes(date))).length;\n  };\n\n  const calculateMonthlyVisits = passedMonth => {\n    let date = new Date(year, passedMonth - 1, 1);\n\n    const lessonDaysForPassedMonth = [];\n\n    date.setDate(1);\n    while (date.getMonth() + 1 === passedMonth) {\n      if (personalLessonsDays.includes(date.getDay())) {\n        lessonDaysForPassedMonth.push(\n          new Date(date.getFullYear(), date.getMonth(), date.getDate(), 3).toISOString()\n        );\n      }\n      date.setDate(date.getDate() + 1);\n    }\n\n    const lessonDays = lessonDaysForPassedMonth.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${new Date(lessonDay).getFullYear()}`\n    );\n\n    return user.visited.filter(\n      date => +date.split('.')[1] === passedMonth && lessonDays.includes(date)\n    ).length;\n  };\n\n  const getLessonDaysOfPassedWeek = passedDay => {\n    let date = new Date(passedDay).toISOString();\n    const sunday = new Date(date).getDate() - new Date(date).getDay();\n    const lessonDays = [];\n\n    date =\n      new Date(date).getDate() !== sunday\n        ? new Date(date).setDate(sunday)\n        : new Date(date).setDate(sunday + 1);\n    let i = 0;\n    while (new Date(date).getDay() <= 6 && i < 7) {\n      i += 1;\n      if (new Date(date).getDay() >= 1 && personalLessonsDays.includes(date.getDay())) {\n        lessonDays.push(date);\n      }\n      date = new Date(new Date(date).setDate(new Date(date).getDate() + 1));\n    }\n    return lessonDays;\n  };\n\n  const calculateSetWeeklyVisits = passedWeek => {\n    const firstDayOfWeekDate = new Date(year, month - 1, passedWeek + 1, 3).toISOString();\n\n    const passedWeekLessonDays = getLessonDaysOfPassedWeek(firstDayOfWeekDate).map(\n      day =>\n        `${editDateFormat(new Date(day).getDate())}.${editDateFormat(\n          new Date(day).getMonth() + 1\n        )}.${editDateFormat(new Date(day).getFullYear())}`\n    );\n\n    return user.visited.filter(date => (date = passedWeekLessonDays.includes(date)))\n      .length;\n  };\n\n  const calculateWeeklyUnattended = () => {\n    const lessonDays = lessonDaysForWeek;\n    let dateToSlice = new Date().getDate();\n\n    const getLessonDayIndex = () =>\n      lessonDays.findIndex(\n        lessonDay =>\n          new Date(lessonDay).getDate() === dateToSlice &&\n          new Date(lessonDay).getMonth() === new Date().getMonth()\n      );\n\n    let currentDay = getLessonDayIndex();\n    while (getLessonDayIndex() < 0 && dateToSlice >= 1) {\n      dateToSlice -= 1;\n      getLessonDayIndex();\n    }\n\n    currentDay = lessonDays.findIndex(\n      lessonDay =>\n        new Date(lessonDay).getDate() === dateToSlice &&\n        new Date(lessonDay).getMonth() === new Date().getMonth()\n    );\n\n    const futureDays = lessonDays.slice(0, currentDay + 1).length;\n\n    return !lessonDaysForWeek.length\n      ? 0\n      : currentDay < 0 && calculateSetWeeklyVisits(week) > 0\n      ? lessonDaysForWeek.length - calculateSetWeeklyVisits(week)\n      : futureDays === 0\n      ? 0\n      : futureDays - calculateSetWeeklyVisits(week) < 0\n      ? 0\n      : futureDays - calculateSetWeeklyVisits(week);\n  };\n\n  const calculateMonthlyUnattended = () => {\n    const lessonDays = lessonDaysForMonth;\n\n    let dateToSlice = new Date().getDate();\n\n    const getLessonDayIndex = () =>\n      lessonDays.findIndex(\n        lessonDay =>\n          new Date(lessonDay).getDate() === dateToSlice &&\n          new Date(lessonDay).getMonth() === new Date().getMonth()\n      );\n\n    let currentDay = getLessonDayIndex();\n    while (getLessonDayIndex() < 0 && dateToSlice >= 1) {\n      dateToSlice -= 1;\n      getLessonDayIndex();\n    }\n\n    currentDay = lessonDays.findIndex(\n      lessonDay =>\n        new Date(lessonDay).getDate() === dateToSlice &&\n        new Date(lessonDay).getMonth() === new Date().getMonth()\n    );\n\n    const futureDays = lessonDays.slice(0, currentDay + 1).length;\n\n    return currentDay < 0 && calculateMonthlyVisits(month) > 0\n      ? lessonDaysForMonth.length - calculateMonthlyVisits(month)\n      : futureDays === 0\n      ? 0\n      : futureDays - calculateMonthlyVisits(month) < 0\n      ? 0\n      : futureDays - calculateMonthlyVisits(month);\n  };\n\n  const calculateYearlyVisits = () => {\n    const lessonDays = lessonDaysForYear.map(\n      lessonDay =>\n        `${new Date(lessonDay).getDate()}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${editDateFormat(new Date(lessonDay).getFullYear())}`\n    );\n    return user.visited.filter(date => lessonDays.includes(date)).length;\n  };\n\n  const calculatePoints = () => {\n    const lessonDays = lessonDaysForWeek.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${editDateFormat(new Date(lessonDay).getFullYear())}`\n    );\n\n    const visitedWithinWeek = user.visited.filter(\n      date => (date = lessonDays.includes(date))\n    );\n\n    return lessonDays.map((date, i) => {\n      return visitedWithinWeek.includes(date) ? (\n        <AttendancePlus key={i} />\n      ) : !visitedWithinWeek.includes(date) &&\n        (+date.split('.')[1] < new Date().getMonth() + 1 ||\n          +date.split('.')[0] < new Date().getDate()) ? (\n        <AttendanceMinus key={i} />\n      ) : (\n        <AttendanceEmpty key={i} />\n      );\n    });\n  };\n\n  return (\n    <AttendanceBox style={{ ...panelStyles() }}>\n      <AttendanceHeading>\n        <AttendanceIcon />\n        Obecność\n      </AttendanceHeading>\n      <AttendanceVisitedBox>\n        <MonthSwitchBox>\n          <AttendanceBtn\n            disabled={calculateSetWeeklyVisits(week - 7) === 0 ? true : false}\n            onClick={decreaseWeek}\n          >\n            <AttendanceArrowLeft\n              className={calculateSetWeeklyVisits(week - 7) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n          <AttendancePeriod>{calculateWeekPeriod()}</AttendancePeriod>\n          <AttendanceBtn\n            disabled={calculateSetWeeklyVisits(week + 7) === 0 ? true : false}\n            onClick={increaseWeek}\n          >\n            <AttendanceArrowRight\n              className={calculateSetWeeklyVisits(week + 7) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n        </MonthSwitchBox>\n        <VisitedList>\n          <VisitedItem>\n            <AttendancePointsBox>\n              <AttendanceFlex>\n                <VisitedText>Odwiedzono:</VisitedText>\n                <AttendancePoints>\n                  <AttendancePointsContainer>\n                    {calculatePoints()}\n                  </AttendancePointsContainer>\n                </AttendancePoints>\n              </AttendanceFlex>\n              <VisitedCounter>\n                {calculateWeeklyVisits()}/\n                <VisitedTotal>{lessonDaysForWeek.length}</VisitedTotal>\n              </VisitedCounter>\n            </AttendancePointsBox>\n          </VisitedItem>\n          <VisitedItem>\n            <VisitedText>Braki:</VisitedText>\n            <VisitedCounter\n              style={{\n                color: calculateWeeklyUnattended() > 0 && '#D61D1D',\n              }}\n            >\n              {calculateWeeklyUnattended()}\n            </VisitedCounter>\n          </VisitedItem>\n        </VisitedList>\n        <MonthSwitchBox>\n          <AttendanceBtn\n            disabled={calculateMonthlyVisits(month - 1) === 0 ? true : false}\n            onClick={decreaseMonth}\n          >\n            <AttendanceArrowLeft\n              className={calculateMonthlyVisits(month - 1) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n          <AttendancePeriod>{MONTHS[month - 1]}</AttendancePeriod>\n          <AttendanceBtn\n            disabled={calculateMonthlyVisits(month + 1) === 0 ? true : false}\n            onClick={increaseMonth}\n          >\n            <AttendanceArrowRight\n              className={calculateMonthlyVisits(month + 1) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n        </MonthSwitchBox>\n        <VisitedList>\n          <VisitedItem>\n            <VisitedText>Odwiedzono:</VisitedText>\n            <VisitedCounter>\n              {calculateMonthlyVisits(month)}/\n              <VisitedTotal>{lessonDaysForMonth.length}</VisitedTotal>\n            </VisitedCounter>\n          </VisitedItem>\n          <VisitedItem>\n            <VisitedText>Braki:</VisitedText>\n            <VisitedCounter\n              style={{ color: calculateMonthlyUnattended() > 0 && '#D61D1D' }}\n            >\n              {calculateMonthlyUnattended()}\n            </VisitedCounter>\n          </VisitedItem>\n        </VisitedList>\n        <VisitedYearBox>\n          <VisitedText>Łączna liczba lekcji odbytych w ciągu roku:</VisitedText>\n          <VisitedCounter>\n            {calculateYearlyVisits()}/\n            <VisitedTotal>{lessonDaysForYear.length}</VisitedTotal>\n          </VisitedCounter>\n          <AttendanceDebugList>\n            {/* <li>{Date.now()}</li>\n            <li>{new Date().toISOString()}</li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${new Date(lessonDaysForYear[0]).toISOString()}`}\n            </li> */}\n            {/* <li>\n              {lessonDaysForYear.length > 0 &&\n                `${Date.parse(lessonDaysForYear[0]).toISOString()}`}\n            </li> */}\n            {/* <li>{lessonDaysForYear.length > 0 && `${lessonDaysForYear[0]}`}</li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getDate()}`}\n            </li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getMonth() + 1}`}\n            </li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getFullYear()}`}\n            </li>\n            <li>{lessonDaysForYear.length > 0 && user.visited[0]}</li> */}\n            {/* <li>\n              {lessonDaysForYear.length > 0 &&\n                `${editDateFormat(\n                  lessonDaysForYear[0].getDate()\n                )}.${editDateFormat(\n                  lessonDaysForYear[0].getMonth() + 1\n                )}.${editDateFormat(lessonDaysForYear[0].getFullYear())}`}\n            </li> */}\n          </AttendanceDebugList>\n        </VisitedYearBox>\n      </AttendanceVisitedBox>\n    </AttendanceBox>\n  );\n};\n","import parse from 'html-react-parser';\nimport { useState } from 'react';\nimport ReactPlayer from 'react-player/youtube';\nimport { ReactComponent as PdfIcon } from '../../../img/svg/pdf-icon.svg';\n\nimport {\n  ExternalLinkIcon,\n  FaqBox,\n  FaqFinderIcon,\n  FaqFinderInput,\n  FaqFinderLabel,\n  FaqList,\n  FaqListDescription,\n  FaqListItem,\n  FaqListLink,\n  FaqListQuestionMark,\n  FaqListQuestionMarkBG,\n  FaqListTrigger,\n  FaqPreviewBackground,\n  FaqQuestion,\n  FaqSwitchDown,\n  FaqSwitchUp,\n  FinderBox,\n  FinderIcon,\n  FinderInput,\n  FinderLabel,\n  FinderLessons,\n  FinderMolding,\n  InternalLinkIcon,\n  LessonBox,\n  LessonBoxItem,\n  LessonExternalLinkButton,\n  LessonInternalLinkButton,\n  LessonLinksBox,\n  LessonTextValuesBox,\n  LessonTopBox,\n  LessonValueName,\n  LessonValuePdfLink,\n  LessonValueTopic,\n  LessonValuesLogo,\n  LessonVideoBox,\n  PdfBox,\n  PdfPreview,\n  PdfPreviewBackground,\n  PdfWrapper,\n} from './LessonFinder.styled';\n\nexport const LessonFinderPl = ({\n  lessons,\n  language,\n  user,\n  setPlatformIframeLink,\n  isMultipleCourses,\n}) => {\n  const [lessonsFound, setLessonsFound] = useState([]);\n  const [isPdfPreviewOpen, setIsPdfPreviewOpen] = useState(false);\n  const [openedPdf, setOpenedPdf] = useState('');\n  const [isFaqListOpen, setIsFaqListOpen] = useState(false);\n  const [openedFaq, setOpenedFaq] = useState('');\n  const [answers, setAnswers] = useState([]);\n  const [answersFound, setAnswersFound] = useState([]);\n  const [isAnswerOpen, setIsAnswerOpen] = useState(false);\n  const [openedAnswer, setOpenedAnswer] = useState(0);\n  const [isInputEmpty, setIsInputEmpty] = useState(true);\n\n  const path = window.location.origin + window.location.pathname;\n\n  const findLesson = e => {\n    setIsFaqListOpen(false);\n    setOpenedFaq('');\n    setAnswers([]);\n    setAnswersFound([]);\n    const value = e.target.value;\n    value !== ''\n      ? setLessonsFound(\n          lessonsFound =>\n            (lessonsFound = [\n              ...lessons.filter(lesson => {\n                const lessonLevelNumber =\n                  lesson.level +\n                  ' ' +\n                  lesson.lesson\n                    .replace('Lesson', '')\n                    .replace('Lekcja', '')\n                    .replace('Unterricht', '')\n                    .trim()\n                    .trimStart();\n                return (\n                  (lesson.keysEn\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.keysUa\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.topic\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.lesson\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.level\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lessonLevelNumber\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart())) &&\n                  language === lesson.lang\n                );\n              }),\n            ])\n        )\n      : setLessonsFound(\n          lessonsFound =>\n            (lessonsFound = [...lessons.filter(lesson => language === lesson.lang)])\n        );\n    sessionStorage.setItem('searchValue', value);\n  };\n\n  const findAnswer = e => {\n    const value = e.target.value;\n    value !== '' ? setIsInputEmpty(false) : setIsInputEmpty(true);\n    value !== ''\n      ? setAnswersFound(\n          answersFound =>\n            (answersFound = [\n              ...answers.filter(\n                answer =>\n                  answer.question\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart()) ||\n                  answer.exercise\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart())\n              ),\n            ])\n        )\n      : setAnswersFound(answersFound => (answersFound = [...answers]));\n  };\n\n  const toggleTooltip = e => {\n    e.currentTarget.classList.toggle('tooltip-open');\n  };\n\n  const togglePdfPreviewOnTouch = pdfId => {\n    const pdfOpener = pdfId => {\n      console.log('opener');\n      setOpenedPdf(pdf => (pdf = pdfId));\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    };\n\n    setOpenedPdf(pdfId);\n    isPdfPreviewOpen && pdfId !== openedPdf\n      ? setOpenedPdf(pdf => (pdf = pdfId))\n      : !isPdfPreviewOpen && pdfId === openedPdf\n      ? setIsPdfPreviewOpen(isOpen => !isOpen)\n      : isPdfPreviewOpen && pdfId === openedPdf\n      ? setIsPdfPreviewOpen(isOpen => !isOpen)\n      : pdfOpener(pdfId);\n  };\n\n  const openPdfPreviewOnHover = e => {\n    setOpenedPdf(pdf => (pdf = e.target.id));\n    if (!isPdfPreviewOpen) {\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    }\n  };\n\n  const closePdfPreviewOnMouseOut = () => {\n    console.log('mouse out?');\n    setOpenedPdf(pdf => (pdf = ''));\n    if (isPdfPreviewOpen) {\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    }\n  };\n\n  const toggleFaq = lesson => {\n    setIsFaqListOpen(isOpen => !isOpen);\n    setAnswers(answers => (answers = [...lesson.faq]));\n    setAnswersFound(answersFound => (answersFound = [...lesson.faq]));\n    setOpenedFaq(openedFaq => (openedFaq = lesson._id));\n  };\n\n  const openAnswer = i => {\n    setOpenedAnswer(i);\n    setIsAnswerOpen(isOpen => !isOpen);\n  };\n\n  const toggleAnswer = i =>\n    isAnswerOpen && i !== openedAnswer\n      ? setOpenedAnswer(i)\n      : !isAnswerOpen && i === openedAnswer\n      ? setIsAnswerOpen(isOpen => !isOpen)\n      : isAnswerOpen && i === openedAnswer\n      ? setIsAnswerOpen(isOpen => !isOpen)\n      : openAnswer(i);\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '184px' : '142px',\n    };\n  };\n\n  return (\n    <FinderBox\n      className={lessonsFound.length === 0 && 'nothing-found'}\n      style={{ ...panelStyles() }}\n    >\n      <FinderLabel>\n        <FinderIcon />\n        <FinderInput\n          value={\n            sessionStorage.getItem('searchValue')\n              ? sessionStorage.getItem('searchValue')\n              : ''\n          }\n          autoFocus={sessionStorage.getItem('searchValue') && true}\n          onFocus={sessionStorage.getItem('searchValue') && findLesson}\n          onChange={findLesson}\n          placeholder=\"Wprowadź temat lub numer lekcji\"\n        />\n      </FinderLabel>\n\n      {lessonsFound.length !== 0 && (\n        <>\n          <FinderLessons>\n            <LessonBox>\n              {lessonsFound.slice(0, 5).map(lesson => (\n                <LessonBoxItem key={lesson._id}>\n                  <LessonTopBox>\n                    <LessonValuesLogo>\n                      {lesson.level +\n                        lesson.lesson\n                          .replace('Lesson', ' -')\n                          .replace('Lekcja', ' -')\n                          .replace('Unterricht', ' -')}\n                    </LessonValuesLogo>\n                    <LessonTextValuesBox>\n                      <LessonValueName>\n                        {lesson.level} {lesson.lesson}\n                      </LessonValueName>\n                      <LessonLinksBox>\n                        <LessonInternalLinkButton\n                          onMouseEnter={e => toggleTooltip(e)}\n                          onMouseOut={e => toggleTooltip(e)}\n                          onClick={() => {\n                            setPlatformIframeLink(\n                              `https://online.ap.education/MarathonClass/?marathonId=${lesson.marathonId}&pupilId=${user.pupilId}&marathonLessonId=${lesson.lessonId}`\n                            );\n                          }}\n                        >\n                          <InternalLinkIcon />\n                        </LessonInternalLinkButton>\n                        <LessonExternalLinkButton\n                          onMouseEnter={e => toggleTooltip(e)}\n                          onMouseOut={e => toggleTooltip(e)}\n                          onClick={() => {\n                            window.open(\n                              `${path}?https://online.ap.education/MarathonClass/?marathonId=${lesson.marathonId}&pupilId=${user.pupilId}&marathonLessonId=${lesson.lessonId}`,\n                              '_blank'\n                            );\n                          }}\n                        >\n                          <ExternalLinkIcon />\n                        </LessonExternalLinkButton>\n                      </LessonLinksBox>\n                      <LessonValueTopic>{lesson.topic}</LessonValueTopic>\n                    </LessonTextValuesBox>\n                  </LessonTopBox>\n                  {lesson.video[0] && (\n                    <LessonVideoBox>\n                      <ReactPlayer\n                        loop={true}\n                        muted={false}\n                        controls={true}\n                        style={{\n                          display: 'block',\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                        }}\n                        width=\"100%\"\n                        height=\"100%\"\n                        url={lesson.video[0]}\n                      />\n                    </LessonVideoBox>\n                  )}\n                  {lesson.pdf.length > 0 && (\n                    <PdfBox onMouseLeave={closePdfPreviewOnMouseOut}>\n                      {lesson.pdf.map((pdf, i) => (\n                        <>\n                          <PdfWrapper\n                            key={pdf}\n                            id={pdf}\n                            onMouseEnter={e => openPdfPreviewOnHover(e)}\n                            onTouchEnd={() => togglePdfPreviewOnTouch(pdf)}\n                          >\n                            <PdfIcon />\n                            <LessonValuePdfLink\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              to={parse(pdf)}\n                              key={i}\n                            >\n                              Граматика {i + 1}\n                              <ExternalLinkIcon />\n                            </LessonValuePdfLink>\n                          </PdfWrapper>\n                          <PdfPreviewBackground\n                            className={\n                              isPdfPreviewOpen && openedPdf === pdf && 'preview-open'\n                            }\n                          >\n                            {isPdfPreviewOpen && openedPdf === pdf && (\n                              <PdfPreview\n                                title={`Preview of ${pdf}`}\n                                src={pdf\n                                  .replace('open?id=', 'file/d/')\n                                  .replace('view', 'preview')\n                                  .replace('&usp=drive_copy', '/preview')}\n                                allow=\"autoplay\"\n                              ></PdfPreview>\n                            )}\n                          </PdfPreviewBackground>\n                        </>\n                      ))}\n                    </PdfBox>\n                  )}\n                  {lesson.faq.length > 0 && (\n                    <FaqBox>\n                      <FaqListTrigger onClick={() => toggleFaq(lesson)}>\n                        <FaqListDescription>\n                          <FaqListQuestionMarkBG>\n                            <FaqListQuestionMark>?</FaqListQuestionMark>\n                          </FaqListQuestionMarkBG>\n                          FAQ{' '}\n                        </FaqListDescription>\n                        {isFaqListOpen ? <FaqSwitchUp /> : <FaqSwitchDown />}\n                      </FaqListTrigger>\n\n                      <FaqFinderLabel\n                        className={\n                          isFaqListOpen && openedFaq === lesson._id && 'faqlistopen'\n                        }\n                      >\n                        <FaqFinderInput\n                          onChange={findAnswer}\n                          placeholder=\"Proszę wprowadzić numer zadania lub wasze pytanie.\"\n                          className={!isInputEmpty && 'not-empty'}\n                        />\n                        <FaqFinderIcon />\n                      </FaqFinderLabel>\n                      <FaqList\n                        className={\n                          isFaqListOpen && openedFaq === lesson._id && 'faqlistopen'\n                        }\n                      >\n                        {answersFound.map((q, i) => (\n                          <FaqListItem key={i}>\n                            <FaqListLink onClick={() => toggleAnswer(i)}>\n                              {q.exercise}\n                            </FaqListLink>\n                            <FaqQuestion\n                              className={\n                                isAnswerOpen && openedAnswer === i && 'preview-open'\n                              }\n                            >\n                              {q.question}\n                            </FaqQuestion>\n                            <FaqPreviewBackground\n                              className={\n                                isAnswerOpen && openedAnswer === i && 'preview-open'\n                              }\n                            >\n                              {isAnswerOpen && openedAnswer === i && (\n                                <LessonVideoBox>\n                                  <ReactPlayer\n                                    loop={true}\n                                    muted={false}\n                                    controls={true}\n                                    style={{\n                                      display: 'block',\n                                      position: 'absolute',\n                                      top: 0,\n                                      left: 0,\n                                    }}\n                                    width=\"100%\"\n                                    height=\"100%\"\n                                    url={q.answer}\n                                  />\n                                </LessonVideoBox>\n                              )}\n                            </FaqPreviewBackground>\n                          </FaqListItem>\n                        ))}\n                      </FaqList>\n                    </FaqBox>\n                  )}\n                </LessonBoxItem>\n              ))}\n            </LessonBox>\n          </FinderLessons>\n          <FinderMolding />\n        </>\n      )}\n    </FinderBox>\n  );\n};\n","import { nanoid } from 'nanoid';\nimport { useState } from 'react';\nimport eyesImg from '../../../img/quiz/eyes.png';\nimport {\n  CupIcon,\n  EyesEmoji,\n  LeaderPlace,\n  PointsBox,\n  PointsBoxHeading,\n  PointsCategory,\n  PointsCategoryPicker,\n  PointsCategoryPointer,\n  PointsLeader,\n  PointsLeaderboard,\n  PointsPlaceHolder,\n  PointsPlaceHolderText,\n  PointsTableHead,\n  PointsTableHeadItem,\n  PointsTableHeadItemWide,\n  PointsUser,\n  PointsUserData,\n  PointsUserDataWide,\n  UserPlace,\n} from './Points.styled';\n\nexport const PointsPl = ({ user, flatPoints, flatMonthlyPoints, isMultipleCourses }) => {\n  const [position, setPosition] = useState('0%');\n  const [activeRating, setActiveRating] = useState(0);\n\n  const pointsSorted =\n    activeRating > 0\n      ? flatMonthlyPoints\n          .filter(student => `${student.course}` === user.course)\n          .sort((a, b) => b.points - a.points)\n      : flatPoints\n          .filter(student => `${student.course}`[0] === user.course[0])\n          .sort((a, b) => b.points - a.points);\n\n  const userPlace = pointsSorted.findIndex(\n    leader => leader.mail.toLowerCase() === user.mail.toLowerCase()\n  );\n\n  const calculatePointerPosition = i => {\n    setPosition(position => (position = `${i * 100}%`));\n    setActiveRating(i);\n  };\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '184px' : '142px',\n    };\n  };\n\n  return (\n    <PointsBox style={{ ...panelStyles() }}>\n      <PointsBoxHeading>\n        <CupIcon />\n        Ranking\n      </PointsBoxHeading>\n      {userPlace === -1 ? (\n        <PointsPlaceHolder>\n          <EyesEmoji src={eyesImg} alt=\"Eyes emoji\" width=\"80\" />\n          <PointsPlaceHolderText>Шукаємо вас у рейтингу.</PointsPlaceHolderText>\n          <PointsPlaceHolderText>\n            Виконайте ще кілька вправ, <br /> щоб бути в топі! 🤩\n          </PointsPlaceHolderText>\n        </PointsPlaceHolder>\n      ) : (\n        <>\n          <PointsCategoryPicker>\n            <PointsCategoryPointer style={{ transform: `translateX(${position})` }} />\n            <PointsCategory\n              onClick={() => {\n                calculatePointerPosition(0);\n              }}\n              className={activeRating === 0 && 'active'}\n            >\n              Ogólny\n            </PointsCategory>\n            <PointsCategory\n              onClick={() => {\n                calculatePointerPosition(1);\n              }}\n              className={activeRating === 1 && 'active'}\n            >\n              Miesięczny\n            </PointsCategory>\n          </PointsCategoryPicker>\n          <PointsTableHead>\n            <PointsTableHeadItem>Miejsce</PointsTableHeadItem>\n            <PointsTableHeadItemWide>Imię i nazwisko</PointsTableHeadItemWide>\n            <PointsTableHeadItem>Punkty</PointsTableHeadItem>\n          </PointsTableHead>\n          <PointsUser>\n            <PointsUserData>\n              {pointsSorted.findIndex(\n                leader => leader.mail.toLowerCase() === user.mail.toLowerCase()\n              ) + 1}\n            </PointsUserData>\n            <PointsUserDataWide>{user.name}</PointsUserDataWide>\n            <PointsUserData>\n              {pointsSorted[userPlace].points < 0 ? 0 : pointsSorted[userPlace].points}\n            </PointsUserData>\n          </PointsUser>\n          <PointsLeaderboard>\n            {pointsSorted.slice(0, 10).map((leader, i) => (\n              <PointsLeader key={nanoid(8)}>\n                {i <= 2 ? (\n                  <LeaderPlace>{i + 1}</LeaderPlace>\n                ) : (\n                  <UserPlace>{i + 1}</UserPlace>\n                )}\n                <PointsUserDataWide>{leader.name}</PointsUserDataWide>\n                <PointsUserData>{leader.points}</PointsUserData>\n              </PointsLeader>\n            ))}\n          </PointsLeaderboard>\n        </>\n      )}\n    </PointsBox>\n  );\n};\n","import { useRef } from 'react';\nimport eyesImg from '../../../img/quiz/eyes.png';\nimport { CalendarIcon } from '../Attendance/Attendance.styled';\nimport {\n  EyesEmoji,\n  PointsPlaceHolder,\n  PointsPlaceHolderText,\n} from '../Points/Points.styled';\nimport {\n  TimetableBody,\n  TimetableBox,\n  TimetableDaysCell,\n  TimetableDaysItem,\n  TimetableHead,\n  TimetableHeading,\n  TimetableLessonLink,\n  TimetableLessonLinkText,\n  TimetableLessonType,\n  TimetableSpeakings,\n  TimetableTable,\n  TimetableWebinars,\n  TimetableWebinarsHead,\n} from './Timetable.styled';\n\n// const PACKAGEARRAY = [\n//   'online',\n//   'simple',\n//   'student',\n//   'basic',\n//   'standart',\n//   'pro',\n// ];\n\nexport const TimetablePl = ({ user, language, timetable, isMultipleCourses }) => {\n  const userPackage = useRef(user.package === undefined ? 'pro' : user.package);\n  const personalTimetable = timetable.find(timeline =>\n    language === 'enkids' && user.knowledge.includes('beginner')\n      ? timeline.lang === language &&\n        timeline.course === user.course &&\n        timeline.level === user.knowledge\n      : timeline.lang === language && timeline.course === user.course\n  );\n\n  const getLink = () => {\n    const baseStreamUrl = 'https://academy.ap.education/streams/';\n    const baseKidsStreamUrl = 'https://academy.ap.education/streams-kids/';\n    console.log(user.lang);\n    console.log(language);\n    console.log(user.adult === undefined ? true : user.adult);\n    console.log(user.knowledge);\n    console.log(user.package === undefined ? 'student' : user.package);\n    console.log(userPackage.current);\n\n    return language === 'en'\n      ? baseStreamUrl + personalTimetable?.level\n      : language === 'enkids'\n      ? baseKidsStreamUrl + personalTimetable?.level\n      : language === 'de' && personalTimetable?.level !== 'a1'\n      ? baseStreamUrl + 'deutsch' + personalTimetable?.level\n      : language === 'de' && personalTimetable?.level === 'a1'\n      ? baseStreamUrl + 'deutsch'\n      : language === 'dekids'\n      ? baseKidsStreamUrl + 'de' + personalTimetable?.level\n      : language === 'pl' && personalTimetable?.level !== 'a1'\n      ? baseStreamUrl + 'polski' + personalTimetable?.level\n      : language === 'pl' && personalTimetable?.level === 'a1'\n      ? baseStreamUrl + 'polski'\n      : language === 'plkids'\n      ? baseKidsStreamUrl + 'pl' + personalTimetable?.level\n      : baseStreamUrl;\n  };\n  const getSpeakingLink = () => {\n    const baseStreamUrl = 'https://academy.ap.education/streams/';\n    const baseKidsStreamUrl = 'https://academy.ap.education/streams-kids/';\n    return language === 'en'\n      ? baseStreamUrl + personalTimetable?.level + 'sc'\n      : language === 'enkids'\n      ? baseKidsStreamUrl + personalTimetable?.level + 'sc'\n      : baseStreamUrl + language + personalTimetable?.level + 'sc';\n  };\n  const getIndividualLink = () => {\n    const enUrl = 'https://n1313568.alteg.io';\n    const enKidsUrl = 'https://n1313571.alteg.io/';\n    const deUrl = 'https://n1313569.alteg.io';\n    const deKidsUrl = 'https://n1313572.alteg.io/';\n    const plUrl = 'https://n1313570.alteg.io';\n    const plKidsUrl = 'https://n1313573.alteg.io/';\n    return language === 'en'\n      ? enUrl\n      : language === 'enkids'\n      ? enKidsUrl\n      : language === 'de'\n      ? deUrl\n      : language === 'dekids'\n      ? deKidsUrl\n      : language === 'pl'\n      ? plUrl\n      : language === 'plkids'\n      ? plKidsUrl\n      : enUrl;\n  };\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '184px' : '142px',\n    };\n  };\n\n  const link = getLink();\n  const indLink = getIndividualLink();\n  console.log(indLink);\n  const speakingLink = getSpeakingLink();\n\n  const DAYS = ['Pon', 'Wt', 'Śr', 'Czw', 'Pt', 'Sob', 'Nd'];\n\n  return (\n    <TimetableBox style={{ ...panelStyles() }}>\n      <TimetableHeading>\n        <CalendarIcon />\n        Harmonogram zajęć\n      </TimetableHeading>\n      {!personalTimetable ? (\n        <PointsPlaceHolder>\n          <EyesEmoji src={eyesImg} alt=\"Eyes emoji\" width=\"80\" />\n          <PointsPlaceHolderText>\n            Здається, у вас ще немає розкладу!\n          </PointsPlaceHolderText>\n          <PointsPlaceHolderText>\n            Але він з'явиться, коли у вас розпочнуться заняття!\n          </PointsPlaceHolderText>\n        </PointsPlaceHolder>\n      ) : (\n        <TimetableBody>\n          <TimetableWebinars>\n            <TimetableWebinarsHead>\n              <TimetableLessonType>Teoretyczne zajęcia</TimetableLessonType>\n              <TimetableLessonLink href={link} target=\"_blank\">\n                <TimetableLessonLinkText>Przejść do</TimetableLessonLinkText>\n              </TimetableLessonLink>\n            </TimetableWebinarsHead>\n            <TimetableTable>\n              <thead>\n                <tr>\n                  <TimetableHead className=\"day\">Dzień</TimetableHead>\n                  <TimetableHead className=\"time\">Czas</TimetableHead>\n                  <TimetableHead className=\"lessonNumber\">№ lekcja</TimetableHead>\n                  <TimetableHead className=\"teacher\">Wykładowca</TimetableHead>\n                </tr>\n              </thead>\n              <tbody>\n                {personalTimetable.schedule\n                  .filter(\n                    lesson =>\n                      lesson.type === 'webinar' || lesson.type === 'webinar, repeat'\n                  )\n                  .sort((a, b) => a.day - b.day)\n                  .map((lesson, i) => (\n                    <TimetableDaysItem\n                      key={i}\n                      style={\n                        lesson.day === new Date().getDay()\n                          ? { backgroundColor: '#F9C838' }\n                          : {}\n                      }\n                    >\n                      <TimetableDaysCell className=\"day\">\n                        {DAYS[lesson.day - 1]}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"time\">\n                        {lesson.time}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"lessonNumber\">\n                        {lesson.lessonNumber}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"teacher\">\n                        {lesson.teacher}\n                      </TimetableDaysCell>\n                    </TimetableDaysItem>\n                  ))}\n              </tbody>\n            </TimetableTable>\n          </TimetableWebinars>{' '}\n          <TimetableSpeakings>\n            <TimetableWebinarsHead>\n              <TimetableLessonType>Praktyczne zajęcia</TimetableLessonType>\n              <TimetableLessonLink href={speakingLink} target=\"_blank\">\n                <TimetableLessonLinkText>Przejść do</TimetableLessonLinkText>\n              </TimetableLessonLink>\n            </TimetableWebinarsHead>\n            <TimetableTable>\n              <thead>\n                <tr>\n                  <TimetableHead className=\"day\">Dzień</TimetableHead>\n                  <TimetableHead className=\"time\">Czas</TimetableHead>\n                  <TimetableHead className=\"lessonNumber\">№ lekcja</TimetableHead>\n                  <TimetableHead className=\"teacher\">Wykładowca</TimetableHead>\n                </tr>\n              </thead>\n              <tbody>\n                {personalTimetable.schedule\n                  .filter(lesson => lesson.type === 'speaking')\n                  .sort((a, b) => a.day - b.day)\n                  .map((lesson, i) => (\n                    <TimetableDaysItem\n                      key={i}\n                      style={\n                        lesson.day === new Date().getDay()\n                          ? { backgroundColor: '#F9C838' }\n                          : {}\n                      }\n                    >\n                      <TimetableDaysCell className=\"day\">\n                        {DAYS[lesson.day - 1]}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"time\">\n                        {lesson.time}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"lessonNumber\">\n                        {lesson.lessonNumber}\n                      </TimetableDaysCell>\n                      <TimetableDaysCell className=\"teacher\">\n                        {lesson.teacher}\n                      </TimetableDaysCell>\n                    </TimetableDaysItem>\n                  ))}\n              </tbody>\n            </TimetableTable>\n          </TimetableSpeakings>\n          {/* {userPackage.current !== 'simple' && userPackage.current !== 'student' && (\n            <TimetableSpeakings>\n              <TimetableWebinarsHead>\n                <TimetableLessonType>Індивідуальні заняття</TimetableLessonType>\n                <TimetableLessonLink href={indLink} target=\"_blank\">\n                  <TimetableLessonLinkText>Перейти</TimetableLessonLinkText>\n                </TimetableLessonLink>\n              </TimetableWebinarsHead>\n            </TimetableSpeakings>\n          )} */}\n        </TimetableBody>\n      )}\n    </TimetableBox>\n  );\n};\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport {\n  APPanel,\n  APPanelBtn,\n  CalendarBtnIcon,\n  CupBtnIcon,\n  FeedbackBtnIcon,\n  PanelBackdrop,\n  PanelHideLeftSwitch,\n  PanelHideRightSwitch,\n  PanelHideSwitch,\n  SearchBtnIcon,\n  TimetableBtnIcon,\n} from './MyAPPanel.styled';\n\nimport { MyAPStudentChartPl } from 'pages/TeacherPage/StudentChart/MyAPStudentChartPl';\nimport { AttendancePl } from '../Attendance/AttendancePl';\nimport { LessonFinderPl } from '../LessonFinder/LessonFinderPl';\nimport { PointsPl } from '../Points/PointsPl';\nimport { TimetablePl } from '../Timetable.jsx/TimetablePl';\n\naxios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n\nexport const MyAPPanelPl = ({\n  lessons,\n  link,\n  user,\n  language,\n  points,\n  timetable,\n  marathonLink,\n  montlyPoints,\n  isMultipleCourses,\n  setPlatformIframeLink,\n  languageIndex,\n  setLanguage,\n  setLanguageIndex,\n}) => {\n  const [isBackdropShown, setIsBackdropShown] = useState(false);\n  const [isLessonFinderShown, setIsLessonFinderShown] = useState(false);\n  const [isRatingShown, setIsRatingShown] = useState(false);\n  const [isCalendarShown, setIsCalendarShown] = useState(false);\n  const [isTimetableShown, setIsTimetableShown] = useState(false);\n  const [isFeedbackShown, setIsFeedbackShown] = useState(false);\n  const [isButtonBoxShown, setIsButtonBoxShown] = useState(true);\n  const [currentStudentChart, setCurrentStudentChart] = useState({});\n  // const [isDisclaimerTimeoutActive, setIsDisclaimerTimeoutActive] =\n  //   useState(false);\n  // const [isMarathonBtnShown, setIsMarathonBtnShown] = useState(false);\n  // const [isMarathonBtnClicked, setIsMarathonBtnClicked] = useState(false);\n\n  const personalTimetable = timetable.find(timeline =>\n    language === 'enkids' && user.knowledge.includes('beginner')\n      ? timeline.lang === language &&\n        timeline.course === user.course &&\n        timeline.level === user.knowledge\n      : timeline.lang === language && timeline.course === user.course\n  );\n\n  const personalLessonsDays = personalTimetable.schedule.map(lesson => lesson.day);\n\n  const toggleButtonBox = () => {\n    hideBackdrop();\n    setIsButtonBoxShown(isShown => !isShown);\n  };\n\n  const pointsByLang = Object.keys(points)\n    .filter(\n      key =>\n        (key.includes(language) && key.length === (language + user.knowledge).length) ||\n        (key.includes(language) && key.includes('done'))\n    )\n    .reduce((obj, key) => {\n      obj[key] = points[key];\n      return obj;\n    }, {});\n\n  const monthlyPointsByLang = Object.keys(montlyPoints)\n    .filter(\n      key =>\n        (key.includes(language) && key.length === (language + user.knowledge).length) ||\n        (key.includes(language) && key.includes('done'))\n    )\n    .reduce((obj, key) => {\n      obj[key] = montlyPoints[key];\n      return obj;\n    }, {});\n  const flatPoints = Object.values(pointsByLang).flatMap(user => user);\n  const flatMonthlyPoints = Object.values(monthlyPointsByLang).flatMap(user => user);\n\n  console.log(user);\n\n  const hideBackdrop = () => {\n    setIsBackdropShown(false);\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n    setIsFeedbackShown(false);\n  };\n\n  const toggleSearch = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isCalendarShown || !isTimetableShown || !isFeedbackShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isCalendarShown &&\n      !isTimetableShown &&\n      !isFeedbackShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n    setIsFeedbackShown(false);\n    setIsLessonFinderShown(isLessonFinderShown => !isLessonFinderShown);\n  };\n\n  const toggleRating = () => {\n    !isBackdropShown &&\n      (!isLessonFinderShown ||\n        !isCalendarShown ||\n        !isTimetableShown ||\n        !isFeedbackShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isLessonFinderShown &&\n      !isCalendarShown &&\n      !isTimetableShown &&\n      !isFeedbackShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n    setIsFeedbackShown(false);\n    setIsRatingShown(isRatingShown => !isRatingShown);\n  };\n\n  const toggleCalendar = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isLessonFinderShown || !isTimetableShown || !isFeedbackShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isLessonFinderShown &&\n      !isTimetableShown &&\n      !isFeedbackShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsTimetableShown(false);\n    setIsFeedbackShown(false);\n    setIsCalendarShown(isCalendarShown => !isCalendarShown);\n  };\n\n  const toggleTimetable = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isLessonFinderShown || !isCalendarShown || !isFeedbackShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isLessonFinderShown &&\n      !isCalendarShown &&\n      !isFeedbackShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsFeedbackShown(false);\n    setIsTimetableShown(isTimetableShown => !isTimetableShown);\n  };\n\n  const toggleFeedback = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isLessonFinderShown || !isTimetableShown || !isCalendarShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isLessonFinderShown &&\n      !isTimetableShown &&\n      !isCalendarShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsTimetableShown(false);\n    setIsCalendarShown(false);\n    setIsFeedbackShown(isFeedbackShown => !isFeedbackShown);\n  };\n\n  const toggleTooltip = e => {\n    // !isDisclaimerTimeoutActive &&\n    e.currentTarget.classList.toggle('tooltip-open');\n  };\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '145px' : '129px',\n    };\n  };\n\n  // const toggleTooltipTimeout = () => {\n  //   const resetBtnEl = document.querySelector('#reset-btn');\n\n  //   if (isDisclaimerTimeoutActive) {\n  //     setTimeout(() => {\n  //       resetBtnEl.classList.add('tooltip-open');\n  //     }, 10000);\n\n  //     setTimeout(() => {\n  //       resetBtnEl.classList.remove('tooltip-open');\n  //       setIsDisclaimerTimeoutActive(false);\n  //     }, 20000);\n  //   }\n  // };\n\n  // const toggleLangTooltipTimeout = () => {\n  //   const resetBtnEl = document.querySelector('#toggle-btn');\n\n  //   if (isDisclaimerTimeoutActive) {\n  //     setTimeout(() => {\n  //       resetBtnEl.classList.add('tooltip-open');\n  //     }, 10000);\n\n  //     setTimeout(() => {\n  //       resetBtnEl.classList.remove('tooltip-open');\n  //       setIsDisclaimerTimeoutActive(false);\n  //     }, 20000);\n  //   }\n  // };\n\n  // const toggleMarathonButtonTimeout = () => {\n  //   if (!isMarathonBtnClicked) {\n  //     setTimeout(() => {\n  //       setIsMarathonBtnShown(true);\n  //     }, 15000);\n  //   }\n  // };\n\n  useEffect(() => {\n    const onEscapeClose = event => {\n      if (event.code === 'Escape' && isBackdropShown) {\n        hideBackdrop();\n      }\n    };\n\n    const getLastFeedback = async () => {\n      try {\n        const userToSet = await axios.get(`/speakingusers/${user.id}`);\n        console.log(258, userToSet);\n        setCurrentStudentChart(user => (user = userToSet.data));\n        console.log('eff');\n      } catch (error) {\n        console.log(error);\n      } finally {\n        // setIsLoading(isLoading => (isLoading = false));\n      }\n    };\n    getLastFeedback();\n    // toggleTooltipTimeout();\n    // toggleLangTooltipTimeout();\n    // toggleMarathonButtonTimeout();\n\n    window.addEventListener('keydown', onEscapeClose);\n\n    return () => {\n      window.removeEventListener('keydown', onEscapeClose);\n    };\n  }, [isBackdropShown, user.id]);\n\n  return (\n    <>\n      <PanelBackdrop onClick={hideBackdrop} className={isBackdropShown ? '' : 'hidden'} />\n\n      <PanelHideSwitch id=\"no-transform\" onClick={toggleButtonBox}>\n        {isButtonBoxShown ? <PanelHideRightSwitch /> : <PanelHideLeftSwitch />}\n      </PanelHideSwitch>\n      {/* {isMarathonBtnShown && (\n        <IframeMarathonLinkPanel>\n          <IframeMarathonText>\n            <IframeMarathonPointerText>\n              Натисніть на цю кнопку, щоб перейти до марафону\n            </IframeMarathonPointerText>\n            <IframeMarathonPointerLinkIcon />\n          </IframeMarathonText>\n          <APPanelMarathonBtn\n            id=\"marathon-btn\"\n            onClick={() => {\n              setIsMarathonBtnShown(false);\n              setIsMarathonBtnClicked(true);\n              setPlatformIframeLink(marathonLink + ' ');\n            }}\n          >\n            <APPanelMarathonBtnText>МАРАФОН</APPanelMarathonBtnText>\n          </APPanelMarathonBtn>\n        </IframeMarathonLinkPanel>\n      )} */}\n      <APPanel className={isButtonBoxShown ? '' : 'hidden'} style={{ ...panelStyles() }}>\n        {/* {isMultipleCourses && (\n          <IframeResetLinkButton className={isMultipleCourses ? 'multiple' : ''}>\n            <APPanelToggleBtn\n              id=\"toggle-btn\"\n              onMouseEnter={e => toggleTooltip(e)}\n              onMouseOut={e => toggleTooltip(e)}\n              onClick={() => {\n                console.log(link);\n                setLanguage(\n                  language =>\n                    (language =\n                      languageIndex + 1 < user.lang.split('/').length\n                        ? user.lang.split('/')[languageIndex + 1]\n                        : user.lang.split('/')[0])\n                );\n                setLanguageIndex(\n                  index =>\n                    (index = index + 1 < user.lang.split('/').length ? index + 1 : 0)\n                );\n              }}\n            >\n              <LangIcon\n                src={language.includes('de') ? de : language.includes('pl') ? pl : en}\n              />\n            </APPanelToggleBtn>\n          </IframeResetLinkButton>)} \n        */}\n        <APPanelBtn\n          onClick={toggleSearch}\n          onMouseEnter={e => toggleTooltip(e)}\n          onMouseOut={e => toggleTooltip(e)}\n        >\n          <SearchBtnIcon id=\"search-btn\" className={isLessonFinderShown && 'active'} />\n        </APPanelBtn>\n        {user.package !== 'online' && (\n          <APPanelBtn\n            onClick={toggleRating}\n            onMouseEnter={e => toggleTooltip(e)}\n            onMouseOut={e => toggleTooltip(e)}\n          >\n            <CupBtnIcon id=\"rating-btn\" className={isRatingShown && 'active'} />\n          </APPanelBtn>\n        )}\n        {user.package !== 'online' && (\n          <APPanelBtn\n            onClick={toggleFeedback}\n            onMouseEnter={e => toggleTooltip(e)}\n            onMouseOut={e => toggleTooltip(e)}\n          >\n            <FeedbackBtnIcon id=\"feedback-btn\" className={isFeedbackShown && 'active'} />\n          </APPanelBtn>\n        )}\n        {user.package !== 'online' && (\n          <APPanelBtn\n            onClick={toggleCalendar}\n            onMouseEnter={e => toggleTooltip(e)}\n            onMouseOut={e => toggleTooltip(e)}\n          >\n            <CalendarBtnIcon id=\"calendar-btn\" className={isCalendarShown && 'active'} />\n          </APPanelBtn>\n        )}\n        {user.package !== 'online' && (\n          <APPanelBtn\n            onClick={toggleTimetable}\n            onMouseEnter={e => toggleTooltip(e)}\n            onMouseOut={e => toggleTooltip(e)}\n          >\n            <TimetableBtnIcon\n              className={isTimetableShown && 'active'}\n              id=\"timetable-btn\"\n            />\n          </APPanelBtn>\n        )}\n        {/* <APPanelInstructionsPanel>\n          <APPanelBtn onClick={toggleSearch}>\n            <GuideBtnIcon className={isLessonFinderShown && 'active'} />\n          </APPanelBtn>\n        </APPanelInstructionsPanel> */}\n      </APPanel>\n\n      {isLessonFinderShown && (\n        <LessonFinderPl\n          lessons={lessons}\n          user={user}\n          language={language}\n          setPlatformIframeLink={setPlatformIframeLink}\n          isMultipleCourses={isMultipleCourses}\n        />\n      )}\n      {isRatingShown && (\n        <PointsPl\n          user={user}\n          flatPoints={flatPoints}\n          flatMonthlyPoints={flatMonthlyPoints}\n          isMultipleCourses={isMultipleCourses}\n        />\n      )}\n      {isCalendarShown && (\n        <AttendancePl\n          user={user}\n          personalLessonsDays={personalLessonsDays}\n          isMultipleCourses={isMultipleCourses}\n        />\n      )}\n      {isFeedbackShown && (\n        <MyAPStudentChartPl currentStudentChart={currentStudentChart} />\n      )}\n      {isTimetableShown && (\n        <TimetablePl\n          user={user}\n          language={language}\n          timetable={timetable}\n          isMultipleCourses={isMultipleCourses}\n        />\n      )}\n    </>\n  );\n};\n","import axios from 'axios';\nimport {\n  Label,\n  LeftFormBackgroundStar,\n  RightFormBackgroundStar,\n} from 'components/LeadForm/LeadForm.styled';\nimport {\n  LoginErrorNote,\n  LoginFormText,\n  StreamSection,\n} from 'components/Stream/Stream.styled';\nimport { Formik } from 'formik';\nimport {\n  AdminFormBtn,\n  AdminInput,\n  AdminInputNote,\n  LoginForm,\n} from 'pages/Streams/AdminPanel/AdminPanel.styled';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport * as yup from 'yup';\nimport { MyPlatform } from './My Platform/MyPlatform';\nimport {\n  ChatButtonHideSwitch,\n  PanelHideLeftSwitch,\n  PanelHideRightSwitch,\n} from './MyAPPanel/MyAPPanel.styled';\nimport { MyAPPanelPl } from './MyAPPanel/MyAPPanelPl';\n\nconst MyAPPl = () => {\n  const [isUserLogged, setIsUserLogged] = useState(false);\n  const [lessons, setLessons] = useState(false);\n  const [points, setPoints] = useState({});\n  const [timetable, setTimetable] = useState({});\n  const [montlyPoints, setMonthlyPoints] = useState({});\n  const [user, setUser] = useState({});\n  const [languageIndex, setLanguageIndex] = useState(0);\n  const [language, setLanguage] = useState('');\n  const [platformLink, setPlatformLink] = useState(`https://online.ap.education/`);\n  const [isMultipleCourses, setIsMultipleCourses] = useState(false);\n  axios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n  const location = useLocation();\n\n  const [isChatButtonShown, setIsChatButtonShown] = useState(\n    localStorage.getItem('ischatboxshown') === 'true' ? true : false\n  );\n  const [isUserInfoIncorrect, setIsUserInfoIncorrect] = useState(false);\n\n  const toggleChatButton = () => {\n    setIsChatButtonShown(isShown => !isShown);\n    localStorage.setItem('ischatboxshown', !isChatButtonShown);\n  };\n\n  useEffect(() => {\n    document.title = 'My AP | AP Education';\n\n    const refreshToken = async () => {\n      console.log('token refresher');\n      try {\n        const res = await axios.post('/users/refresh', {\n          mail: localStorage.getItem('mail'),\n        });\n        setIsUserLogged(isLogged => (isLogged = true));\n        console.log(73, res.data.user.platformToken);\n        setUser(user => (user = { ...res.data.user }));\n        const lang = res.data.user.lang.split('/');\n        if (lang.length > 1 && !language) {\n          setIsMultipleCourses(true);\n          setLanguage(lang[languageIndex]);\n        } else if (lang.length <= 1) {\n          setLanguage(res.data.user.lang);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    refreshToken();\n\n    const getLessons = async () => {\n      console.log('lessons getter');\n      try {\n        const res = await axios.get('/lessons');\n        console.log(res);\n        setLessons(lessons => (lessons = [...res.data]));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getLessons();\n\n    const getRating = async () => {\n      console.log('ratings getter');\n      try {\n        const res = await axios.get('/ratings');\n        setPoints(points => (points = { ...res.data[0].rating }));\n        setMonthlyPoints(points => (points = { ...res.data[1].rating }));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getRating();\n\n    const getTimetable = async () => {\n      console.log('timetable getter');\n      try {\n        const res = await axios.get('/timetable');\n        console.log(res);\n        setTimetable(timetable => (timetable = res.data));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getTimetable();\n\n    const setIframeLinks = async () => {\n      const authLink = user.platformToken\n        ? `https://online.ap.education/Account/LoginByToken?token=${\n            user.platformToken\n          }&redirectUrl=${encodeURIComponent(\n            `https://online.ap.education/cabinet/student/lessons`\n          )}`\n        : `https://online.ap.education/cabinet/student/lessons`;\n\n      setPlatformLink(link => (link = authLink));\n    };\n\n    setIframeLinks();\n  }, [\n    language,\n    languageIndex,\n    isChatButtonShown,\n    user.pupilId,\n    user.marathonNumber,\n    user.platformToken,\n  ]);\n\n  const setAuthToken = token => {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  };\n\n  const initialLoginValues = {\n    mail: '',\n    password: '',\n  };\n\n  const loginSchema = yup.object().shape({\n    mail: yup\n      .string()\n      .required(\n        'Podaj adres e-mail, za pomocą którego jesteś zarejestrowany na naszej platformie!'\n      ),\n    password: yup\n      .string()\n      .required('Podaj parol, którego używasz do logowania się na naszej platformie!'),\n  });\n\n  const handleLoginSubmit = async (values, { resetForm }) => {\n    values.mail = values.mail.toLowerCase().trim().trimStart();\n    values.password = values.password.trim().trimStart();\n    try {\n      const response = await axios.post('/users/login', values);\n      console.log(response);\n\n      setAuthToken(response.data.token);\n      setIsUserLogged(isLogged => (isLogged = true));\n      setUser(user => (user = { ...response.data.user }));\n      const lang = response.data.user.lang.split('/');\n      if (lang.length > 1) {\n        setLanguage(lang[0]);\n        setIsMultipleCourses(true);\n      }\n      localStorage.setItem('mail', values.mail);\n      setIsUserInfoIncorrect(false);\n      resetForm();\n    } catch (error) {\n      error.response.status === 401 && setIsUserInfoIncorrect(true);\n      console.error(error);\n    }\n  };\n\n  const setPlatformIframeLink = iframeLink => {\n    location.search = '';\n    setPlatformLink(link => (link = iframeLink));\n  };\n\n  return (\n    <StreamSection>\n      {!isUserLogged ? (\n        <Formik\n          initialValues={initialLoginValues}\n          onSubmit={handleLoginSubmit}\n          validationSchema={loginSchema}\n        >\n          <LoginForm>\n            <LeftFormBackgroundStar />\n            <RightFormBackgroundStar />\n            <LoginFormText>\n              Dzień dobry!\n              <br />\n              Ta strona nie jest dostępna dla nieautoryzowanych użytkowników. Jeśli jednak\n              masz dostęp do naszej platformy, to ta strona również ją ma. Wchodzić dane,\n              których używasz do logowania się na platformie.\n            </LoginFormText>\n            <Label>\n              <AdminInput\n                type=\"text\"\n                name=\"mail\"\n                placeholder=\"Login\"\n                onBlur={() => setIsUserInfoIncorrect(false)}\n              />\n              <AdminInputNote component=\"p\" name=\"mail\" type=\"email\" />\n            </Label>\n            <Label>\n              <AdminInput\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                onBlur={() => setIsUserInfoIncorrect(false)}\n              />\n              <AdminInputNote component=\"p\" name=\"password\" />\n            </Label>\n            <AdminFormBtn type=\"submit\">Zaloguj się</AdminFormBtn>\n            <LoginErrorNote\n              style={isUserInfoIncorrect ? { opacity: '1' } : { opacity: '0' }}\n            >\n              Podany login lub parol są nieprawidłowe!\n            </LoginErrorNote>\n          </LoginForm>\n        </Formik>\n      ) : (\n        <>\n          {Object.values(points).length > 0 && (\n            <MyAPPanelPl\n              lessons={lessons}\n              user={user}\n              points={points}\n              montlyPoints={montlyPoints}\n              link={platformLink}\n              isMultipleCourses={isMultipleCourses}\n              setPlatformIframeLink={setPlatformIframeLink}\n              language={language}\n              setLanguage={setLanguage}\n              languageIndex={languageIndex}\n              setLanguageIndex={setLanguageIndex}\n              timetable={timetable}\n            />\n          )}\n          <MyPlatform platformLink={platformLink} />\n          <ChatButtonHideSwitch id=\"no-transform\" onClick={toggleChatButton}>\n            {isChatButtonShown ? <PanelHideRightSwitch /> : <PanelHideLeftSwitch />}\n          </ChatButtonHideSwitch>\n        </>\n      )}\n    </StreamSection>\n  );\n};\n\nexport default MyAPPl;\n"],"names":["axios","regex","linksRegex","MyAPStudentChartPl","_ref","currentStudentChart","data","area","name","activity","grammar","speaking","lexis","listening","MyResponsiveRadar","_ref2","_jsx","ResponsiveRadar","curve","keys","indexBy","maxValue","valueFormat","margin","document","body","getClientRects","width","top","right","bottom","left","borderColor","from","gridLevels","gridLabelOffset","dotSize","dotColor","theme","dotBorderWidth","colors","scheme","fillOpacity","blendMode","motionConfig","text","fontSize","_Fragment","children","_jsxs","MyAPStudentChartArea","EditFormHeader","id","FeedbackText","dangerouslySetInnerHTML","__html","feedback","length","replace","match","concat","slice","trim","split","join","ChartAreaLimiter","MyAPGradientBg","AttendancePl","user","personalLessonsDays","isMultipleCourses","week","setWeek","useState","Date","getDate","getDay","month","setMonth","getMonth","year","setYear","getFullYear","lessonDaysForWeek","SetLessonDaysForWeek","lessonDaysForMonth","SetLessonDaysForMonth","lessonDaysForYear","SetLessonDaysForYear","DATES_TO_EXCLUDE","useMemo","useEffect","getLessonDaysForWeeks","date","sunday","lessonDays","setDate","i","includes","push","toISOString","days","getLessonDaysForMonths","getLessonDaysForYears","editDateFormat","calculateMonthlyVisits","passedMonth","lessonDaysForPassedMonth","map","lessonDay","visited","filter","calculateSetWeeklyVisits","passedWeek","passedWeekLessonDays","passedDay","getLessonDaysOfPassedWeek","day","calculateWeeklyUnattended","dateToSlice","getLessonDayIndex","findIndex","currentDay","futureDays","calculateMonthlyUnattended","AttendanceBox","style","AttendanceHeading","AttendanceIcon","AttendanceVisitedBox","MonthSwitchBox","AttendanceBtn","disabled","onClick","decreaseWeek","AttendanceArrowLeft","className","AttendancePeriod","calculateWeekPeriod","firstDayOfWeekDate","lastDayOfWeekDate","increaseWeek","AttendanceArrowRight","VisitedList","VisitedItem","AttendancePointsBox","AttendanceFlex","VisitedText","AttendancePoints","AttendancePointsContainer","calculatePoints","visitedWithinWeek","AttendancePlus","AttendanceMinus","AttendanceEmpty","VisitedCounter","calculateWeeklyVisits","console","log","VisitedTotal","color","decreaseMonth","firstDayOfPreviousMonth","visitedThisMonth","firstVisitedDayOfPreviousMonth","increaseMonth","firstDayOfNextMonth","firstVisitedDayOfNextMonth","VisitedYearBox","calculateYearlyVisits","AttendanceDebugList","LessonFinderPl","lessons","language","setPlatformIframeLink","lessonsFound","setLessonsFound","isPdfPreviewOpen","setIsPdfPreviewOpen","openedPdf","setOpenedPdf","isFaqListOpen","setIsFaqListOpen","openedFaq","setOpenedFaq","answers","setAnswers","answersFound","setAnswersFound","isAnswerOpen","setIsAnswerOpen","openedAnswer","setOpenedAnswer","isInputEmpty","setIsInputEmpty","path","window","location","origin","pathname","findLesson","e","value","target","lesson","lessonLevelNumber","level","trimStart","keysEn","toLowerCase","keysUa","topic","lang","sessionStorage","setItem","findAnswer","answer","question","exercise","toggleTooltip","currentTarget","classList","toggle","closePdfPreviewOnMouseOut","pdf","isOpen","toggleAnswer","openAnswer","FinderBox","FinderLabel","FinderIcon","FinderInput","getItem","autoFocus","onFocus","onChange","placeholder","FinderLessons","LessonBox","LessonBoxItem","LessonTopBox","LessonValuesLogo","LessonTextValuesBox","LessonValueName","LessonLinksBox","LessonInternalLinkButton","onMouseEnter","onMouseOut","marathonId","pupilId","lessonId","InternalLinkIcon","LessonExternalLinkButton","open","ExternalLinkIcon","LessonValueTopic","video","LessonVideoBox","ReactPlayer","loop","muted","controls","display","position","height","url","PdfBox","onMouseLeave","PdfWrapper","openPdfPreviewOnHover","onTouchEnd","togglePdfPreviewOnTouch","pdfId","pdfOpener","PdfIcon","LessonValuePdfLink","rel","to","parse","PdfPreviewBackground","PdfPreview","title","src","allow","faq","FaqBox","FaqListTrigger","_id","toggleFaq","FaqListDescription","FaqListQuestionMarkBG","FaqListQuestionMark","FaqSwitchUp","FaqSwitchDown","FaqFinderLabel","FaqFinderInput","FaqFinderIcon","FaqList","q","FaqListItem","FaqListLink","FaqQuestion","FaqPreviewBackground","FinderMolding","PointsPl","flatPoints","flatMonthlyPoints","setPosition","activeRating","setActiveRating","pointsSorted","student","course","sort","a","b","points","userPlace","leader","mail","calculatePointerPosition","PointsBox","PointsBoxHeading","CupIcon","PointsPlaceHolder","EyesEmoji","eyesImg","alt","PointsPlaceHolderText","PointsCategoryPicker","PointsCategoryPointer","transform","PointsCategory","PointsTableHead","PointsTableHeadItem","PointsTableHeadItemWide","PointsUser","PointsUserData","PointsUserDataWide","PointsLeaderboard","PointsLeader","LeaderPlace","UserPlace","nanoid","TimetablePl","timetable","userPackage","useRef","undefined","package","personalTimetable","find","timeline","knowledge","link","getLink","baseStreamUrl","baseKidsStreamUrl","adult","current","indLink","getIndividualLink","enUrl","speakingLink","getSpeakingLink","DAYS","TimetableBox","TimetableHeading","CalendarIcon","TimetableBody","TimetableWebinars","TimetableWebinarsHead","TimetableLessonType","TimetableLessonLink","href","TimetableLessonLinkText","TimetableTable","TimetableHead","schedule","type","TimetableDaysItem","backgroundColor","TimetableDaysCell","time","lessonNumber","teacher","TimetableSpeakings","MyAPPanelPl","marathonLink","montlyPoints","languageIndex","setLanguage","setLanguageIndex","isBackdropShown","setIsBackdropShown","isLessonFinderShown","setIsLessonFinderShown","isRatingShown","setIsRatingShown","isCalendarShown","setIsCalendarShown","isTimetableShown","setIsTimetableShown","isFeedbackShown","setIsFeedbackShown","isButtonBoxShown","setIsButtonBoxShown","setCurrentStudentChart","pointsByLang","Object","key","reduce","obj","monthlyPointsByLang","values","flatMap","hideBackdrop","onEscapeClose","event","code","async","userToSet","error","getLastFeedback","addEventListener","removeEventListener","PanelBackdrop","PanelHideSwitch","toggleButtonBox","isShown","PanelHideRightSwitch","PanelHideLeftSwitch","APPanel","APPanelBtn","toggleSearch","SearchBtnIcon","toggleRating","CupBtnIcon","toggleFeedback","FeedbackBtnIcon","toggleCalendar","CalendarBtnIcon","toggleTimetable","TimetableBtnIcon","MyAPPl","isUserLogged","setIsUserLogged","setLessons","setPoints","setTimetable","setMonthlyPoints","setUser","platformLink","setPlatformLink","setIsMultipleCourses","useLocation","isChatButtonShown","setIsChatButtonShown","localStorage","isUserInfoIncorrect","setIsUserInfoIncorrect","res","isLogged","platformToken","refreshToken","getLessons","rating","getRating","getTimetable","authLink","encodeURIComponent","setIframeLinks","marathonNumber","loginSchema","yup","shape","required","password","StreamSection","iframeLink","search","MyPlatform","ChatButtonHideSwitch","toggleChatButton","Formik","initialValues","onSubmit","resetForm","response","token","status","validationSchema","LoginForm","LeftFormBackgroundStar","RightFormBackgroundStar","LoginFormText","Label","AdminInput","onBlur","AdminInputNote","component","AdminFormBtn","LoginErrorNote","opacity"],"sourceRoot":""}