"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[6486],{50538:(s,i,e)=>{e.r(i),e.d(i,{default:()=>O});var o=e(55294),t=e(97723),n=e(8313),c=e(55705),l=e(72791),r=e(8007),a=e(21212),d=e(33682),p=e(41094),h=e(45347),g=e(85997),j=e(30639),u=e(88224),x=e(7180),m=e(27235),_=e(66347),w=e(82606),k=e(23918),C=e(21309),S=e(80184);o.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const P=s=>{o.Z.defaults.headers.common.Authorization="Bearer ".concat(s)},O=()=>{const[s,i]=(0,l.useState)(!1),[e,O]=(0,l.useState)(!1),[f,y]=(0,l.useState)([]),b="/unihostkahoots";(0,l.useEffect)((()=>{document.title="Pl University Host Kahoot Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const s=await o.Z.post("admins/refresh/kahoot/",{});console.log(s),O((s=>!0)),P(s.data.newToken)}}catch(s){console.log(s)}})()}),[e]);const L=r.Ry().shape({login:r.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:r.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),W=s=>{f.includes(s)?y((i=>[...i].filter((i=>i!==s)))):y((i=>[...i,s]))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(p.Kq,{children:[!e&&(0,S.jsx)(c.J9,{initialValues:{login:"",password:""},onSubmit:async(s,e)=>{let{resetForm:t}=e;i((s=>!0));try{const e=await o.Z.post("/admins/login/kahoot",s);P(e.data.token),O((s=>!0)),localStorage.setItem("isAdmin",!0),t()}catch(n){console.error(n)}finally{i((s=>!1))}},validationSchema:L,children:(0,S.jsxs)(p.U0,{children:[(0,S.jsxs)(t.__,{children:[(0,S.jsx)(p.vD,{type:"text",name:"login",placeholder:"Login"}),(0,S.jsx)(p.aC,{component:"p",name:"login"})]}),(0,S.jsxs)(t.__,{children:[(0,S.jsx)(p.vD,{type:"password",name:"password",placeholder:"Password"}),(0,S.jsx)(p.aC,{component:"p",name:"password"})]}),(0,S.jsx)(p.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),e&&(0,S.jsxs)(p.XP,{children:[(0,S.jsx)(p.Os,{onClick:()=>W("pedagogium_logistics"),children:"Pedagogium Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("pedagogium_prep"),children:"Pedagogium Prep"}),(0,S.jsx)(p.Os,{onClick:()=>W("wstijo_logistics"),children:"WSTIJO Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("wstijo_prep"),children:"WSTIJO Prep"}),(0,S.jsx)(p.Os,{onClick:()=>W("wsbmir_logistics"),children:"WSBMIR Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("wsbmir_prep"),children:"WSBMIR Prep"}),(0,S.jsx)(p.Os,{onClick:()=>W("ewspa_logistics"),children:"EWSPA Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("ewspa_prep"),children:"EWSPA Prep"}),(0,S.jsx)(p.Os,{onClick:()=>W("merito_logistics"),children:"Merito Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("merito_prep"),children:"Merito Prep"}),(0,S.jsx)(p.Os,{onClick:()=>W("wstih_logistics"),children:"WSTiH Logistics"}),(0,S.jsx)(p.Os,{onClick:()=>W("wstih_prep"),children:"WSTiH Prep"})]}),(0,S.jsxs)(p.YT,{children:[f.includes("pedagogium_logistics")&&(0,S.jsx)(j.J,{destination:b}),f.includes("pedagogium_prep")&&(0,S.jsx)(u.K,{destination:b}),f.includes("wstijo_logistics")&&(0,S.jsx)(_.J,{destination:b}),f.includes("wstijo_prep")&&(0,S.jsx)(w.J,{destination:b}),f.includes("wsbmir_logistics")&&(0,S.jsx)(x.B,{destination:b}),f.includes("wsbmir_prep")&&(0,S.jsx)(m.L,{destination:b}),f.includes("ewspa_logistics")&&(0,S.jsx)(a.V,{destination:b}),f.includes("ewspa_prep")&&(0,S.jsx)(d.S,{destination:b}),f.includes("merito_logistics")&&(0,S.jsx)(h.F,{destination:b}),f.includes("merito_prep")&&(0,S.jsx)(g.G,{destination:b}),f.includes("wstih_logistics")&&(0,S.jsx)(k.v,{destination:b}),f.includes("wstih_prep")&&(0,S.jsx)(C.l,{destination:b})]}),s&&(0,S.jsx)(n.a,{})]})})}}}]);
//# sourceMappingURL=Pl University Host Kahoots Admin Panel page.3ac81772.chunk.js.map