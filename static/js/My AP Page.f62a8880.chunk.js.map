{"version":3,"file":"static/js/My AP Page.f62a8880.chunk.js","mappings":"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","sources":["pages/MyAP/My Platform/MyPlatform.styled.js","pages/MyAP/My Platform/MyPlatform.jsx","img/svg/attendance-empty.svg","img/svg/attendance-minus.svg","img/svg/attendance-plus.svg","pages/MyAP/Attendance/Attendance.styled.js","pages/MyAP/Attendance/Attendance.jsx","pages/MyAP/LessonFinder/LessonFinder.jsx","pages/MyAP/Points/Points.styled.js","pages/MyAP/Points/Points.jsx","pages/MyAP/Timetable.jsx/Timetable.styled.js","pages/MyAP/Timetable.jsx/Timetable.jsx","pages/MyAP/MyAPPanel/MyAPPanel.jsx","pages/MyAP/MyAP.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MyPlatformBox = styled.div`\n  height: 100vh;\n  width: 100vw;\n\n  overflow: hidden;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  font-family: var(--streams-font-family);\n\n  transition: transform var(--animation-global);\n\n  &.hidden {\n    transform: translateX(-100%);\n  }\n\n  &.shown {\n    transform: translateX(0);\n  }\n`;","import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { MyPlatformBox } from './MyPlatform.styled';\n\nexport const MyPlatform = ({ platformLink }) => {\n  const [src, setSrc] = useState('https://online.ap.education/school/');\n  const location = useLocation().search.slice(1);\n\n  useEffect(() => {\n    const setIframeSRC = () => {\n      !platformLink && !location\n        ? setSrc('https://online.ap.education/school/')\n        : !location\n        ? setSrc(platformLink)\n        : setSrc(location);\n    };\n\n    setIframeSRC();\n  }, [platformLink, location]);\n\n  return (\n    <>\n      <MyPlatformBox>\n        <iframe\n          id=\"platform-window\"\n          title=\"platform-pin\"\n          src={src}\n          width=\"100%\"\n          height=\"100%\"\n          allow='microphone *'\n        ></iframe>\n      </MyPlatformBox>\n    </>\n  );\n};\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgAttendanceEmpty(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"empty\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.92 22C17.42 22 21.92 17.5 21.92 12C21.92 6.5 17.42 2 11.92 2C6.42001 2 1.92001 6.5 1.92001 12C1.92001 17.5 6.42001 22 11.92 22Z\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAttendanceEmpty);\nexport default __webpack_public_path__ + \"static/media/attendance-empty.f9d42d6686e4a3de88ebb29a1b500f07.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgAttendanceMinus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"minus\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 25,\n    height: 24,\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.42 22C17.92 22 22.42 17.5 22.42 12C22.42 6.5 17.92 2 12.42 2C6.92001 2 2.42001 6.5 2.42001 12C2.42001 17.5 6.92001 22 12.42 22Z\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.42001 12H16.42\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAttendanceMinus);\nexport default __webpack_public_path__ + \"static/media/attendance-minus.041a5f87aedfebcfd6b40bee49af847a.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgAttendancePlus(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"plus\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 25,\n    height: 24,\n    viewBox: \"0 0 25 24\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 22C18 22 22.5 17.5 22.5 12C22.5 6.5 18 2 12.5 2C7 2 2.5 6.5 2.5 12C2.5 17.5 7 22 12.5 22Z\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.5 12H16.5\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.5 16V8\",\n    stroke: \"#525266\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgAttendancePlus);\nexport default __webpack_public_path__ + \"static/media/attendance-plus.1521019835cdf22728cea4866906b428.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport { ReactComponent as ArrowLeft } from '../../../img/svg/month-switch-left.svg';\nimport { ReactComponent as ArrowRight } from '../../../img/svg/month-switch-right.svg';\nimport {\n  CalendarBtnIcon,\n  TimetableBtnIcon,\n} from '../MyAPPanel/MyAPPanel.styled';\n\nexport const AttendanceBox = styled.div`\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: auto;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n`;\n\nexport const AttendanceHeading = styled.h3`\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const CalendarIcon = styled(TimetableBtnIcon)``;\n\nexport const AttendanceIcon = styled(CalendarBtnIcon)``;\n\nexport const AttendanceVisitedBox = styled.div`\n  padding: 7px 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  @media screen and (min-width: 360px) {\n    padding: 11px 6px;\n  }\n\n  @media screen and (min-width: 480px) {\n    padding: 18px 10px;\n  }\n`;\n\nexport const MonthSwitchBox = styled.div`\n  display: flex;\n  width: fit-content;\n  gap: 2px;\n  align-items: center;\n\n  padding: 3px 3px;\n  border-radius: 6px;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #fff;\n`;\n\nexport const AttendancePeriod = styled.span`\n  color: var(--secondary-color);\n  font-size: 12px;\n\n  min-width: 70px;\n  text-align: center;\n  width: max-content;\n\n  text-transform: capitalize;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n`;\n\nexport const AttendanceBtn = styled.button`\n  width: 16px;\n  height: 16px;\n\n  position: relative;\n\n  border: none;\n  outline: transparent;\n  background-color: transparent;\n\n  &:not(:disabled),\n  &:not(:disabled) {\n    cursor: pointer;\n  }\n\n  &:not(:disabled):hover svg,\n  &:not(:disabled):focus svg {\n    color: var(--accent-color);\n  }\n`;\n\nexport const AttendanceArrowLeft = styled(ArrowLeft)`\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n`;\n\nexport const AttendanceArrowRight = styled(ArrowRight)`\n  color: #ffffff59;\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n  transition: color var(--animation-global), filter var(--animation-global);\n\n  &.available {\n    color: var(--secondary-color);\n  }\n`;\n\nexport const VisitedList = styled.ul`\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  margin: -1px;\n  padding: 0 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nexport const VisitedItem = styled.li`\n  padding: 10px 0;\n  display: flex;\n  gap: 8px;\n`;\n\nexport const VisitedText = styled.span``;\n\nexport const VisitedCounter = styled.span``;\n\nexport const VisitedTotal = styled.span`\n  color: var(--main-color);\n`;\n\nexport const VisitedYearBox = styled.div`\n  padding: 10px 8px;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n  font-size: 12px;\n\n  @media screen and (min-width: 360px) {\n    font-size: 13px;\n  }\n\n  @media screen and (min-width: 480px) {\n    font-size: 14px;\n  }\n`;\n\nexport const AttendancePointsBox = styled.div`\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const AttendanceFlex = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nexport const AttendancePoints = styled.div`\n  position: relative;\n`;\n\nexport const AttendancePointsContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateY(-50%);\n\n  @media screen and (min-width: 360px) {\n    gap: 4px;\n  }\n\n  @media screen and (min-width: 480px) {\n    gap: 8px;\n  }\n`;\n\nexport const AttendanceDebugList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n`;\n","import { useEffect, useState } from 'react';\nimport { ReactComponent as AttendanceEmpty } from '../../../img/svg/attendance-empty.svg';\nimport { ReactComponent as AttendanceMinus } from '../../../img/svg/attendance-minus.svg';\nimport { ReactComponent as AttendancePlus } from '../../../img/svg/attendance-plus.svg';\nimport {\n  AttendanceArrowLeft,\n  AttendanceArrowRight,\n  AttendanceBox,\n  AttendanceBtn,\n  AttendanceDebugList,\n  AttendanceFlex,\n  AttendanceHeading,\n  AttendanceIcon,\n  AttendancePeriod,\n  AttendancePoints,\n  AttendancePointsBox,\n  AttendancePointsContainer,\n  AttendanceVisitedBox,\n  MonthSwitchBox,\n  VisitedCounter,\n  VisitedItem,\n  VisitedList,\n  VisitedText,\n  VisitedTotal,\n  VisitedYearBox,\n} from './Attendance.styled';\n\nexport const Attendance = ({ user }) => {\n  const [week, setWeek] = useState(new Date().getDate() - new Date().getDay());\n  const [month, setMonth] = useState(new Date().getMonth() + 1);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [lessonDaysForWeek, SetLessonDaysForWeek] = useState([]);\n  const [lessonDaysForMonth, SetLessonDaysForMonth] = useState([]);\n  const [lessonDaysForYear, SetLessonDaysForYear] = useState([]);\n\n  const MONTHS = [\n    'Січень',\n    'Лютий',\n    'Березень',\n    'Квітень',\n    'Травень',\n    'Червень',\n    'Липень',\n    'Серпень',\n    'Вересень',\n    'Жовтень',\n    'Листопад',\n    'Грудень',\n  ];\n\n  useEffect(() => {\n    const getLessonDaysForWeeks = () => {\n      let date = new Date(year, month - 1, week + 1);\n\n      const sunday = date.getDate() - date.getDay();\n\n      const lessonDays = [];\n\n      date.getDate() !== sunday\n        ? date.setDate(sunday)\n        : date.setDate(sunday + 1);\n\n      let i = 0;\n\n      while (date.getDay() <= 6 && i < 7) {\n        i += 1;\n        if (date.getDay() >= 1 && date.getDay() <= 4) {\n          lessonDays.push(\n            new Date(\n              date.getFullYear(),\n              date.getMonth(),\n              date.getDate(),\n              3\n            ).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForWeek(days => (days = lessonDays));\n    };\n    getLessonDaysForWeeks();\n\n    const getLessonDaysForMonths = () => {\n      let date = new Date(year, month - 1, 1);\n\n      const lessonDays = [];\n\n      date.setDate(1);\n      while (date.getMonth() + 1 === month) {\n        if (date.getDay() >= 1 && date.getDay() <= 4) {\n          lessonDays.push(\n            new Date(\n              date.getFullYear(),\n              date.getMonth(),\n              date.getDate(),\n              3\n            ).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForMonth(days => (days = lessonDays));\n    };\n    getLessonDaysForMonths();\n\n    const getLessonDaysForYears = () => {\n      let date = new Date();\n\n      const lessonDays = [];\n\n      date.setDate(1);\n      date.setMonth(0);\n\n      while (date.getFullYear() === year) {\n        if (date.getDay() >= 1 && date.getDay() <= 4) {\n          lessonDays.push(\n            new Date(\n              date.getFullYear(),\n              date.getMonth(),\n              date.getDate(),\n              3\n            ).toISOString()\n          );\n        }\n        date.setDate(date.getDate() + 1);\n      }\n      SetLessonDaysForYear(days => (days = lessonDays));\n    };\n    getLessonDaysForYears();\n  }, [week, month, year]);\n\n  const decreaseWeek = () => {\n    const newWeek = week - 7;\n    setWeek(newWeek);\n  };\n\n  const increaseWeek = () => {\n    const newWeek = week + 7;\n    setWeek(newWeek);\n  };\n\n  const decreaseMonth = () => {\n    if (month > 1) {\n      setMonth(month - 1);\n      const firstDayOfPreviousMonth = new Date(year, month - 2, 1);\n      const visitedThisMonth = user.visited.filter(\n        day => +day.split('.')[1] === month - 1\n      );\n      const firstVisitedDayOfPreviousMonth = new Date(\n        year,\n        month - 2,\n        +visitedThisMonth[0].split('.')[0]\n      );\n      firstVisitedDayOfPreviousMonth > 7\n        ? setWeek(\n            firstVisitedDayOfPreviousMonth.getDate() -\n              firstVisitedDayOfPreviousMonth.getDay()\n          )\n        : setWeek(\n            firstDayOfPreviousMonth.getDate() - firstDayOfPreviousMonth.getDay()\n          );\n      return;\n    }\n    setMonth(12);\n    setYear(year - 1);\n    const firstDayOfPreviousMonth = new Date(year, month - 2, 1);\n    const visitedThisMonth = user.visited.filter(\n      day => +day.split('.')[1] === month - 1\n    );\n    const firstVisitedDayOfPreviousMonth = new Date(\n      year,\n      month - 2,\n      +visitedThisMonth[0].split('.')[0]\n    );\n\n    firstVisitedDayOfPreviousMonth > 7\n      ? setWeek(\n          firstVisitedDayOfPreviousMonth.getDate() -\n            firstVisitedDayOfPreviousMonth.getDay()\n        )\n      : setWeek(\n          firstDayOfPreviousMonth.getDate() - firstDayOfPreviousMonth.getDay()\n        );\n    return;\n  };\n\n  const increaseMonth = () => {\n    if (month < 12) {\n      setMonth(month + 1);\n      const firstDayOfNextMonth = new Date(year, month, 1);\n      const visitedThisMonth = user.visited.filter(\n        day => +day.split('.')[1] === month + 1\n      );\n      const firstVisitedDayOfNextMonth = new Date(\n        year,\n        month,\n        +visitedThisMonth[0].split('.')[0]\n      );\n\n      firstVisitedDayOfNextMonth > 7\n        ? setWeek(\n            firstVisitedDayOfNextMonth.getDate() -\n              firstVisitedDayOfNextMonth.getDay()\n          )\n        : setWeek(firstDayOfNextMonth.getDate() - firstDayOfNextMonth.getDay());\n      return;\n    }\n    setMonth(1);\n    setYear(year + 1);\n    const firstDayOfNextMonth = new Date(year, month, 1);\n    const visitedThisMonth = user.visited.filter(\n      day => +day.split('.')[1] === month + 1\n    );\n    const firstVisitedDayOfNextMonth = new Date(\n      year,\n      month,\n      +visitedThisMonth[0].split('.')[0]\n    );\n\n    firstVisitedDayOfNextMonth > 7\n      ? setWeek(\n          firstVisitedDayOfNextMonth.getDate() -\n            firstVisitedDayOfNextMonth.getDay()\n        )\n      : setWeek(firstDayOfNextMonth.getDate() - firstDayOfNextMonth.getDay());\n    return;\n  };\n\n  const editDateFormat = date => (`${date}`.length > 1 ? date : '0' + date);\n\n  const calculateWeekPeriod = () => {\n    const firstDayOfWeekDate = new Date(year, month - 1, week + 1);\n\n    const date = new Date(firstDayOfWeekDate);\n\n    const lastDayOfWeekDate = new Date(date.setDate(date.getDate() + 6));\n\n    return `${editDateFormat(firstDayOfWeekDate.getDate())}.${editDateFormat(\n      firstDayOfWeekDate.getMonth() + 1\n    )} - ${editDateFormat(lastDayOfWeekDate.getDate())}.${editDateFormat(\n      lastDayOfWeekDate.getMonth() + 1\n    )}.${lastDayOfWeekDate.getFullYear()}`;\n  };\n\n  const calculateWeeklyVisits = () => {\n    const lessonDays = lessonDaysForWeek.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${new Date(lessonDay).getFullYear()}`\n    );\n    return user.visited.filter(date => (date = lessonDays.includes(date)))\n      .length;\n  };\n\n  const calculateMonthlyVisits = passedMonth => {\n    let date = new Date(year, passedMonth - 1, 1);\n\n    const lessonDaysForPassedMonth = [];\n\n    date.setDate(1);\n    while (date.getMonth() + 1 === passedMonth) {\n      if (date.getDay() >= 1 && date.getDay() <= 4) {\n        lessonDaysForPassedMonth.push(\n          new Date(\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            3\n          ).toISOString()\n        );\n      }\n      date.setDate(date.getDate() + 1);\n    }\n\n    const lessonDays = lessonDaysForPassedMonth.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${new Date(lessonDay).getFullYear()}`\n    );\n\n    return user.visited.filter(\n      date => +date.split('.')[1] === passedMonth && lessonDays.includes(date)\n    ).length;\n  };\n\n  const getLessonDaysOfPassedWeek = passedDay => {\n    let date = new Date(passedDay).toISOString();\n    const sunday = new Date(date).getDate() - new Date(date).getDay();\n    const lessonDays = [];\n\n    date =\n      new Date(date).getDate() !== sunday\n        ? new Date(date).setDate(sunday)\n        : new Date(date).setDate(sunday + 1);\n    let i = 0;\n    while (new Date(date).getDay() <= 6 && i < 7) {\n      i += 1;\n      if (new Date(date).getDay() >= 1 && new Date(date).getDay() <= 4) {\n        lessonDays.push(date);\n      }\n      date = new Date(new Date(date).setDate(new Date(date).getDate() + 1));\n    }\n    return lessonDays;\n  };\n\n  const calculateSetWeeklyVisits = passedWeek => {\n    const firstDayOfWeekDate = new Date(\n      year,\n      month - 1,\n      passedWeek + 1,\n      3\n    ).toISOString();\n    const passedWeekLessonDays = getLessonDaysOfPassedWeek(\n      firstDayOfWeekDate\n    ).map(\n      day =>\n        `${editDateFormat(new Date(day).getDate())}.${editDateFormat(\n          new Date(day).getMonth() + 1\n        )}.${editDateFormat(new Date(day).getFullYear())}`\n    );\n\n    return user.visited.filter(\n      date => (date = passedWeekLessonDays.includes(date))\n    ).length;\n  };\n\n  const calculateWeeklyUnattended = () => {\n    const lessonDays = lessonDaysForWeek;\n\n    const currentDay = lessonDays.findIndex(\n      lessonDay =>\n        new Date(lessonDay).getDate() === new Date().getDate() &&\n        new Date(lessonDay).getMonth() === new Date().getMonth()\n    );\n\n    const futureDays = lessonDays.slice(0, currentDay + 1).length;\n\n    return currentDay < 0 && calculateSetWeeklyVisits(week) > 0\n      ? lessonDaysForWeek.length - calculateSetWeeklyVisits(week)\n      : futureDays === 0\n      ? 0\n      : futureDays - calculateSetWeeklyVisits(week) < 0\n      ? 0\n      : futureDays - calculateSetWeeklyVisits(week);\n  };\n\n  const calculateMonthlyUnattended = () => {\n    const lessonDays = lessonDaysForMonth;\n    const currentDay = lessonDays.findIndex(\n      lessonDay =>\n        new Date(lessonDay).getDate() === new Date().getDate() &&\n        new Date(lessonDay).getMonth() === new Date().getMonth()\n    );\n\n    const futureDays = lessonDays.slice(0, currentDay + 1).length;\n\n    return currentDay < 0 && calculateMonthlyVisits(month) > 0\n      ? lessonDaysForMonth.length - calculateMonthlyVisits(month)\n      : futureDays === 0\n      ? 0\n      : futureDays - calculateMonthlyVisits(month) < 0\n      ? 0\n      : futureDays - calculateMonthlyVisits(month);\n  };\n\n  const calculateYearlyVisits = () => {\n    const lessonDays = lessonDaysForYear.map(\n      lessonDay =>\n        `${new Date(lessonDay).getDate()}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${editDateFormat(new Date(lessonDay).getFullYear())}`\n    );\n    return user.visited.filter(date => lessonDays.includes(date)).length;\n  };\n\n  const calculatePoints = () => {\n    const lessonDays = lessonDaysForWeek.map(\n      lessonDay =>\n        `${editDateFormat(new Date(lessonDay).getDate())}.${editDateFormat(\n          new Date(lessonDay).getMonth() + 1\n        )}.${editDateFormat(new Date(lessonDay).getFullYear())}`\n    );\n\n    const visitedWithinWeek = user.visited.filter(\n      date => (date = lessonDays.includes(date))\n    );\n\n    return lessonDays.map((date, i) => {\n      return visitedWithinWeek.includes(date) ? (\n        <AttendancePlus key={i} />\n      ) : !visitedWithinWeek.includes(date) &&\n        (+date.split('.')[1] < new Date().getMonth() + 1 ||\n          +date.split('.')[0] < new Date().getDate()) ? (\n        <AttendanceMinus key={i} />\n      ) : (\n        <AttendanceEmpty key={i} />\n      );\n    });\n  };\n\n  return (\n    <AttendanceBox>\n      <AttendanceHeading>\n        <AttendanceIcon />\n        Відвідуваність\n      </AttendanceHeading>\n      <AttendanceVisitedBox>\n        <MonthSwitchBox>\n          <AttendanceBtn\n            disabled={calculateSetWeeklyVisits(week - 7) === 0 ? true : false}\n            onClick={decreaseWeek}\n          >\n            <AttendanceArrowLeft\n              className={\n                calculateSetWeeklyVisits(week - 7) !== 0 && 'available'\n              }\n            />\n          </AttendanceBtn>\n          <AttendancePeriod>{calculateWeekPeriod()}</AttendancePeriod>\n          <AttendanceBtn\n            disabled={calculateSetWeeklyVisits(week + 7) === 0 ? true : false}\n            onClick={increaseWeek}\n          >\n            <AttendanceArrowRight\n              className={\n                calculateSetWeeklyVisits(week + 7) !== 0 && 'available'\n              }\n            />\n          </AttendanceBtn>\n        </MonthSwitchBox>\n        <VisitedList>\n          <VisitedItem>\n            <AttendancePointsBox>\n              <AttendanceFlex>\n                <VisitedText>Відвідано:</VisitedText>\n                <AttendancePoints>\n                  <AttendancePointsContainer>\n                    {calculatePoints()}\n                  </AttendancePointsContainer>\n                </AttendancePoints>\n              </AttendanceFlex>\n              <VisitedCounter>\n                {calculateWeeklyVisits()}/\n                <VisitedTotal>{lessonDaysForWeek.length}</VisitedTotal>\n              </VisitedCounter>\n            </AttendancePointsBox>\n          </VisitedItem>\n          <VisitedItem>\n            <VisitedText>Пропуски:</VisitedText>\n            <VisitedCounter\n              style={{\n                color: calculateWeeklyUnattended() > 0 && '#D61D1D',\n              }}\n            >\n              {calculateWeeklyUnattended()}\n            </VisitedCounter>\n          </VisitedItem>\n        </VisitedList>\n        <MonthSwitchBox>\n          <AttendanceBtn\n            disabled={calculateMonthlyVisits(month - 1) === 0 ? true : false}\n            onClick={decreaseMonth}\n          >\n            <AttendanceArrowLeft\n              className={calculateMonthlyVisits(month - 1) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n          <AttendancePeriod>{MONTHS[month - 1]}</AttendancePeriod>\n          <AttendanceBtn\n            disabled={calculateMonthlyVisits(month + 1) === 0 ? true : false}\n            onClick={increaseMonth}\n          >\n            <AttendanceArrowRight\n              className={calculateMonthlyVisits(month + 1) !== 0 && 'available'}\n            />\n          </AttendanceBtn>\n        </MonthSwitchBox>\n        <VisitedList>\n          <VisitedItem>\n            <VisitedText>Відвідано:</VisitedText>\n            <VisitedCounter>\n              {calculateMonthlyVisits(month)}/\n              <VisitedTotal>{lessonDaysForMonth.length}</VisitedTotal>\n            </VisitedCounter>\n          </VisitedItem>\n          <VisitedItem>\n            <VisitedText>Пропуски:</VisitedText>\n            <VisitedCounter\n              style={{ color: calculateMonthlyUnattended() > 0 && '#D61D1D' }}\n            >\n              {calculateMonthlyUnattended()}\n            </VisitedCounter>\n          </VisitedItem>\n        </VisitedList>\n        <VisitedYearBox>\n          <VisitedText>Загалом відвідано уроків за рік:</VisitedText>\n          <VisitedCounter>\n            {calculateYearlyVisits()}/\n            <VisitedTotal>{lessonDaysForYear.length}</VisitedTotal>\n          </VisitedCounter>\n          <AttendanceDebugList>\n            {/* <li>{Date.now()}</li>\n            <li>{new Date().toISOString()}</li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${new Date(lessonDaysForYear[0]).toISOString()}`}\n            </li> */}\n            {/* <li>\n              {lessonDaysForYear.length > 0 &&\n                `${Date.parse(lessonDaysForYear[0]).toISOString()}`}\n            </li> */}\n            {/* <li>{lessonDaysForYear.length > 0 && `${lessonDaysForYear[0]}`}</li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getDate()}`}\n            </li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getMonth() + 1}`}\n            </li>\n            <li>\n              {lessonDaysForYear.length > 0 &&\n                `${lessonDaysForYear[0].getFullYear()}`}\n            </li>\n            <li>{lessonDaysForYear.length > 0 && user.visited[0]}</li> */}\n            {/* <li>\n              {lessonDaysForYear.length > 0 &&\n                `${editDateFormat(\n                  lessonDaysForYear[0].getDate()\n                )}.${editDateFormat(\n                  lessonDaysForYear[0].getMonth() + 1\n                )}.${editDateFormat(lessonDaysForYear[0].getFullYear())}`}\n            </li> */}\n          </AttendanceDebugList>\n        </VisitedYearBox>\n      </AttendanceVisitedBox>\n    </AttendanceBox>\n  );\n};\n","import parse from 'html-react-parser';\nimport { useState } from 'react';\nimport ReactPlayer from 'react-player/youtube';\nimport { ReactComponent as PdfIcon } from '../../../img/svg/pdf-icon.svg';\n\nimport {\n  ExternalLinkIcon,\n  FaqBox,\n  FaqFinderIcon,\n  FaqFinderInput,\n  FaqFinderLabel,\n  FaqList,\n  FaqListDescription,\n  FaqListItem,\n  FaqListLink,\n  FaqListQuestionMark,\n  FaqListQuestionMarkBG,\n  FaqListTrigger,\n  FaqPreviewBackground,\n  FaqQuestion,\n  FaqSwitchDown,\n  FaqSwitchUp,\n  FinderBox,\n  FinderIcon,\n  FinderInput,\n  FinderLabel,\n  FinderLessons,\n  FinderMolding,\n  InternalLinkIcon,\n  LessonBox,\n  LessonBoxItem,\n  LessonExternalLinkButton,\n  LessonInternalLinkButton,\n  LessonLinksBox,\n  LessonTextValuesBox,\n  LessonTopBox,\n  LessonValueName,\n  LessonValuePdfLink,\n  LessonValueTopic,\n  LessonValuesLogo,\n  LessonVideoBox,\n  PdfBox,\n  PdfPreview,\n  PdfPreviewBackground,\n  PdfWrapper,\n} from './LessonFinder.styled';\n\nexport const LessonFinder = ({ lessons, user, setPlatformIframeLink }) => {\n  const [lessonsFound, setLessonsFound] = useState([]);\n  const [isPdfPreviewOpen, setIsPdfPreviewOpen] = useState(false);\n  const [openedPdf, setOpenedPdf] = useState('');\n  const [isFaqListOpen, setIsFaqListOpen] = useState(false);\n  const [openedFaq, setOpenedFaq] = useState('');\n  const [answers, setAnswers] = useState([]);\n  const [answersFound, setAnswersFound] = useState([]);\n  const [isAnswerOpen, setIsAnswerOpen] = useState(false);\n  const [openedAnswer, setOpenedAnswer] = useState(0);\n  const [isInputEmpty, setIsInputEmpty] = useState(true);\n\n  const path = window.location.origin + window.location.pathname;\n\n  const findLesson = e => {\n    setIsFaqListOpen(false);\n    setOpenedFaq('');\n    setAnswers([]);\n    setAnswersFound([]);\n    const value = e.target.value;\n    value !== ''\n      ? setLessonsFound(\n          lessonsFound =>\n            (lessonsFound = [\n              ...lessons.filter(lesson => {\n                const lessonLevelNumber =\n                  lesson.level +\n                  ' ' +\n                  lesson.lesson.replace('Lesson', '').trim().trimStart();\n                return (\n                  (lesson.keysEn\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.keysUa\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.topic\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.lesson\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lesson.level\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart()) ||\n                    lessonLevelNumber\n                      .toLowerCase()\n                      .includes(value.toLowerCase().trim().trimStart())) &&\n                  user.lang === lesson.lang\n                );\n              }),\n            ])\n        )\n      : setLessonsFound(\n          lessonsFound =>\n            (lessonsFound = [\n              ...lessons.filter(lesson => user.lang === lesson.lang),\n            ])\n        );\n    sessionStorage.setItem('searchValue', value);\n  };\n\n  const findAnswer = e => {\n    const value = e.target.value;\n    value !== '' ? setIsInputEmpty(false) : setIsInputEmpty(true);\n    value !== ''\n      ? setAnswersFound(\n          answersFound =>\n            (answersFound = [\n              ...answers.filter(\n                answer =>\n                  answer.question\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart()) ||\n                  answer.exercise\n                    .toLowerCase()\n                    .includes(value.toLowerCase().trim().trimStart())\n              ),\n            ])\n        )\n      : setAnswersFound(answersFound => (answersFound = [...answers]));\n  };\n\n  const toggleTooltip = e => {\n    e.currentTarget.classList.toggle('tooltip-open');\n  };\n\n  const togglePdfPreviewOnTouch = pdfId => {\n    const pdfOpener = pdfId => {\n      console.log('opener');\n      setOpenedPdf(pdf => (pdf = pdfId));\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    };\n\n    setOpenedPdf(pdfId);\n    isPdfPreviewOpen && pdfId !== openedPdf\n      ? setOpenedPdf(pdf => (pdf = pdfId))\n      : !isPdfPreviewOpen && pdfId === openedPdf\n      ? setIsPdfPreviewOpen(isOpen => !isOpen)\n      : isPdfPreviewOpen && pdfId === openedPdf\n      ? setIsPdfPreviewOpen(isOpen => !isOpen)\n      : pdfOpener(pdfId);\n  };\n\n  const openPdfPreviewOnHover = e => {\n    setOpenedPdf(pdf => (pdf = e.target.id));\n    if (!isPdfPreviewOpen) {\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    }\n  };\n\n  const closePdfPreviewOnMouseOut = () => {\n    console.log('mouse out?');\n    setOpenedPdf(pdf => (pdf = ''));\n    if (isPdfPreviewOpen) {\n      setIsPdfPreviewOpen(isOpen => !isOpen);\n    }\n  };\n\n  const toggleFaq = lesson => {\n    setIsFaqListOpen(isOpen => !isOpen);\n    setAnswers(answers => (answers = [...lesson.faq]));\n    setAnswersFound(answersFound => (answersFound = [...lesson.faq]));\n    setOpenedFaq(openedFaq => (openedFaq = lesson._id));\n  };\n\n  const openAnswer = i => {\n    setOpenedAnswer(i);\n    setIsAnswerOpen(isOpen => !isOpen);\n  };\n\n  const toggleAnswer = i =>\n    isAnswerOpen && i !== openedAnswer\n      ? setOpenedAnswer(i)\n      : !isAnswerOpen && i === openedAnswer\n      ? setIsAnswerOpen(isOpen => !isOpen)\n      : isAnswerOpen && i === openedAnswer\n      ? setIsAnswerOpen(isOpen => !isOpen)\n      : openAnswer(i);\n\n  return (\n    <FinderBox className={lessonsFound.length === 0 && 'nothing-found'}>\n      <FinderLabel>\n        <FinderIcon />\n        <FinderInput\n          value={sessionStorage.getItem('searchValue') ? sessionStorage.getItem('searchValue') : ''}\n          autoFocus={sessionStorage.getItem('searchValue') && true}\n          onFocus={sessionStorage.getItem('searchValue') && findLesson}\n          onChange={findLesson}\n          placeholder=\"Введіть номер або тему уроку\"\n        />\n      </FinderLabel>\n\n      {lessonsFound.length !== 0 && (\n        <>\n          <FinderLessons>\n            <LessonBox>\n              {lessonsFound.slice(0, 5).map(lesson => (\n                <LessonBoxItem key={lesson._id}>\n                  <LessonTopBox>\n                    <LessonValuesLogo>\n                      {lesson.level + lesson.lesson.replace('Lesson', ' -')}\n                    </LessonValuesLogo>\n                    <LessonTextValuesBox>\n                      <LessonValueName>\n                        {lesson.level} {lesson.lesson}\n                      </LessonValueName>\n                      <LessonLinksBox>\n                        <LessonInternalLinkButton\n                          onMouseEnter={e => toggleTooltip(e)}\n                          onMouseOut={e => toggleTooltip(e)}\n                          onClick={() => {\n                            setPlatformIframeLink(\n                              `https://online.ap.education/MarathonClass/?marathonId=${lesson.marathonId}&pupilId=${user.pupilId}&marathonLessonId=${lesson.lessonId}`\n                            );\n                          }}\n                        >\n                          <InternalLinkIcon />\n                        </LessonInternalLinkButton>\n                        <LessonExternalLinkButton\n                          onMouseEnter={e => toggleTooltip(e)}\n                          onMouseOut={e => toggleTooltip(e)}\n                          onClick={() => {\n                            window.open(\n                              `${path}?https://online.ap.education/MarathonClass/?marathonId=${lesson.marathonId}&pupilId=${user.pupilId}&marathonLessonId=${lesson.lessonId}`,\n                              '_blank'\n                            );\n                          }}\n                        >\n                          <ExternalLinkIcon />\n                        </LessonExternalLinkButton>\n                      </LessonLinksBox>\n                      <LessonValueTopic>{lesson.topic}</LessonValueTopic>\n                    </LessonTextValuesBox>\n                  </LessonTopBox>\n                  {lesson.video[0] && (\n                    <LessonVideoBox>\n                      <ReactPlayer\n                        loop={true}\n                        muted={false}\n                        controls={true}\n                        style={{\n                          display: 'block',\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                        }}\n                        width=\"100%\"\n                        height=\"100%\"\n                        url={lesson.video[0]}\n                      />\n                    </LessonVideoBox>\n                  )}\n                  {lesson.pdf.length > 0 && (\n                    <PdfBox onMouseLeave={closePdfPreviewOnMouseOut}>\n                      {lesson.pdf.map((pdf, i) => (\n                        <>\n                          <PdfWrapper\n                            key={pdf}\n                            id={pdf}\n                            onMouseEnter={e => openPdfPreviewOnHover(e)}\n                            onTouchEnd={() => togglePdfPreviewOnTouch(pdf)}\n                          >\n                            <PdfIcon />\n                            <LessonValuePdfLink\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              to={parse(pdf)}\n                              key={i}\n                            >\n                              Граматика {i + 1}\n                              <ExternalLinkIcon />\n                            </LessonValuePdfLink>\n                          </PdfWrapper>\n                          <PdfPreviewBackground\n                            className={\n                              isPdfPreviewOpen &&\n                              openedPdf === pdf &&\n                              'preview-open'\n                            }\n                          >\n                            {isPdfPreviewOpen && openedPdf === pdf && (\n                              <PdfPreview\n                                title={`Preview of ${pdf}`}\n                                src={pdf\n                                  .replace('open?id=', 'file/d/')\n                                  .replace('view', 'preview')\n                                  .replace('&usp=drive_copy', '/preview')}\n                                allow=\"autoplay\"\n                              ></PdfPreview>\n                            )}\n                          </PdfPreviewBackground>\n                        </>\n                      ))}\n                    </PdfBox>\n                  )}\n                  {lesson.faq.length > 0 && (\n                    <FaqBox>\n                      <FaqListTrigger onClick={() => toggleFaq(lesson)}>\n                        <FaqListDescription>\n                          <FaqListQuestionMarkBG>\n                            <FaqListQuestionMark>?</FaqListQuestionMark>\n                          </FaqListQuestionMarkBG>\n                          FAQ{' '}\n                        </FaqListDescription>\n                        {isFaqListOpen ? <FaqSwitchUp /> : <FaqSwitchDown />}\n                      </FaqListTrigger>\n\n                      <FaqFinderLabel\n                        className={\n                          isFaqListOpen &&\n                          openedFaq === lesson._id &&\n                          'faqlistopen'\n                        }\n                      >\n                        <FaqFinderInput\n                          onChange={findAnswer}\n                          placeholder=\"Введіть номер вправи або ваше питання\"\n                          className={!isInputEmpty && 'not-empty'}\n                        />\n                        <FaqFinderIcon />\n                      </FaqFinderLabel>\n                      <FaqList\n                        className={\n                          isFaqListOpen &&\n                          openedFaq === lesson._id &&\n                          'faqlistopen'\n                        }\n                      >\n                        {answersFound.map((q, i) => (\n                          <FaqListItem key={i}>\n                            <FaqListLink onClick={() => toggleAnswer(i)}>\n                              {q.exercise}\n                            </FaqListLink>\n                            <FaqQuestion\n                              className={\n                                isAnswerOpen &&\n                                openedAnswer === i &&\n                                'preview-open'\n                              }\n                            >\n                              {q.question}\n                            </FaqQuestion>\n                            <FaqPreviewBackground\n                              className={\n                                isAnswerOpen &&\n                                openedAnswer === i &&\n                                'preview-open'\n                              }\n                            >\n                              {isAnswerOpen && openedAnswer === i && (\n                                <LessonVideoBox>\n                                  <ReactPlayer\n                                    loop={true}\n                                    muted={false}\n                                    controls={true}\n                                    style={{\n                                      display: 'block',\n                                      position: 'absolute',\n                                      top: 0,\n                                      left: 0,\n                                    }}\n                                    width=\"100%\"\n                                    height=\"100%\"\n                                    url={q.answer}\n                                  />\n                                </LessonVideoBox>\n                              )}\n                            </FaqPreviewBackground>\n                          </FaqListItem>\n                        ))}\n                      </FaqList>\n                    </FaqBox>\n                  )}\n                </LessonBoxItem>\n              ))}\n            </LessonBox>\n          </FinderLessons>\n          <FinderMolding />\n        </>\n      )}\n    </FinderBox>\n  );\n};\n","import styled from 'styled-components';\nimport { CupBtnIcon } from '../MyAPPanel/MyAPPanel.styled';\n\nexport const PointsBox = styled.div`\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: 440px;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 320px) {\n    height: 280px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n    height: 400px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    height: 450px;\n  }\n\n  @media screen and (min-height: 960px) {\n    height: 556px;\n    overflow-y: hidden;\n  }\n`;\n\nexport const PointsBoxHeading = styled.h3`\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const PointsCategoryPicker = styled.div`\n  padding: 5px 0;\n\n  position: relative;\n\n  font-size: 14px;\n\n  display: flex;\n\n  margin-bottom: 6px;\n\n  &::after {\n    content: '';\n    height: 2px;\n    width: 100%;\n    border-radius: 2px;\n    background-color: #eeeef0;\n\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n`;\n\nexport const PointsCategory = styled.p`\n  font-size: 14px;\n  text-align: center;\n  width: 50%;\n  color: #bebecc;\n\n  transition: color var(--animation-global);\n\n  cursor: pointer;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: #525266;\n  }\n`;\n\nexport const PointsCategoryPointer = styled.div`\n  height: 2px;\n  width: 50%;\n  border-radius: 2px;\n  background-color: var(--main-color);\n\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n\n  transition: transform 250ms var(--animation-global);\n`;\n\nexport const PointsTableHead = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 6px 5px 6px 0;\n`;\n\nexport const PointsTableHeadItem = styled.p`\n  font-size: 12px;\n  color: #bebecc;\n`;\n\nexport const PointsTableHeadItemWide = styled(PointsTableHeadItem)`\n  width: 100%;\n`;\n\nexport const PointsUser = styled(PointsTableHead)`\n  height: 36px;\n  border-radius: 7px;\n  flex-shrink: 0;\n  background-color: var(--accent-color);\n\n  margin-bottom: 4px;\n`;\n\nexport const PointsUserData = styled(PointsTableHeadItem)`\n  flex-shrink: 0;\n\n  width: 33px;\n  font-size: 14px;\n  text-align: center;\n  color: #525266;\n`;\n\nexport const PointsUserDataWide = styled(PointsUserData)`\n  width: 100%;\n  flex-shrink: 1;\n  text-align: left;\n`;\n\nexport const PointsLeaderboard = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n`;\n\nexport const PointsLeader = styled.li`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  padding: 1.5px 5px 1.5px 0;\n`;\n\nexport const LeaderPlace = styled.div`\n  display: flex;\n  height: 33px;\n  width: 33px;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n\n  text-align: center;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--secondary-color);\n  border-radius: 5px;\n  background: linear-gradient(322deg, #0f645b -5.61%, #09c6cc 93.88%);\n`;\n\nexport const UserPlace = styled(LeaderPlace)`\n  color: #525266;\n  background: transparent;\n`;\n\nexport const CupIcon = styled(CupBtnIcon)``;\n","import { nanoid } from 'nanoid';\nimport {\n  CupIcon,\n  LeaderPlace,\n  PointsBox,\n  PointsBoxHeading,\n  PointsCategory,\n  PointsCategoryPicker,\n  PointsCategoryPointer,\n  PointsLeader,\n  PointsLeaderboard,\n  PointsTableHead,\n  PointsTableHeadItem,\n  PointsTableHeadItemWide,\n  PointsUser,\n  PointsUserData,\n  PointsUserDataWide,\n  UserPlace,\n} from './Points.styled';\nimport { useState } from 'react';\n\nexport const Points = ({ user, flatPoints, flatMonthlyPoints }) => {\n  const [position, setPosition] = useState('0%');\n  const [activeRating, setActiveRating] = useState(0);\n\n  const pointsSorted =\n    activeRating > 0\n      ? flatMonthlyPoints\n          .filter(student => `${student.course}` === user.course)\n          .sort((a, b) => b.points - a.points)\n      : flatPoints\n          .filter(student => `${student.course}` === user.course)\n          .sort((a, b) => b.points - a.points);\n\n  const userPlace = pointsSorted.findIndex(leader => leader.mail === user.mail);\n\n  const calculatePointerPosition = i => {\n    setPosition(position => (position = `${i * 100}%`));\n    setActiveRating(i);\n  };\n\n  return (\n    <PointsBox>\n      <PointsBoxHeading>\n        <CupIcon />\n        Рейтинг\n      </PointsBoxHeading>\n      <PointsCategoryPicker>\n        <PointsCategoryPointer\n          style={{ transform: `translateX(${position})` }}\n        />\n        <PointsCategory\n          onClick={() => {\n            calculatePointerPosition(0);\n          }}\n          className={activeRating === 0 && 'active'}\n        >\n          Загальний\n        </PointsCategory>\n        <PointsCategory\n          onClick={() => {\n            calculatePointerPosition(1);\n          }}\n          className={activeRating === 1 && 'active'}\n        >\n          Місячний\n        </PointsCategory>\n      </PointsCategoryPicker>\n      <PointsTableHead>\n        <PointsTableHeadItem>Місце</PointsTableHeadItem>\n        <PointsTableHeadItemWide>Прізвище та ім’я</PointsTableHeadItemWide>\n        <PointsTableHeadItem>Бали</PointsTableHeadItem>\n      </PointsTableHead>\n      <PointsUser>\n        <PointsUserData>\n          {pointsSorted.findIndex(leader => leader.mail === user.mail) + 1}\n        </PointsUserData>\n        <PointsUserDataWide>{user.name}</PointsUserDataWide>\n        <PointsUserData>{pointsSorted[userPlace].points}</PointsUserData>\n      </PointsUser>\n      <PointsLeaderboard>\n        {pointsSorted.slice(0, 10).map((leader, i) => (\n          <PointsLeader key={nanoid(8)}>\n            {i <= 2 ? (\n              <LeaderPlace>{i + 1}</LeaderPlace>\n            ) : (\n              <UserPlace>{i + 1}</UserPlace>\n            )}\n            <PointsUserDataWide>{leader.name}</PointsUserDataWide>\n            <PointsUserData>{leader.points}</PointsUserData>\n          </PointsLeader>\n        ))}\n      </PointsLeaderboard>\n    </PointsBox>\n  );\n};\n","import styled from 'styled-components';\nimport { TimetableBtnIcon } from '../MyAPPanel/MyAPPanel.styled';\n\nexport const TimetableBox = styled.div`\n  position: absolute;\n  top: 30px;\n  right: 60px;\n  z-index: 5;\n\n  display: flex;\n  flex-direction: column;\n  background-color: var(--secondary-color);\n  font-family: var(--my-ap-font-family);\n\n  overflow: hidden;\n  border-radius: 20px;\n  padding: 0 20px;\n  padding-bottom: 10px;\n  height: auto;\n  overflow-y: scroll;\n  width: calc(100% - 65px);\n\n  @media screen and (min-width: 480px) {\n    width: 362px;\n  }\n\n  @media screen and (min-width: 768px) {\n    right: 90px;\n  }\n\n  @media screen and (min-height: 480px) {\n    top: 60px;\n  }\n\n  @media screen and (min-height: 640px) {\n    top: 142px;\n    overflow-y: hidden;\n  }\n`;\n\nexport const TimetableHeading = styled.h3`\n  padding: 9px 0;\n\n  color: #525266;\n  border-bottom: 1px solid #0000000d;\n  margin-bottom: -1px;\n  font-size: 20px;\n  font-weight: 400;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;\n\nexport const TimetableIcon = styled(TimetableBtnIcon)``;\n\nexport const TimetableBody = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  gap: 21px;\n\n  font-size: 14px;\n  line-height: 1.2;\n  color: #525266;\n`;\n\nexport const TimetableWebinars = styled.div`\n  position: relative;\n\n  @media screen and (max-width: 389px) {\n    padding-top: 5px;\n    padding-bottom: 20px;\n  }\n`;\n\nexport const TimetableWebinarsHelmet = styled.ul`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const TimetableWebinarsHelmetItem = styled.li`\n  color: #bebecc;\n`;\n\nexport const TimetableWebinarsHelmetText = styled.span`\n  display: block;\n  font-size: 12px;\n`;\n\nexport const TimetableWebinarsHead = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 6px;\n\n  border-bottom: 1px solid var(--accent-color);\n`;\n\nexport const TimetableSpeakings = styled.div`\n  @media screen and (max-width: 389px) {\n    padding-bottom: 5px;\n  }\n`;\n\nexport const TimetableLessonType = styled.span`\n  display: block;\n`;\n\nexport const TimetableLessonLink = styled.a`\n  display: block;\n  padding: 5px 0;\n  height: 36px;\n\n  position: relative;\n\n  text-align: center;\n  text-decoration: none;\n  width: 110px;\n  color: #fff;\n  font-weight: 500;\n  background: linear-gradient(322deg, #0f645b 23.22%, #09c6cc 110.01%), #09c6cc;\n\n  border-radius: 5px;\n  overflow: hidden;\n\n  transition: all var(--animation-global);\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n\n    transition: opacity var(--animation-global);\n\n    background: linear-gradient(322deg, #09c6cc 23.22%, #0f645b 110.01%),\n      #09c6cc;\n  }\n\n  &:hover,\n  &:focus {\n    &::before {\n      opacity: 1;\n    }\n  }\n`;\n\nexport const TimetableLessonLinkText = styled.span`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1;\n\n  transform: translate(-50%, -50%);\n`;\n\nexport const TimetableTable = styled.table`\n  width: 100%;\n  max-width: 331px;\n  table-layout: auto;\n  border-collapse: collapse;\n  text-align: center;\n`;\n\nexport const TimetableHead = styled.th`\n  color: #bebecc;\n  font-size: 12px;\n  font-weight: 400;\n  padding: 6px 0;\n\n  &.day {\n    width: 37px;\n  }\n  &.time {\n    width: 105px;\n  }\n  &.lessonNumber {\n    width: 66px;\n  }\n  &.teacher {\n  }\n`;\n\nexport const TimetableDaysItem = styled.tr`\n  height: 36px;\n  clip-path: xywh(0 0 100% 100% round 7px);\n`;\n\nexport const TimetableDaysCell = styled.td`\n  border: none;\n`;\n","import { CalendarIcon } from '../Attendance/Attendance.styled';\nimport {\n  TimetableBody,\n  TimetableBox,\n  TimetableDaysCell,\n  TimetableDaysItem,\n  TimetableHead,\n  TimetableHeading,\n  TimetableLessonLink,\n  TimetableLessonLinkText,\n  TimetableLessonType,\n  TimetableSpeakings,\n  TimetableTable,\n  TimetableWebinars,\n  TimetableWebinarsHead,\n} from './Timetable.styled';\n\nexport const Timetable = ({ user, timetable }) => {\n  console.log(timetable);\n  const personalTimetable = timetable.find(\n    timeline => timeline.lang === user.lang && timeline.level === user.knowledge\n  );\n\n  const getLink = () => {\n    const baseStreamUrl = 'https://ap.education/streams/';\n    const baseKidsStreamUrl = 'https://ap.education/streams-kids/';\n    console.log(user.lang);\n    console.log(user.adult === undefined ? true : user.adult);\n    console.log(user.knowledge);\n    console.log(user.package === undefined ? 'vippro' : user.package);\n    return user.lang === 'en'\n      ? baseStreamUrl + user.knowledge\n      : user.lang === 'enkids'\n      ? baseKidsStreamUrl + user.knowledge\n      : user.lang === 'de' && user.knowledge !== 'a1'\n      ? baseStreamUrl + 'deutsch' + user.knowledge\n      : user.lang === 'de' && user.knowledge === 'a1'\n      ? baseStreamUrl + 'deutsch'\n      : user.lang === 'pl' && user.knowledge !== 'a1'\n      ? baseStreamUrl + 'polski' + user.knowledge\n      : user.lang === 'pl' && user.knowledge === 'a1'\n      ? baseStreamUrl + 'polski' + user.knowledge\n      : baseStreamUrl;\n  };\n  const getSpeakingLink = () => {\n    const baseStreamUrl = 'https://ap.education/streams/';\n    const baseKidsStreamUrl = 'https://ap.education/streams-kids/';\n    return user.lang === 'en'\n      ? baseStreamUrl + user.knowledge + 'sc'\n      : user.lang === 'enkids'\n      ? baseKidsStreamUrl + user.knowledge + 'sc'\n      : baseStreamUrl + user.lang + user.knowledge + 'sc';\n  };\n\n  const link = getLink();\n  const speakingLink = getSpeakingLink();\n\n  const DAYS = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Нд'];\n\n  return (\n    <TimetableBox>\n      <TimetableHeading>\n        <CalendarIcon />\n        Графік занять\n      </TimetableHeading>\n      <TimetableBody>\n        <TimetableWebinars>\n          <TimetableWebinarsHead>\n            <TimetableLessonType>Теоретичні заняття</TimetableLessonType>\n            <TimetableLessonLink href={link} target=\"_blank\">\n              <TimetableLessonLinkText>Перейти</TimetableLessonLinkText>\n            </TimetableLessonLink>\n          </TimetableWebinarsHead>\n          <TimetableTable>\n            <thead>\n              <tr>\n                <TimetableHead className=\"day\">День</TimetableHead>\n                <TimetableHead className=\"time\">Час</TimetableHead>\n                <TimetableHead className=\"lessonNumber\">№ уроку</TimetableHead>\n                <TimetableHead className=\"teacher\">Викладач</TimetableHead>\n              </tr>\n            </thead>\n            <tbody>\n              {personalTimetable.schedule\n                .filter(\n                  lesson =>\n                    lesson.type === 'webinar' ||\n                    lesson.type === 'webinar, repeat'\n                )\n                .sort((a, b) => a.day - b.day)\n                .map((lesson, i) => (\n                  <TimetableDaysItem\n                    key={i}\n                    style={\n                      lesson.day === new Date().getDay()\n                        ? { backgroundColor: '#F9C838' }\n                        : {}\n                    }\n                  >\n                    <TimetableDaysCell className=\"day\">\n                      {DAYS[lesson.day - 1]}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"time\">\n                      {lesson.time}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"lessonNumber\">\n                      {lesson.lessonNumber}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"teacher\">\n                      {lesson.teacher}\n                    </TimetableDaysCell>\n                  </TimetableDaysItem>\n                ))}\n            </tbody>\n          </TimetableTable>\n        </TimetableWebinars>{' '}\n        <TimetableSpeakings>\n          <TimetableWebinarsHead>\n            <TimetableLessonType>Практичні заняття</TimetableLessonType>\n            <TimetableLessonLink href={speakingLink} target=\"_blank\">\n              <TimetableLessonLinkText>Перейти</TimetableLessonLinkText>\n            </TimetableLessonLink>\n          </TimetableWebinarsHead>\n          <TimetableTable>\n            <thead>\n              <tr>\n                <TimetableHead className=\"day\">День</TimetableHead>\n                <TimetableHead className=\"time\">Час</TimetableHead>\n                <TimetableHead className=\"lessonNumber\">№ уроку</TimetableHead>\n                <TimetableHead className=\"teacher\">Викладач</TimetableHead>\n              </tr>\n            </thead>\n            <tbody>\n              {personalTimetable.schedule\n                .filter(lesson => lesson.type === 'speaking')\n                .sort((a, b) => a.day - b.day)\n                .map((lesson, i) => (\n                  <TimetableDaysItem\n                    key={i}\n                    style={\n                      lesson.day === new Date().getDay()\n                        ? { backgroundColor: '#F9C838' }\n                        : {}\n                    }\n                  >\n                    <TimetableDaysCell className=\"day\">\n                      {DAYS[lesson.day - 1]}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"time\">\n                      {lesson.time}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"lessonNumber\">\n                      {lesson.lessonNumber}\n                    </TimetableDaysCell>\n                    <TimetableDaysCell className=\"teacher\">\n                      {lesson.teacher}\n                    </TimetableDaysCell>\n                  </TimetableDaysItem>\n                ))}\n            </tbody>\n          </TimetableTable>\n        </TimetableSpeakings>\n      </TimetableBody>\n    </TimetableBox>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Attendance } from '../Attendance/Attendance';\nimport { LessonFinder } from '../LessonFinder/LessonFinder';\nimport { Points } from '../Points/Points';\nimport { Timetable } from '../Timetable.jsx/Timetable';\nimport {\n  APPanel,\n  APPanelBtn,\n  APPanelResetBtn,\n  APPanelToggleBtn,\n  CalendarBtnIcon,\n  CupBtnIcon,\n  IframeResetLinkButton,\n  IframeSetLinkIcon,\n  IframeToggleLinkIcon,\n  PanelBackdrop,\n  PanelHideLeftSwitch,\n  PanelHideRightSwitch,\n  PanelHideSwitch,\n  SearchBtnIcon,\n  TimetableBtnIcon,\n} from './MyAPPanel.styled';\n\nexport const MyAPPanel = ({\n  lessons,\n  link,\n  user,\n  points,\n  timetable,\n  marathonLink,\n  montlyPoints,\n  isMultipleCourses,\n  setPlatformIframeLink,\n  setUser,\n}) => {\n  const [isBackdropShown, setIsBackdropShown] = useState(false);\n  const [isLessonFinderShown, setIsLessonFinderShown] = useState(false);\n  const [isRatingShown, setIsRatingShown] = useState(false);\n  const [isCalendarShown, setIsCalendarShown] = useState(false);\n  const [isTimetableShown, setIsTimetableShown] = useState(false);\n  const [isButtonBoxShown, setIsButtonBoxShown] = useState(true);\n  const [isDisclaimerTimeoutActive, setIsDisclaimerTimeoutActive] =\n    useState(true);\n  // const [isMarathonBtnShown, setIsMarathonBtnShown] = useState(false);\n  // const [isMarathonBtnClicked, setIsMarathonBtnClicked] = useState(false);\n\n  const toggleButtonBox = () => {\n    hideBackdrop();\n    setIsButtonBoxShown(isShown => !isShown);\n  };\n\n  const flatPoints = Object.values(points).flatMap(user => user);\n  const flatMonthlyPoints = Object.values(montlyPoints).flatMap(user => user);\n\n  const hideBackdrop = () => {\n    setIsBackdropShown(false);\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n  };\n\n  const toggleSearch = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isCalendarShown || !isTimetableShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isCalendarShown &&\n      !isTimetableShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n    setIsLessonFinderShown(isLessonFinderShown => !isLessonFinderShown);\n  };\n\n  const toggleRating = () => {\n    !isBackdropShown &&\n      (!isLessonFinderShown || !isCalendarShown || !isTimetableShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isLessonFinderShown &&\n      !isCalendarShown &&\n      !isTimetableShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(false);\n    setIsRatingShown(isRatingShown => !isRatingShown);\n  };\n\n  const toggleCalendar = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isLessonFinderShown || !isTimetableShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isLessonFinderShown &&\n      !isTimetableShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsTimetableShown(false);\n    setIsCalendarShown(isCalendarShown => !isCalendarShown);\n  };\n\n  const toggleTimetable = () => {\n    !isBackdropShown &&\n      (!isRatingShown || !isLessonFinderShown || !isCalendarShown) &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = true));\n    isBackdropShown &&\n      !isRatingShown &&\n      !isLessonFinderShown &&\n      !isCalendarShown &&\n      setIsBackdropShown(isBackdropShown => (isBackdropShown = false));\n    setIsLessonFinderShown(false);\n    setIsRatingShown(false);\n    setIsCalendarShown(false);\n    setIsTimetableShown(isTimetableShown => !isTimetableShown);\n  };\n\n  const toggleTooltip = e => {\n    !isDisclaimerTimeoutActive &&\n      e.currentTarget.classList.toggle('tooltip-open');\n  };\n\n  const panelStyles = () => {\n    return {\n      top: isMultipleCourses ? '184px' : '142px',\n    };\n  };\n\n  const toggleTooltipTimeout = () => {\n    const resetBtnEl = document.querySelector('#reset-btn');\n\n    if (isDisclaimerTimeoutActive) {\n      setTimeout(() => {\n        resetBtnEl.classList.add('tooltip-open');\n      }, 10000);\n\n      setTimeout(() => {\n        resetBtnEl.classList.remove('tooltip-open');\n        setIsDisclaimerTimeoutActive(false);\n      }, 20000);\n    }\n  };\n\n  // const toggleMarathonButtonTimeout = () => {\n  //   if (!isMarathonBtnClicked) {\n  //     setTimeout(() => {\n  //       setIsMarathonBtnShown(true);\n  //     }, 15000);\n  //   }\n  // };\n\n  useEffect(() => {\n    const onEscapeClose = event => {\n      if (event.code === 'Escape' && isBackdropShown) {\n        hideBackdrop();\n      }\n    };\n    toggleTooltipTimeout();\n    // toggleMarathonButtonTimeout();\n\n    window.addEventListener('keydown', onEscapeClose);\n\n    return () => {\n      window.removeEventListener('keydown', onEscapeClose);\n    };\n  });\n\n  return (\n    <>\n      <PanelBackdrop\n        onClick={hideBackdrop}\n        className={isBackdropShown ? '' : 'hidden'}\n      />\n\n      <PanelHideSwitch id=\"no-transform\" onClick={toggleButtonBox}>\n        {isButtonBoxShown ? <PanelHideRightSwitch /> : <PanelHideLeftSwitch />}\n      </PanelHideSwitch>\n      {/* {isMarathonBtnShown && (\n        <IframeMarathonLinkPanel>\n          <IframeMarathonText>\n            <IframeMarathonPointerText>\n              Натисніть на цю кнопку, щоб перейти до марафону\n            </IframeMarathonPointerText>\n            <IframeMarathonPointerLinkIcon />\n          </IframeMarathonText>\n          <APPanelMarathonBtn\n            id=\"marathon-btn\"\n            onClick={() => {\n              setIsMarathonBtnShown(false);\n              setIsMarathonBtnClicked(true);\n              setPlatformIframeLink(marathonLink + ' ');\n            }}\n          >\n            <APPanelMarathonBtnText>МАРАФОН</APPanelMarathonBtnText>\n          </APPanelMarathonBtn>\n        </IframeMarathonLinkPanel>\n      )} */}\n      <APPanel\n        className={isButtonBoxShown ? '' : 'hidden'}\n        style={{ ...panelStyles() }}\n      >\n        <IframeResetLinkButton className={isMultipleCourses ? 'multiple' : ''}>\n          <APPanelResetBtn\n            id=\"reset-btn\"\n            onMouseEnter={e => toggleTooltip(e)}\n            onMouseOut={e => toggleTooltip(e)}\n            onClick={() => {\n              console.log(link);\n\n              setPlatformIframeLink(link + ' ');\n            }}\n          >\n            <IframeSetLinkIcon />\n          </APPanelResetBtn>\n          {isMultipleCourses && (\n            <APPanelToggleBtn\n              id=\"toggle-btn\"\n              onClick={() => {\n                console.log(link);\n                console.log(user);\n                const index = user.lang\n                  .split('/')\n                  .findIndex(lang => lang === user.lang);\n                setUser(\n                  user =>\n                    (user = {\n                      ...user,\n                      lang:\n                        index + 1 < user.lang.length\n                          ? user.lang.split('/')[index + 1]\n                          : user.lang.split('/')[0],\n                    })\n                );\n              }}\n            >\n              <IframeToggleLinkIcon />\n            </APPanelToggleBtn>\n          )}\n        </IframeResetLinkButton>\n        <APPanelBtn onClick={toggleSearch}>\n          <SearchBtnIcon className={isLessonFinderShown && 'active'} />\n        </APPanelBtn>\n        <APPanelBtn onClick={toggleRating}>\n          <CupBtnIcon className={isRatingShown && 'active'} />\n        </APPanelBtn>\n        <APPanelBtn onClick={toggleCalendar}>\n          <CalendarBtnIcon className={isCalendarShown && 'active'} />\n        </APPanelBtn>\n        {user.package !== 'online' && (\n          <APPanelBtn onClick={toggleTimetable}>\n            <TimetableBtnIcon className={isTimetableShown && 'active'} />\n          </APPanelBtn>\n        )}\n        {/* <APPanelInstructionsPanel>\n          <APPanelBtn onClick={toggleSearch}>\n            <GuideBtnIcon className={isLessonFinderShown && 'active'} />\n          </APPanelBtn>\n        </APPanelInstructionsPanel> */}\n      </APPanel>\n\n      {isLessonFinderShown && (\n        <LessonFinder\n          lessons={lessons}\n          user={user}\n          setPlatformIframeLink={setPlatformIframeLink}\n        />\n      )}\n      {isRatingShown && (\n        <Points\n          user={user}\n          flatPoints={flatPoints}\n          flatMonthlyPoints={flatMonthlyPoints}\n        />\n      )}\n      {isCalendarShown && <Attendance user={user} />}\n      {isTimetableShown && <Timetable user={user} timetable={timetable} />}\n    </>\n  );\n};\n","import axios from 'axios';\nimport {\n  Label,\n  LeftFormBackgroundStar,\n  RightFormBackgroundStar,\n} from 'components/LeadForm/LeadForm.styled';\nimport { LoginFormText, StreamSection } from 'components/Stream/Stream.styled';\nimport { Formik } from 'formik';\nimport {\n  AdminFormBtn,\n  AdminInput,\n  AdminInputNote,\n  LoginForm,\n} from 'pages/Streams/AdminPanel/AdminPanel.styled';\nimport { useEffect, useState } from 'react';\nimport * as yup from 'yup';\nimport { MyPlatform } from './My Platform/MyPlatform';\nimport { MyAPPanel } from './MyAPPanel/MyAPPanel';\nimport { useLocation } from 'react-router-dom';\n\nconst MyAP = () => {\n  const [isUserLogged, setIsUserLogged] = useState(false);\n  const [lessons, setLessons] = useState(false);\n  const [points, setPoints] = useState({});\n  const [timetable, setTimetable] = useState({});\n  const [montlyPoints, setMonthlyPoints] = useState({});\n  const [user, setUser] = useState({});\n  const [platformLink, setPlatformLink] = useState(\n    `https://online.ap.education/`\n  );\n  const [marathonLink, setMarathonLink] = useState(\n    `https://online.ap.education/`\n  );\n  const [isMultipleCourses, setIsMultipleCourses] = useState(false);\n  axios.defaults.baseURL = 'https://ap-server-8qi1.onrender.com';\n  const location = useLocation();\n  // const linkToSet = `https://online.ap.education/student/lessons`;\n\n  useEffect(() => {\n    document.title = 'My AP | AP Education';\n    console.log('effect');\n\n    const getLessons = async () => {\n      console.log('lessons getter');\n      try {\n        const res = await axios.get('/lessons');\n        console.log(res);\n        setLessons(lessons => (lessons = [...res.data]));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getLessons();\n\n    const getRating = async () => {\n      console.log('ratings getter');\n      try {\n        const res = await axios.get('/ratings');\n        setPoints(points => (points = { ...res.data[0].rating }));\n        setMonthlyPoints(points => (points = { ...res.data[1].rating }));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getRating();\n\n    const getTimetable = async () => {\n      console.log('timetable getter');\n      try {\n        const res = await axios.get('/timetable');\n        console.log(res);\n        setTimetable(timetable => (timetable = res.data));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getTimetable();\n\n    const refreshToken = async () => {\n      console.log('token refresher');\n      try {\n        const res = await axios.post('/users/refresh', {\n          mail: localStorage.getItem('mail'),\n        });\n        setIsUserLogged(isLogged => (isLogged = true));\n        console.log(res);\n        setUser(user => (user = { ...res.data.user }));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    refreshToken();\n\n    const setIframeLinks = async () => {\n      const LINKS = {\n        en: `https://online.ap.education/MarathonClass/?marathonId=37835&pupilId=${user.pupilId}&marathonLessonId=621674`,\n        pl: `https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=${user.pupilId}&marathonLessonId=629354`,\n        de: `https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=${user.pupilId}&marathonLessonId=629357`,\n        enkids: `https://online.ap.education/MarathonClass/?marathonId=40552&pupilId=${user.pupilId}&marathonLessonId=621673`,\n      };\n\n      const marathonLink =\n        user.lang === 'en' && user.knowledge === 'a1'\n          ? 'ena1'\n          : user.lang === 'en' && user.knowledge === 'a2'\n          ? 'ena2'\n          : user.lang === 'pl'\n          ? 'pl'\n          : user.lang === 'de'\n          ? 'de'\n          : user.lang === 'enkids'\n          ? 'kids'\n          : '';\n\n      const FREE_LINKS = {\n        kids: `https://online.ap.education/MarathonClass/?marathonId=50784&pupilId=${user.pupilId}&marathonLessonId=854264`,\n        ena1: `https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=${user.pupilId}&marathonLessonId=854277`,\n        ena2: `https://online.ap.education/MarathonClass/?marathonId=49509&pupilId=${user.pupilId}&marathonLessonId=854278`,\n        pl: `https://online.ap.education/MarathonClass/?marathonId=41057&pupilId=${user.pupilId}&marathonLessonId=853147`,\n        de: `https://online.ap.education/MarathonClass/?marathonId=41534&pupilId=${user.pupilId}&marathonLessonId=854256`,\n      };\n\n      setPlatformLink(\n        link => (link = LINKS[user.lang] || LINKS[user.lang.split('/')[0]])\n      );\n      console.log(user.lang.split('/').length);\n      user.lang.split('/').length > 1 && setIsMultipleCourses(true);\n      setMarathonLink(\n        link =>\n          (link =\n            FREE_LINKS[marathonLink] || FREE_LINKS[user.lang.split('/')[0]])\n      );\n    };\n\n    setIframeLinks();\n  }, [user.lang, user.pupilId, user.knowledge]);\n\n  const setAuthToken = token => {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  };\n\n  const initialLoginValues = {\n    mail: '',\n    password: '',\n  };\n\n  const loginSchema = yup.object().shape({\n    mail: yup\n      .string()\n      .required('Вкажіть пошту, за якою ви зареєстровані на нашій платформі!'),\n    password: yup\n      .string()\n      .required(\n        'Введіть пароль, який ви використовуєте для входу на нашу платформу!'\n      ),\n  });\n\n  const handleLoginSubmit = async (values, { resetForm }) => {\n    values.mail = values.mail.toLowerCase().trim().trimStart();\n    values.password = values.password.trim().trimStart();\n    try {\n      const response = await axios.post('/users/login', values);\n      setAuthToken(response.data.token);\n      setIsUserLogged(isLogged => (isLogged = true));\n      setUser(user => (user = { ...response.data.user }));\n      localStorage.setItem('mail', values.mail);\n      resetForm();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const setPlatformIframeLink = iframeLink => {\n    location.search = '';\n    setPlatformLink(link => (link = iframeLink));\n  };\n\n  return (\n    <StreamSection>\n      {!isUserLogged ? (\n        <Formik\n          initialValues={initialLoginValues}\n          onSubmit={handleLoginSubmit}\n          validationSchema={loginSchema}\n        >\n          <LoginForm>\n            <LeftFormBackgroundStar />\n            <RightFormBackgroundStar />\n            <LoginFormText>\n              Привіт!\n              <br />\n              Ця сторінка недоступна для неавторизованих користувачів. Але якщо\n              ви маєте доступ до нашої платформи, то й до цієї сторінки теж.\n              Введіть дані, які ви використовуєте для входу на платформу.\n            </LoginFormText>\n            <Label>\n              <AdminInput type=\"text\" name=\"mail\" placeholder=\"Login\" />\n              <AdminInputNote component=\"p\" name=\"mail\" type=\"email\" />\n            </Label>\n            <Label>\n              <AdminInput\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n              />\n              <AdminInputNote component=\"p\" name=\"password\" />\n            </Label>\n            <AdminFormBtn type=\"submit\">Увійти</AdminFormBtn>\n          </LoginForm>\n        </Formik>\n      ) : (\n        <>\n          {Object.values(points).length > 0 && (\n            <MyAPPanel\n              lessons={lessons}\n              user={user}\n              points={points}\n              montlyPoints={montlyPoints}\n              link={platformLink}\n              marathonLink={marathonLink}\n              isMultipleCourses={isMultipleCourses}\n              setPlatformIframeLink={setPlatformIframeLink}\n              setUser={setUser}\n              timetable={timetable}\n            />\n          )}\n          <MyPlatform platformLink={platformLink} />\n        </>\n      )}\n    </StreamSection>\n  );\n};\n\nexport default MyAP;\n"],"names":["MyPlatformBox","styled","_templateObject","_taggedTemplateLiteral","MyPlatform","_ref","platformLink","src","setSrc","useState","location","useLocation","search","slice","useEffect","_jsx","_Fragment","children","id","title","width","height","allow","_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgAttendanceEmpty","svgRef","titleId","props","viewBox","fill","xmlns","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","_path2","SvgAttendanceMinus","_path3","SvgAttendancePlus","AttendanceBox","AttendanceHeading","_templateObject2","CalendarIcon","TimetableBtnIcon","_templateObject3","AttendanceIcon","CalendarBtnIcon","_templateObject4","AttendanceVisitedBox","_templateObject5","MonthSwitchBox","_templateObject6","AttendancePeriod","_templateObject7","AttendanceBtn","_templateObject8","AttendanceArrowLeft","ArrowLeft","_templateObject9","AttendanceArrowRight","ArrowRight","_templateObject10","VisitedList","_templateObject11","VisitedItem","_templateObject12","VisitedText","_templateObject13","VisitedCounter","_templateObject14","VisitedTotal","_templateObject15","VisitedYearBox","_templateObject16","AttendancePointsBox","_templateObject17","AttendanceFlex","_templateObject18","AttendancePoints","_templateObject19","AttendancePointsContainer","_templateObject20","AttendanceDebugList","_templateObject21","Attendance","user","week","setWeek","Date","getDate","getDay","month","setMonth","getMonth","year","setYear","getFullYear","lessonDaysForWeek","SetLessonDaysForWeek","lessonDaysForMonth","SetLessonDaysForMonth","lessonDaysForYear","SetLessonDaysForYear","getLessonDaysForWeeks","date","sunday","lessonDays","setDate","push","toISOString","days","getLessonDaysForMonths","getLessonDaysForYears","editDateFormat","concat","calculateMonthlyVisits","passedMonth","lessonDaysForPassedMonth","map","lessonDay","visited","filter","split","includes","calculateSetWeeklyVisits","passedWeek","passedWeekLessonDays","passedDay","getLessonDaysOfPassedWeek","day","calculateWeeklyUnattended","currentDay","findIndex","futureDays","calculateMonthlyUnattended","_jsxs","disabled","onClick","decreaseWeek","className","calculateWeekPeriod","firstDayOfWeekDate","lastDayOfWeekDate","increaseWeek","calculatePoints","visitedWithinWeek","AttendancePlus","AttendanceMinus","AttendanceEmpty","calculateWeeklyVisits","style","color","decreaseMonth","firstDayOfPreviousMonth","visitedThisMonth","firstVisitedDayOfPreviousMonth","increaseMonth","firstDayOfNextMonth","firstVisitedDayOfNextMonth","calculateYearlyVisits","LessonFinder","lessons","setPlatformIframeLink","lessonsFound","setLessonsFound","isPdfPreviewOpen","setIsPdfPreviewOpen","openedPdf","setOpenedPdf","isFaqListOpen","setIsFaqListOpen","openedFaq","setOpenedFaq","answers","setAnswers","answersFound","setAnswersFound","isAnswerOpen","setIsAnswerOpen","openedAnswer","setOpenedAnswer","isInputEmpty","setIsInputEmpty","path","window","origin","pathname","findLesson","e","value","lesson","lessonLevelNumber","level","replace","trim","trimStart","keysEn","toLowerCase","keysUa","topic","lang","sessionStorage","setItem","findAnswer","answer","question","exercise","toggleTooltip","currentTarget","classList","toggle","closePdfPreviewOnMouseOut","console","log","pdf","isOpen","toggleAnswer","openAnswer","FinderBox","FinderLabel","FinderIcon","FinderInput","getItem","autoFocus","onFocus","onChange","placeholder","FinderLessons","LessonBox","LessonBoxItem","LessonTopBox","LessonValuesLogo","LessonTextValuesBox","LessonValueName","LessonLinksBox","LessonInternalLinkButton","onMouseEnter","onMouseOut","marathonId","pupilId","lessonId","InternalLinkIcon","LessonExternalLinkButton","open","ExternalLinkIcon","LessonValueTopic","video","LessonVideoBox","ReactPlayer","loop","muted","controls","display","position","top","left","url","PdfBox","onMouseLeave","PdfWrapper","openPdfPreviewOnHover","onTouchEnd","togglePdfPreviewOnTouch","pdfId","pdfOpener","PdfIcon","LessonValuePdfLink","rel","to","parse","PdfPreviewBackground","PdfPreview","faq","FaqBox","FaqListTrigger","_id","toggleFaq","FaqListDescription","FaqListQuestionMarkBG","FaqListQuestionMark","FaqSwitchUp","FaqSwitchDown","FaqFinderLabel","FaqFinderInput","FaqFinderIcon","FaqList","q","FaqListItem","FaqListLink","FaqQuestion","FaqPreviewBackground","FinderMolding","PointsBox","PointsBoxHeading","PointsCategoryPicker","PointsCategory","PointsCategoryPointer","PointsTableHead","PointsTableHeadItem","PointsTableHeadItemWide","PointsUser","PointsUserData","PointsUserDataWide","PointsLeaderboard","PointsLeader","LeaderPlace","UserPlace","CupIcon","CupBtnIcon","Points","flatPoints","flatMonthlyPoints","setPosition","activeRating","setActiveRating","pointsSorted","student","course","sort","a","b","points","userPlace","leader","mail","calculatePointerPosition","transform","name","nanoid","TimetableBox","TimetableHeading","TimetableBody","TimetableWebinars","TimetableWebinarsHead","TimetableSpeakings","TimetableLessonType","TimetableLessonLink","TimetableLessonLinkText","TimetableTable","TimetableHead","TimetableDaysItem","TimetableDaysCell","Timetable","timetable","personalTimetable","find","timeline","knowledge","link","getLink","baseStreamUrl","undefined","adult","package","speakingLink","getSpeakingLink","DAYS","href","schedule","type","backgroundColor","time","lessonNumber","teacher","MyAPPanel","marathonLink","montlyPoints","isMultipleCourses","setUser","isBackdropShown","setIsBackdropShown","isLessonFinderShown","setIsLessonFinderShown","isRatingShown","setIsRatingShown","isCalendarShown","setIsCalendarShown","isTimetableShown","setIsTimetableShown","isButtonBoxShown","setIsButtonBoxShown","isDisclaimerTimeoutActive","setIsDisclaimerTimeoutActive","values","flatMap","hideBackdrop","onEscapeClose","event","code","toggleTooltipTimeout","resetBtnEl","document","querySelector","setTimeout","add","remove","addEventListener","removeEventListener","PanelBackdrop","PanelHideSwitch","toggleButtonBox","isShown","PanelHideRightSwitch","PanelHideLeftSwitch","APPanel","IframeResetLinkButton","APPanelResetBtn","IframeSetLinkIcon","APPanelToggleBtn","index","IframeToggleLinkIcon","APPanelBtn","toggleSearch","SearchBtnIcon","toggleRating","toggleCalendar","toggleTimetable","MyAP","isUserLogged","setIsUserLogged","setLessons","setPoints","setTimetable","setMonthlyPoints","setPlatformLink","setMarathonLink","setIsMultipleCourses","axios","async","res","data","error","getLessons","rating","getRating","getTimetable","localStorage","isLogged","refreshToken","LINKS","en","pl","de","enkids","FREE_LINKS","kids","ena1","ena2","setIframeLinks","loginSchema","yup","shape","required","password","StreamSection","iframeLink","Formik","initialValues","onSubmit","resetForm","response","token","validationSchema","LoginForm","LeftFormBackgroundStar","RightFormBackgroundStar","LoginFormText","Label","AdminInput","AdminInputNote","component","AdminFormBtn"],"sourceRoot":""}