"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[1193],{7673:(n,e,a)=>{a.d(e,{Gh:()=>O,He:()=>X,Hx:()=>Y,Jc:()=>tn,Kq:()=>L,Lv:()=>W,OD:()=>U,P_:()=>F,Sb:()=>T,U0:()=>V,Xv:()=>$,aC:()=>G,aJ:()=>en,az:()=>E,bN:()=>an,hj:()=>B,jj:()=>nn,jr:()=>M,me:()=>K,vD:()=>R,x2:()=>Q});var t,o,i,r,l,d,p,s,c,x,m,h,g,Z,u,b,f,w,v,P,y,j,k,z,_,S,I,C,N=a(30168),q=a(97723),A=a(55705),H=a(19920),D=a(76487),J=a(37269);const L=D.ZP.section(t||(t=(0,N.Z)(["\n  height: max-content;\n  padding: 30px 20px;\n  display: flex;\n  align-items: flex-start;\n\n  gap: 30px;\n"]))),V=(0,D.ZP)(A.l0)(o||(o=(0,N.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),F=(0,D.ZP)(A.l0)(i||(i=(0,N.Z)(["\n  margin: 0 auto;\n\n  position: sticky;\n  top: 50%;\n\n  transform: translateY(-50%);\n\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),M=(0,D.ZP)(A.l0)(r||(r=(0,N.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n  max-width: 400px;\n\n  background-color: white;\n  padding: 24px;\n  border-radius: 24px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n"]))),O=(0,D.ZP)(q.Mg)(l||(l=(0,N.Z)(["\n  margin: 0 auto;\n  height: 48px;\n  padding: 0;\n"]))),R=(0,D.ZP)(q.II)(d||(d=(0,N.Z)(["\n  width: 240px;\n  padding: 8px 10px;\n  font-size: 16px;\n  height: 40px;\n  -webkit-text-stroke: 0px;\n\n  border: 2px solid var(--main-color);\n\n  &.error {\n    border-color: red;\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 360px;\n  }\n"]))),G=(0,D.ZP)(q.r2)(p||(p=(0,N.Z)(["\n  color: var(--main-color);\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),U=D.ZP.table(s||(s=(0,N.Z)(["\n  max-width: 50vw;\n  min-height: 80vh;\n  margin: 0 auto;\n\n  table-layout: auto;\n  width: 100%;\n\n  text-align: center;\n  border: 1px solid #000;\n  border-collapse: collapse;\n"]))),E=D.ZP.caption(c||(c=(0,N.Z)(["\n  caption-side: top;\n  margin-bottom: 60px;\n"]))),K=(D.ZP.span(x||(x=(0,N.Z)(["\n  font-size: 11px;\n"]))),D.ZP.tr(m||(m=(0,N.Z)(["\n  border: 1px solid #000;\n"])))),T=D.ZP.th(h||(h=(0,N.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n"]))),X=(D.ZP.div(g||(g=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  position: relative;\n"]))),D.ZP.td(Z||(Z=(0,N.Z)(["\n  border: 1px solid #000;\n  padding: 3px;\n  height: 3em;\n\n  &.last-name {\n    text-transform: capitalize;\n  }\n\n  &.attention {\n    color: red;\n  }\n\n  &.error {\n    background-color: #ff0000;\n  }\n"])))),Y=((0,D.ZP)(X)(u||(u=(0,N.Z)(["\n  text-align: start;\n  padding-left: 8px;\n  max-width: 50vw;\n"]))),D.ZP.button(b||(b=(0,N.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--accent-color);\n  border-radius: 5px;\n"])))),B=D.ZP.button(f||(f=(0,N.Z)(["\n  background-color: transparent;\n  border: 1px solid var(--main-color);\n  border-radius: 5px;\n"]))),Q=((0,D.ZP)(B)(w||(w=(0,N.Z)(["\n  &.banned {\n    border-color: #023020;\n  }\n  &.not_banned {\n    border-color: #8b0000;\n  }\n"]))),(0,D.ZP)(J.r)(v||(v=(0,N.Z)(["\n  width: 18px;\n  height: 12px;\n\n  color: #000;\n\n  transition: color var(--animation-global);\n\n  &:hover {\n    color: var(--main-color);\n  }\n"]))),D.ZP.div(P||(P=(0,N.Z)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n"]))),D.ZP.button(y||(y=(0,N.Z)(["\n  width: 100%;\n  text-transform: capitalize;\n"]))),D.ZP.p(j||(j=(0,N.Z)(["\n  font-size: 10px;\n  margin-bottom: 3px;\n  text-align: start;\n"])))),W=(0,D.ZP)(U)(k||(k=(0,N.Z)(["\n  max-width: 80vw;\n"]))),$=(0,D.ZP)(H.Ow)(z||(z=(0,N.Z)(["\n  border-radius: 50px;\n"]))),nn=D.ZP.p(_||(_=(0,N.Z)(["\n  color: var(--main-color);\n  text-align: center;\n  margin-top: 8px;\n  font-size: 12px;\n  font-weight: 500;\n  position: static;\n  max-width: 240px;\n\n  @media screen and (min-width: 768px) {\n    max-width: 360px;\n  }\n"]))),en=D.ZP.div(S||(S=(0,N.Z)(["\n  position: absolute;\n  top: 60px;\n  left: 50%;\n\n  display: flex;\n  gap: 16px;\n\n  transform: translateX(-50%);\n"]))),an=D.ZP.label(I||(I=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n  position: relative;\n"]))),tn=(0,D.ZP)(H.Ow)(C||(C=(0,N.Z)(["\n  width: 280px;\n  border-radius: 50px;\n"])))},42299:(n,e,a)=>{a.r(e),a.d(e,{default:()=>m});var t=a(55294),o=a(97723),i=a(8313),r=a(55705),l=a(19920),d=a(72791),p=a(8007),s=a(7673),c=a(80184);t.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const x=n=>{t.Z.defaults.headers.common.Authorization="Bearer ".concat(n)},m=()=>{const[n,e]=(0,d.useState)(!1),[a,m]=(0,d.useState)(!1),[h,g]=(0,d.useState)([]),[Z,u]=(0,d.useState)([]),[b,f]=(0,d.useState)({}),[w,v]=(0,d.useState)({}),P=[{label:"2024",value:"2024"},{label:"2025",value:"2025"}];(0,d.useEffect)((()=>{document.title="Teacher Admin Panel | AP Education";(async()=>{console.log("token refresher"),e((n=>!0));try{if(localStorage.getItem("isAdmin")){const n=await t.Z.post("admins/refresh/teachers/",{});x(n.data.newToken),console.log(n),m((n=>!0))}}catch(n){console.log(n)}finally{e((n=>!1))}})();(async()=>{e((n=>!0));try{if(a){const n=await t.Z.get("/teachers/");g((e=>[...n.data.reverse()]))}}catch(n){console.error(n)}finally{e((n=>!1))}})();(async()=>{e((n=>!0));try{if(a){const n=await t.Z.get("/speakingusers/admin");u((e=>[...n.data]))}}catch(n){console.error(n)}finally{e((n=>!1))}})()}),[a]);const y=p.Ry().shape({login:p.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:p.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),j=/\d{1,}\.\d{2}\.\d{4}/;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.Kq,{children:[!a&&(0,c.jsx)(r.J9,{initialValues:{login:"",password:""},onSubmit:async(n,a)=>{let{resetForm:o}=a;e((n=>!0));try{const a=await t.Z.post("/admins/login/teachers",n);x(a.data.token),m((n=>!0)),localStorage.setItem("isAdmin",!0),o()}catch(i){console.error(i)}finally{e((n=>!1))}},validationSchema:y,children:(0,c.jsxs)(s.U0,{children:[(0,c.jsxs)(o.__,{children:[(0,c.jsx)(s.vD,{type:"text",name:"login",placeholder:"Login"}),(0,c.jsx)(s.aC,{component:"p",name:"login"})]}),(0,c.jsxs)(o.__,{children:[(0,c.jsx)(s.vD,{type:"password",name:"password",placeholder:"Password"}),(0,c.jsx)(s.aC,{component:"p",name:"password"})]}),(0,c.jsx)(s.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),(0,c.jsxs)(s.aJ,{children:[(0,c.jsxs)(s.bN,{children:[b.value&&(0,c.jsx)(l.NV,{children:"\u041c\u0456\u0441\u044f\u0446\u044c"}),(0,c.jsx)(s.Jc,{options:[{label:"\u0421\u0456\u0447\u0435\u043d\u044c",value:"1"},{label:"\u041b\u044e\u0442\u0438\u0439",value:"2"},{label:"\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c",value:"3"},{label:"\u041a\u0432\u0456\u0442\u0435\u043d\u044c",value:"4"},{label:"\u0422\u0440\u0430\u0432\u0435\u043d\u044c",value:"5"},{label:"\u0427\u0435\u0440\u0432\u0435\u043d\u044c",value:"6"},{label:"\u041b\u0438\u043f\u0435\u043d\u044c",value:"7"},{label:"\u0421\u0435\u0440\u043f\u0435\u043d\u044c",value:"8"},{label:"\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c",value:"9"},{label:"\u0416\u043e\u0432\u0442\u0435\u043d\u044c",value:"10"},{label:"\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434",value:"11"},{label:"\u0413\u0440\u0443\u0434\u0435\u043d\u044c",value:"12"}],styles:{control:(n,e)=>({...n,border:"none",borderRadius:"50px",minHeight:"34px"}),menu:(n,e)=>({...n,position:"absolute",zIndex:"2",top:"36px"}),dropdownIndicator:(n,e)=>({...n,padding:"7px"})},placeholder:"\u041c\u0456\u0441\u044f\u0446\u044c",name:"month",onChange:n=>{f(n)}})]}),(0,c.jsxs)(l.L8,{children:[w.value&&(0,c.jsx)(l.NV,{children:"\u0420\u0456\u043a"}),(0,c.jsx)(s.Jc,{options:P,styles:{control:(n,e)=>({...n,border:"none",borderRadius:"50px",minHeight:"34px"}),menu:(n,e)=>({...n,position:"absolute",zIndex:"2",top:"36px"}),dropdownIndicator:(n,e)=>({...n,padding:"7px"})},placeholder:"\u0420\u0456\u043a",name:"year",onChange:n=>{v(n)},defaultValue:P.find((n=>+n.value===(new Date).getFullYear()))})]})]}),a&&h.length&&(0,c.jsxs)(s.Lv,{children:[(0,c.jsx)(s.az,{children:b.value?"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0456\u0447\u0435\u0440\u0456\u0432 \u0442\u0430 \u0457\u0445 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 (\u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439, \u0437\u0430 ".concat(b.label," ").concat(w.label," \u0440\u043e\u043a\u0443)"):"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0456\u0447\u0435\u0440\u0456\u0432 \u0442\u0430 \u0457\u0445 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 (\u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439)"}),(0,c.jsx)("thead",{children:(0,c.jsxs)(s.me,{children:[(0,c.jsx)(s.Sb,{children:"\u0422\u0456\u0447\u0435\u0440"}),(0,c.jsx)(s.Sb,{children:"\u0412\u0456\u0434\u0433\u0443\u043a\u0438"})]})}),(0,c.jsx)("tbody",{children:h.sort(((n,e)=>n.name.localeCompare(e.name))).map(((n,e)=>(0,c.jsxs)(s.me,{children:[(0,c.jsx)(s.He,{children:n.name},"\u0422\u0456\u0447\u0435\u0440"+n._id),(0,c.jsx)(s.He,{children:Z.filter((e=>e.feedback.some((e=>e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))))).sort(((n,e)=>n.name.localeCompare(e.name))).map((e=>({_id:e._id,name:e.name,feedback:e.feedback.filter((e=>(e.includes(n.name)||e.includes(n.name.split(" ").reverse().join(" ")))&&e.includes("".concat(b,".").concat(w))))}))).flatMap((n=>n.feedback.map((e=>"\u0434\u043b\u044f ".concat(n.name,") ").concat(e))))).map((n=>(0,c.jsx)(s.x2,{children:n.length>200?"(\u0412\u0456\u0434\u0433\u0443\u043a \u0432\u0456\u0434 ".concat(n.match(j)," ").concat(n.slice(0,200),"..."):"(\u0412\u0456\u0434\u0433\u0443\u043a \u0432\u0456\u0434 ".concat(n.match(j)," ").concat(n)})))},"\u0412\u0456\u0434\u0433\u0443\u043a ".concat(e," ").concat(n._id))]})))})]}),n&&(0,c.jsx)(i.a,{})]})})}},35367:(n,e,a)=>{a.d(e,{NZ:()=>_,Nc:()=>N,Sq:()=>I,bH:()=>S,ih:()=>A,pv:()=>C,tA:()=>q,xA:()=>k,zN:()=>z});var t,o,i,r,l,d,p,s,c,x,m,h,g,Z,u,b,f,w=a(30168),v=a(97723),P=a(55705),y=a(76487),j=a(94662);y.ZP.section(t||(t=(0,w.Z)(["\n  height: max-content;\n  padding: 30px 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),(0,y.ZP)(P.l0)(o||(o=(0,w.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 35px;\n"]))),(0,y.ZP)(P.l0)(i||(i=(0,w.Z)(["\n  margin: 0 auto;\n\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n"]))),(0,y.ZP)(v.Mg)(r||(r=(0,w.Z)(["\n  margin: 0 auto;\n"]))),(0,y.ZP)(v.II)(l||(l=(0,w.Z)(["\n  border: 2px solid var(--main-color);\n"]))),(0,y.ZP)(v.II)(d||(d=(0,w.Z)(["\n  border-radius: 0;\n  width: 35vw;\n  height: 75vh;\n  scrollbar-width: thin;\n  background-color: transparent;\n"]))),(0,y.ZP)(v.r2)(p||(p=(0,w.Z)(["\n  position: static;\n  color: var(--main-color);\n  font-size: 24px;\n  font-weight: 700;\n  bottom: -1.1em;\n"])));const k=y.ZP.ul(s||(s=(0,w.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 14px;\n\n  text-transform: capitalize;\n  font-weight: 600;\n  margin-left: auto;\n"]))),z=y.ZP.h2(c||(c=(0,w.Z)(["\n  font-size: 32px;\n  text-align: center;\n  margin-bottom: 12px;\n"]))),_=y.ZP.li(x||(x=(0,w.Z)(["\n  width: 100%;\n  flex-basis: 40%;\n  flex-grow: 0;\n"]))),S=y.ZP.ul(m||(m=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),I=y.ZP.li(h||(h=(0,w.Z)(["\n  font-size: 14px;\n  font-weight: 400;\n  display: flex;\n  gap: 20px;\n  justify-content: space-between;\n  padding-bottom: 5px;\n  border-bottom: 1px solid black;\n"]))),C=y.ZP.span(g||(g=(0,w.Z)(["\n  min-width: 24px;\n"]))),N=y.ZP.span(Z||(Z=(0,w.Z)(["\n  min-width: 120px;\n  text-align: center;\n"]))),q=y.ZP.span(u||(u=(0,w.Z)(["\n  min-width: 100px;\n  text-align: center;\n"]))),A=(y.ZP.p(b||(b=(0,w.Z)(["\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n"]))),(0,y.ZP)(j.ZP)(f||(f=(0,w.Z)(["\n  width: 100%;\n  font-size: 14px;\n  border: 2px solid var(--main-color);\n\n  line-height: 1;\n\n  @media screen and (min-width: 768px) {\n    font-size: 19px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))))},19920:(n,e,a)=>{a.d(e,{DZ:()=>f,Fd:()=>y,L8:()=>w,NV:()=>P,Ow:()=>j,m6:()=>v,qG:()=>k,zi:()=>z});var t,o,i,r,l,d,p,s,c=a(30168),x=a(97723),m=a(55705),h=a(17102),g=a(35367),Z=a(59513),u=a.n(Z),b=a(76487);const f=(0,b.ZP)(m.l0)(t||(t=(0,c.Z)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: calc(100vw - 20px);\n  max-width: 400px;\n\n  background-color: white;\n  padding: 16px;\n  border-radius: 16px;\n\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n\n  & .react-datepicker__tab-loop {\n    margin-top: -6px;\n  }\n\n  & .react-datepicker-popper {\n    z-index: 2;\n  }\n\n  @media screen and (min-height: 960px) {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100%;\n    transform: translate(-50%, -50%);\n\n    padding: 16px 24px;\n    border-radius: 24px;\n\n    gap: 9px;\n  }\n\n  @media screen and (min-height: 960px) {\n    & .react-datepicker__tab-loop {\n      margin-top: -9px;\n    }\n  }\n"]))),w=b.ZP.label(o||(o=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  width: 100%;\n  position: relative;\n\n  &:first-child {\n    padding-top: 4px;\n  }\n"]))),v=(0,b.ZP)(u())(i||(i=(0,c.Z)(["\n  width: 100%;\n  max-height: 38px;\n  padding: 10px;\n  border: 2px solid var(--main-color);\n\n  @media screen and (min-width: 960px) {\n    font-size: 16px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: var(--secondary-burnt-color);\n    outline: transparent;\n  }\n"]))),P=b.ZP.span(r||(r=(0,c.Z)(["\n  position: absolute;\n  top: -5.5px;\n  left: 10px;\n  z-index: 1;\n  background-color: white;\n\n  font-size: 10px;\n  display: block;\n  padding: 1px;\n\n  @media screen and (min-height: 960px) {\n    top: -8px;\n    font-size: 12px;\n    padding: 2px;\n  }\n"]))),y=(0,b.ZP)(P)(l||(l=(0,c.Z)(["\n  position: absolute;\n  top: 0px;\n  left: 10px;\n  z-index: 1;\n  background-color: white;\n\n  font-size: 10px;\n  display: block;\n  padding: 1px;\n\n  @media screen and (min-height: 960px) {\n    top: 1px;\n    padding: 2px;\n    font-size: 12px;\n  }\n"]))),j=(0,b.ZP)(g.ih)(d||(d=(0,c.Z)(["\n  font-size: 16px;\n"]))),k=(0,b.ZP)(x.Mg)(p||(p=(0,c.Z)(["\n  margin: 0 auto;\n  padding: 12px;\n  height: auto;\n\n  @media screen and (min-width: 768px) {\n    padding: 16px;\n    letter-spacing: 0.6px;\n  }\n"]))),z=(0,b.ZP)(h.aC)(s||(s=(0,c.Z)(["\n  color: red;\n"])))}}]);
//# sourceMappingURL=Teacher Control page.8160b65a.chunk.js.map