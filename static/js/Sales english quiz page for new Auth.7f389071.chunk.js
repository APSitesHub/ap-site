"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[8825],{3867:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(2791),a=n(1005),s=n(2122),i=n(2719),c=n(4820),u=n(7175),l=n(6793),d=n(1445),o=n(2474),x=n(8970),m=n(184);const h=e=>{let{utms:t}=e;const[n,h]=(0,r.useState)(0),[g,j]=(0,r.useState)(!1),p=(0,r.useRef)(),q=e=>{e.currentTarget.classList.add("chosen"),p.current.adult&&j(!1),h((e=>e+1))},w=()=>{h((e=>e-1))},v=()=>{h((e=>e+1))};return(0,m.jsxs)(m.Fragment,{children:[0===n&&(0,m.jsx)(x.l,{beginQuiz:()=>{h(1),p.current={pipeline_id:6453287},p.current.lang="en",p.current.utm_content=t.utm_content,p.current.utm_medium=t.utm_medium,p.current.utm_campaign=t.utm_campaign,p.current.utm_source=t.utm_source,p.current.utm_term=t.utm_term,p.current.utm_referrer=t.utm_referrer,p.current.referrer=t.referrer,p.current.gclientid=t.gclientid,p.current.gclid=t.gclid,p.current.fbclid=t.fbclid},lang:"en"}),1===n&&(0,m.jsx)(d.Y,{activeSlide:n,continueQuiz:q,continueQuizForChild:e=>{j(!0),q(e)},previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),2===n&&(0,m.jsx)(a.B,{activeSlide:n,isChild:g,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),3===n&&(0,m.jsx)(u.b,{activeSlide:n,isChild:g,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),4===n&&(0,m.jsx)(l.D,{activeSlide:n,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),5===n&&(0,m.jsx)(s.s,{activeSlide:n,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),6===n&&(0,m.jsx)(c.Z,{activeSlide:n,continueQuiz:q,previousQuestion:w,nextQuestion:v,quizValues:p,lang:"en"}),7===n&&(0,m.jsx)(i.w,{nextQuestion:v,quizValues:p,activeSlide:n,previousQuestion:w,lang:"en"}),8===n&&(0,m.jsx)(o.O,{})]})}},2719:(e,t,n)=>{n.d(t,{w:()=>x});var r=n(5294),a=n(7723),s=n(8313),i=n(5705),c=n(2791),u=n(8007),l=n(10),d=n(6739),o=n(184);r.Z.defaults.baseURL="http://localhost:5000";const x=e=>{let{nextQuestion:t,quizValues:n,activeSlide:x,previousQuestion:m,lang:h}=e;const[g,j]=(0,c.useState)(!1),p={name:"",authCode:n.current.authCode,mail:n.current.mail,password:n.current.password,tag:n.current.tag,lang:n.current.lang,adult:n.current.adult,age:n.current.age,knowledge:n.current.knowledge,quantity:n.current.quantity,difficulties:n.current.difficulties,interests:n.current.interests,crmId:n.current.crmId,contactId:n.current.contactId},q=u.Ry().shape({name:u.Z_().required("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u0456\u043c'\u044f!").matches(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0456\u0406\u0457\u0407\u0454\u0404]/,"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0456\u043c'\u044f, \u0431\u0435\u0437 \u0446\u0438\u0444\u0440 \u0442\u0430 \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!").min(2,"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435 \u043c\u0435\u043d\u0448\u0435 \u043d\u0456\u0436 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0438!").max(50,"\u041d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0456\u0436 50 \u0441\u0438\u043c\u0432\u043e\u043b\u0456\u0432!"),authCode:u.Z_().required(),mail:u.Z_().required(),password:u.Z_().required(),tag:u.Z_().required(),lang:u.Z_().required(),adult:u.O7().required(),age:u.Z_().required(),knowledge:u.Z_().required(),quantity:u.Z_().required(),difficulties:u.Z_().required(),interests:u.Z_().required(),crmId:u.Rx().required(),contactId:u.Rx().required()}),w=()=>{console.log((0,i.u6)());const{values:e,isValid:t,submitForm:r}=(0,i.u6)();return(0,o.jsx)(d.OB,{href:n.current.leadPage,onClick:async a=>{a.preventDefault(),console.log(t),e.name&&t&&(console.log("valid"),await r(),setTimeout((()=>{j((e=>!1)),window.location.replace(n.current.leadPage)}),1500))},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043c\u0435\u0441\u0435\u043d\u0434\u0436\u0435\u0440"})};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(d.$_,{children:[(0,o.jsx)(d.TR,{}),(0,o.jsx)(d.Dx,{children:"\u041c\u0430\u0439\u0436\u0435 \u0433\u043e\u0442\u043e\u0432\u043e!"}),(0,o.jsxs)(d.dk,{children:["\u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e ",h?"\u043f\u0440\u043e\u0431\u043d\u0438\u0445 \u0437\u0430\u043d\u044f\u0442\u044c":"\u043c\u0430\u0440\u0430\u0444\u043e\u043d\u0443",", \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u043e\u0454 \u0456\u043c\u2019\u044f \u0456 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u0442\u0430 \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0443 \u0437\u0440\u0443\u0447\u043d\u0438\u0439 \u0434\u043b\u044f \u0432\u0430\u0441 \u043c\u0435\u0441\u0435\u043d\u0434\u0436\u0435\u0440."]}),(0,o.jsx)(i.J9,{initialValues:p,onSubmit:async(e,t)=>{let{resetForm:a}=t;j((e=>!0));try{const t=await r.Z.patch("/leads/quiz-code/".concat(n.current.crmId),e);console.log(t),console.log(t.data.crmId,t.data.contactId),(async(t,a)=>{const s={name:e.name.trim().trimStart(),mail:e.mail,authCode:e.authCode,password:e.password,pupilId:"0000000",crmId:t,contactId:a,age:n.current.age,lang:"en"!==n.current.lang||n.current.adult?n.current.lang:"enkids",course:"0",package:"\u041c\u0430\u0440\u0430\u0444\u043e\u043d",knowledge:n.current.knowledge,manager:"-"};try{const e=await r.Z.post("/users/new",s);console.log(e)}catch(i){console.error(i)}})(t.data.crmId,t.data.contactId),setTimeout((()=>{a()}),1500)}catch(s){console.error(s)}},validationSchema:q,children:(0,o.jsxs)(l.ag,{children:[(0,o.jsx)(l.RF,{}),(0,o.jsx)(a.Ck,{children:(0,o.jsxs)(a.__,{children:[(0,o.jsx)(d.Zq,{type:"text",name:"name",placeholder:"\u0406\u043c'\u044f*"}),(0,o.jsx)(a.r2,{component:"p",name:"name"})]})}),(0,o.jsx)(a.x1,{type:"text",name:"tag"}),(0,o.jsx)(a.x1,{type:"text",name:"lang"}),(0,o.jsx)(a.x1,{type:"text",name:"adult"}),(0,o.jsx)(a.x1,{type:"text",name:"age"}),(0,o.jsx)(a.x1,{type:"text",name:"knowledge"}),(0,o.jsx)(a.x1,{type:"text",name:"quantity"}),(0,o.jsx)(a.x1,{type:"text",name:"difficulties"}),(0,o.jsx)(a.x1,{type:"text",name:"interests"}),(0,o.jsx)(w,{}),g&&(0,o.jsx)(s.a,{})]})}),(0,o.jsx)(d.kM,{})," ",(0,o.jsx)(d.gl,{}),(0,o.jsx)(d.lf,{})," ",(0,o.jsx)(d.BQ,{}),(0,o.jsxs)(d.tl,{children:[(0,o.jsx)(d.Cw,{className:x-1<1&&"disabled",disabled:x-1<1&&!0,onClick:m,children:(0,o.jsx)(d.hM,{})}),(0,o.jsxs)(d.Tp,{children:[(0,o.jsx)(d.Ck,{children:x}),"/",h?7:8]}),(0,o.jsx)(d.p3,{className:"hidden",onClick:t,children:(0,o.jsx)(d.pX,{})})]})]})})}},7175:(e,t,n)=>{n.d(t,{b:()=>h});var r=n(5294),a=n(8313),s=n(2791),i=n(7689),c=n(5648),u=n(708),l=n(6521),d=n(1692),o=n(5401),x=n(6739),m=n(184);const h=e=>{var t,n,h,g,j,p;let{activeSlide:q,isChild:w,continueQuiz:v,previousQuestion:z,nextQuestion:k,quizValues:y,lang:Q}=e;const[_,f]=(0,s.useState)(!1),[C,b]=(0,s.useState)(""),S=(e=>{switch(e){case"/quiz-code":case"/quiz-code/":return"quiz-code";case"/quiz-en-code":case"/quiz-en-code/":return"quiz-en-code";case"/quiz-de-code":case"/quiz-de-code/":return"quiz-de-code";case"/quiz-pl-code":case"/quiz-pl-code/":return"quiz-pl-code"}})((0,i.TH)().pathname),I=Math.floor(1e4*Math.random()).toString(),Z=Math.floor(1e4*Math.random()).toString(),V=Math.floor(1e6*Math.random()).toString();y.current.tag=S,y.current.mail=I.length<4?"marathon-ap0".concat(I,"@ap.edu"):"marathon-ap".concat(I,"@ap.edu"),y.current.password=Z.length<4?"0"+Z:Z,y.current.authCode=V.length<6?"0"+V:V;const R=async()=>{f((e=>!0));try{f((e=>!0));const e=await r.Z.post("/leads/quiz-int",y.current);console.log(e.data),y.current.leadPage=e.data.engPage,y.current.crmId=e.data.crmId,y.current.contactId=e.data.contactId,console.log(y.current)}catch(e){console.error(e),b((t=>e))}finally{f((e=>!1)),k()}},T=(e,t)=>{y.current.knowledge=t,y.current.leadPage&&v(e)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(x.$_,{children:[(0,m.jsx)(x.TR,{}),(0,m.jsx)(x.Yc,{children:w?"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0440\u0456\u0432\u0435\u043d\u044c \u0434\u0438\u0442\u0438\u043d\u0438":"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0432\u0430\u0448 \u0440\u0456\u0432\u0435\u043d\u044c"}),(0,m.jsxs)(x.Nl,{children:["\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0440\u0456\u0432\u0435\u043d\u044c \u0442\u0430 \u043e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 \u0433\u0430\u0440\u0430\u043d\u0442\u043e\u0432\u0430\u043d\u0456"," ",(0,m.jsx)(x.Ro,{children:"\u043f\u043e\u0434\u0430\u0440\u0443\u043d\u043a\u0438"})," \u0432 \u043a\u0456\u043d\u0446\u0456 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043d\u043d\u044f",(0,m.jsx)(x.QE,{src:l,alt:"Present emoji",width:"30"})]}),(0,m.jsxs)(x.Tx,{children:[(0,m.jsx)(x.Ub,{onClick:async e=>{T(e,"a0"),await R()},className:"a0"===(null===(t=y.current)||void 0===t?void 0:t.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:o,alt:"Running man emoji",width:"21"}),"\u041d\u0443\u043b\u044c\u043e\u0432\u0438\u0439"]})}),(0,m.jsx)(x.Ub,{onClick:async e=>{T(e,"a1"),await R()},className:"a1"===(null===(n=y.current)||void 0===n?void 0:n.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:c,alt:"Face in glasses emoji",width:"21"}),"\u041f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0439"]})}),(0,m.jsx)(x.Ub,{onClick:async e=>{T(e,"a2"),await R()},className:"a2"===(null===(h=y.current)||void 0===h?void 0:h.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:u,alt:"Alumni hat emoji",width:"21"}),"\u0421\u0435\u0440\u0435\u0434\u043d\u0456\u0439"]})}),"en"===y.current.lang&&y.current.adult&&(0,m.jsx)(x.Ub,{onClick:async e=>{T(e,"b1"),await R()},className:"b1"===(null===(g=y.current)||void 0===g?void 0:g.knowledge)&&"chosen",children:(0,m.jsxs)(x.OU,{children:[(0,m.jsx)(x.dy,{src:d,alt:"Prize cup emoji",width:"21"}),"\u0412\u0438\u0441\u043e\u043a\u0438\u0439"]})})]}),C,(0,m.jsx)(x.Sg,{}),(0,m.jsx)(x.TQ,{}),(0,m.jsx)(x.lf,{}),(0,m.jsxs)(x.tl,{children:[(0,m.jsx)(x.Cw,{className:q-1<1&&"disabled",disabled:q-1<1&&!0,onClick:z,children:(0,m.jsx)(x.hM,{})}),(0,m.jsxs)(x.Tp,{children:[(0,m.jsx)(x.Ck,{children:q}),"/",Q?7:8]}),(0,m.jsx)(x.p3,{className:q+1>1&&!(null!==(j=y.current)&&void 0!==j&&j.knowledge)&&"disabled",disabled:q+1>1&&!(null!==(p=y.current)&&void 0!==p&&p.knowledge)&&!0,onClick:k,children:(0,m.jsx)(x.pX,{})})]}),_&&(0,m.jsx)(a.a,{})]})})}}}]);
//# sourceMappingURL=Sales english quiz page for new Auth.7f389071.chunk.js.map