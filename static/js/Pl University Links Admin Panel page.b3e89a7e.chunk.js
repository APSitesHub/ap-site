"use strict";(self.webpackChunkap_education=self.webpackChunkap_education||[]).push([[414],{93403:(e,s,o)=>{o.r(s),o.d(s,{default:()=>d});var i=o(55294),t=o(97723),a=o(8313),n=o(55705),r=o(72791),p=o(8007),l=o(17102),c=o(80184);i.Z.defaults.baseURL="https://ap-server-8qi1.onrender.com";const m=e=>{i.Z.defaults.headers.common.Authorization="Bearer ".concat(e)},d=()=>{const[e,s]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1);(0,r.useEffect)((()=>{document.title="Uni Link Admin Panel | AP Education";(async()=>{console.log("token refresher");try{if(localStorage.getItem("isAdmin")){const e=await i.Z.post("admins/refresh/",{});console.log(e),d((e=>!0)),m(e.data.newToken)}}catch(e){console.log(e)}})()}),[o]);const _=p.Ry().shape({login:p.Z_().required("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043b\u043e\u0433\u0456\u043d!"),password:p.Z_().required("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c!")}),j=p.Ry().shape({pedagogium_logistics:p.Z_().optional(),pedagogium_prep:p.Z_().optional(),wstijo_logistics:p.Z_().optional(),wstijo_prep:p.Z_().optional(),wsbmir_logistics:p.Z_().optional(),wsbmir_prep:p.Z_().optional(),ewspa_logistics:p.Z_().optional(),ewspa_prep:p.Z_().optional(),merito_logistics:p.Z_().optional(),merito_prep:p.Z_().optional()});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(l.Kq,{children:[!o&&(0,c.jsx)(n.J9,{initialValues:{login:"",password:""},onSubmit:async(e,o)=>{let{resetForm:t}=o;s((e=>!0));try{const o=await i.Z.post("/admins/login",e);m(o.data.token),d((e=>!0)),localStorage.setItem("isAdmin",!0),t()}catch(a){console.error(a)}finally{s((e=>!1))}},validationSchema:_,children:(0,c.jsxs)(l.U0,{children:[(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"login",placeholder:"Login"}),(0,c.jsx)(l.aC,{component:"p",name:"login"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"password",name:"password",placeholder:"Password"}),(0,c.jsx)(l.aC,{component:"p",name:"password"})]}),(0,c.jsx)(l.Gh,{type:"submit",children:"\u0417\u0430\u043b\u043e\u0433\u0456\u043d\u0438\u0442\u0438\u0441\u044c"})]})}),o&&(0,c.jsx)(n.J9,{initialValues:{pedagogium_logistics:"",pedagogium_prep:"",wstijo_logistics:"",wstijo_prep:"",wsbmir_logistics:"",wsbmir_prep:"",ewspa_logistics:"",ewspa_prep:"",merito_logistics:"",merito_prep:""},onSubmit:async(e,o)=>{let{resetForm:t}=o;s((e=>!0));try{const o=await i.Z.patch("/unilinks",e);console.log(o),t(),alert("\u041b\u0456\u043d\u043a\u0438 \u0437\u0430\u043c\u0456\u043d\u0438\u043b\u0438\u0441\u044f, \u043c\u043e\u043b\u043e\u0434\u0435\u0446\u044c")}catch(a){console.error(a),alert("\u0429\u043e\u0441\u044c \u043d\u0435 \u043f\u0440\u043e\u043a\u043d\u0443\u043b\u043e!")}finally{s((e=>!1))}},validationSchema:j,children:(0,c.jsxs)(l.Od,{children:[(0,c.jsxs)(l.Sj,{children:[(0,c.jsx)(l.XG,{children:"Pedagogium (Wy\u017csza Szko\u0142a Nauk Spo\u0142ecznych)"}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"pedagogium_logistics",placeholder:"Pedagogium Logistics"}),(0,c.jsx)(l.aC,{component:"p",name:"pedagogium"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"pedagogium_prep",placeholder:"Pedagogium Przygotowawczy Kurs"}),(0,c.jsx)(l.aC,{component:"p",name:"pedagogium"})]})]}),(0,c.jsxs)(l.Sj,{children:[(0,c.jsx)(l.XG,{children:"WSTIJO (Wyzsza Szko\u0142a Turystyki i Jezykow Obcych w Warszawie)"}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"wstijo_logistics",placeholder:"WSTIJO Logistics"}),(0,c.jsx)(l.aC,{component:"p",name:"wstijo_logistics"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"wstijo_prep",placeholder:"WSTIJO Przygotowawczy Kurs"}),(0,c.jsx)(l.aC,{component:"p",name:"wstijo_prep"})]})]}),(0,c.jsxs)(l.Sj,{children:[(0,c.jsx)(l.XG,{children:"WSBMIR (Wy\u017csza Szko\u0142a Biznesu, Medi\xf3w i Reklamy)"}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"wsbmir_logistics",placeholder:"WSBMIR Logistics"}),(0,c.jsx)(l.aC,{component:"p",name:"wsbmir_logistics"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"wsbmir_prep",placeholder:"WSBMIR Przygotowawczy Kurs"}),(0,c.jsx)(l.aC,{component:"p",name:"wsbmir_prep"})]})]}),(0,c.jsxs)(l.Sj,{children:[(0,c.jsx)(l.XG,{children:"EWSPA (Wy\u017csza Szko\u0142a Biznesu, Medi\xf3w i Reklamy)"}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"ewspa_logistics",placeholder:"EWSPA Logistics"}),(0,c.jsx)(l.aC,{component:"p",name:"ewspa_logistics"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"ewspa_prep",placeholder:"EWSPA Przygotowawczy Kurs"}),(0,c.jsx)(l.aC,{component:"p",name:"ewspa_prep"})]})]}),(0,c.jsxs)(l.Sj,{children:[(0,c.jsx)(l.XG,{children:"Merito (Uniwersytet WSB Merito Warszawa)"}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"merito_logistics",placeholder:"Merito Logistics"}),(0,c.jsx)(l.aC,{component:"p",name:"merito_logistics"})]}),(0,c.jsxs)(t.__,{children:[(0,c.jsx)(l.vD,{type:"text",name:"merito_prep",placeholder:"Merito Preparation Course"}),(0,c.jsx)(l.aC,{component:"p",name:"merito_prep"})]})]}),(0,c.jsx)(l.Gh,{type:"submit",children:"\u0417\u0430\u043c\u0456\u043d\u0438\u0442\u0438 \u043b\u0456\u043d\u043a\u0438"})]})}),e&&(0,c.jsx)(a.a,{})]})})}}}]);
//# sourceMappingURL=Pl University Links Admin Panel page.b3e89a7e.chunk.js.map